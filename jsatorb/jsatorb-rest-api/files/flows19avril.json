[
    {
        "id": "107c9bc.328b364",
        "type": "tab",
        "label": "START MCS Docker",
        "disabled": false,
        "info": ""
    },
    {
        "id": "dd1202fd.a2e23",
        "type": "tab",
        "label": "Time Setter Docker",
        "disabled": false,
        "info": ""
    },
    {
        "id": "3913ac76.e7a7a4",
        "type": "tab",
        "label": "Ground-station Docker",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7c68352c.1b47bc",
        "type": "tab",
        "label": "VTS_Propagator Docker",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6ac37828.4c7288",
        "type": "tab",
        "label": "Antenna Tracker Docker",
        "disabled": false,
        "info": ""
    },
    {
        "id": "73572cf1.6e2304",
        "type": "tab",
        "label": "Constellation Docker",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c852882eb324b626",
        "type": "tab",
        "label": "Ergol Calculator - BLUE-RED",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a9c7c6499fb06192",
        "type": "tab",
        "label": "Maneuver Manager",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9fc2d0daadf97d1e",
        "type": "tab",
        "label": "Earth_Observation_Manager",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4ddfcb5d4ffd885f",
        "type": "tab",
        "label": "Mean movement",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7041cc0d.5676f4",
        "type": "group",
        "z": "107c9bc.328b364",
        "name": "Main Buttons to manage the MCS",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "f225da6f.835808",
            "cb0fed7.3a64e1"
        ],
        "x": 78,
        "y": 173,
        "w": 724,
        "h": 488
    },
    {
        "id": "8b9773b.b33289",
        "type": "group",
        "z": "107c9bc.328b364",
        "name": "Logo to display in dashboards",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "7526a5fd.25462c",
            "6ad25ff1.2d9c5",
            "1d1c8521.cf142b",
            "37361282.bab14e"
        ],
        "x": 814,
        "y": 99,
        "w": 372,
        "h": 162
    },
    {
        "id": "1fd96d24.c576c3",
        "type": "group",
        "z": "3913ac76.e7a7a4",
        "name": "Remove a ground station from databases",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "830078cd.5ce018",
            "80466439.be38c8",
            "cc07039e.b636d",
            "95062db2.f9d1d",
            "883d17a2.efed38",
            "4a4284af.a91d7c"
        ],
        "x": 94,
        "y": 399,
        "w": 912,
        "h": 182
    },
    {
        "id": "312c8fe7.75cef",
        "type": "group",
        "z": "3913ac76.e7a7a4",
        "name": "When angular database is complete, write a .TXT file for each ground station with angular data",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "7f54d608.f66d18",
            "71548a7e.e894d4",
            "725004f9.2e6f1c",
            "550ae2ac.c7d07c",
            "783d60bf.56ed4",
            "fcb2e5a3.0e2f78",
            "fe49e6f5.8df938",
            "a71e2b4c.233488",
            "9a1fe386.f5e59",
            "a4ff9b34.579b18",
            "6eba071.10a38f8",
            "efe2c69b.fd76d8",
            "9c64b4eb.3ee8b8",
            "601c3227.d4d72c",
            "1e6e1bc5.0f5834",
            "520c3859.aa50c8",
            "eb2aa14e.a61f4",
            "b3db7416.4787d8",
            "dcefc108.5f804",
            "e6efdf13.cfcb6",
            "ce1d15e8.6c1078",
            "11567371c0f67cc9"
        ],
        "x": 84,
        "y": 619,
        "w": 3332,
        "h": 262
    },
    {
        "id": "b6d29b3c.89b878",
        "type": "group",
        "z": "3913ac76.e7a7a4",
        "name": "Fill the Ground Station database",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "e57e953b.7cd0a8",
            "edd76d7d.08bdb",
            "507d36b2.5917f8",
            "de5fe0c8.0d6bb",
            "90bc963d.ab5238"
        ],
        "x": 94,
        "y": 219,
        "w": 912,
        "h": 122
    },
    {
        "id": "d02d39d9.704b38",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "Notification message preparation for Dashboard",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "8c66adb9.78a24",
            "ccc1c309.94261",
            "f4e8516e.d638a",
            "97bf463.9b785b8",
            "8be87eed.6b61d",
            "3ebdce04.545c52",
            "82142810.e8ee98",
            "c02b28f9.44f608",
            "f48249b.dec28b8",
            "becd8ee3.9efcd",
            "bd944618.65d4c8"
        ],
        "x": 2604,
        "y": 4479,
        "w": 632,
        "h": 442
    },
    {
        "id": "1e404e3b.14ce32",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "Store and display current TLE",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "b538102e.235bb",
            "eea2e68b.c73728",
            "f9ce7744.af89a8",
            "287ac47f.0441ac"
        ],
        "x": 1474,
        "y": 79,
        "w": 352,
        "h": 182
    },
    {
        "id": "c6dcd18b.ea624",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "Prepare query for JSatOrb API REST with TLE, ground stations and time data",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "a10e1e99.b755e",
            "cf21d2b3.0c5d9",
            "f48c422f.86566",
            "8f9784ae.86ddc8",
            "b6ca8b9b.ec16d8",
            "86ee657f.dfff28",
            "d25089c5.16ad98",
            "804d4875e2f1648a",
            "64e005a8c862bfaf",
            "ed91f7078814f403",
            "8d2d46d99b3c70d1",
            "acce30040d483650",
            "6f5ae58615d925eb",
            "00e423d5cecf63ac",
            "48fac77f27ebe694",
            "cd235fc9d45bd07e",
            "d220bc3808928eb3",
            "7edb0b79e9981fac",
            "5bfdeb3df1dc8e7e",
            "f2107460f7852ca0",
            "0fe194477cfd115a"
        ],
        "x": 1894,
        "y": 19,
        "w": 1212,
        "h": 382
    },
    {
        "id": "5293fd84.fa1844",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "Query for JSatOrb API REST to update VTS files",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "84fbfb29.95cd58",
            "f724ce42.a2232",
            "58ea7c57.11f754",
            "a5bc4015.3f8fa",
            "3dce35b.ba5adca",
            "105fdd91.9d22d2",
            "e8df78b.012af88",
            "4de09aa7.179f04",
            "26627082a406277b",
            "79a8517a3d50ba46"
        ],
        "x": 3474,
        "y": 99,
        "w": 752,
        "h": 222
    },
    {
        "id": "4e981e1c.9c0d",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "When TLE update is asked, goes search for time settings",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "848d6f10.6746c",
            "97d64ebb.eedeb"
        ],
        "x": 144,
        "y": 3699,
        "w": 363,
        "h": 82
    },
    {
        "id": "571e2c55.406334",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "When TLE update button is pushed, asks for new TLE on Celestrak website",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "b4ed5b61.777588",
            "a011d9bd.cb5668",
            "2002146a.dd37ac",
            "e7df52cf.b1dee",
            "8f00d092.2ceaf",
            "52cc4274.d51c7c",
            "a29ee050.688fc",
            "b9a6ef87.24de3",
            "a43c137e.63e62",
            "75ace4d0.f680ac",
            "be5b3468b95dc183"
        ],
        "x": 54,
        "y": 39,
        "w": 1332,
        "h": 242
    },
    {
        "id": "3ccbb53f.0e92ea",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "Messages to the Dashboard",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "68e5ba45.705be4",
            "7e174054.f4b3",
            "126451f0.88e04e",
            "18880b23.8d3665",
            "76a24cf9.258434",
            "a026019c.78bc9",
            "1e4d8792.74f5a8",
            "cedd76e1.9e8238",
            "7b763b58.51ce74",
            "852b55c9920045c0"
        ],
        "x": 1154,
        "y": 4119,
        "w": 652,
        "h": 342
    },
    {
        "id": "a70ba86a.746ad8",
        "type": "group",
        "z": "6ac37828.4c7288",
        "name": "Select satellite position inside visibility windows, calculate angular data for each position and fill the angular database ",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "dce3220a.a2827",
            "2e7fb2ab.ff8a5e",
            "5d531160.429e6",
            "30879888.257e48",
            "88e679ca.dca768",
            "72aca196.278cf",
            "8f9bb2ec.12936",
            "5e4f2147.9249e",
            "fce1105a.6ef5",
            "ca00b8d1.93b088",
            "a53ae528.1172e8",
            "6b922809.e4f268",
            "2668a3d2.59aabc",
            "986279ab.994688",
            "2e404121.6748ae",
            "333f1f0b.07ba1",
            "e9076de9.07737",
            "8361c2b3.30592",
            "5cf3906d.cd20b",
            "c781d830.604888",
            "c5dfe4bd.95e2e8",
            "ce326199.0a85b",
            "ca490983.7ec9b8",
            "88e99eb4.37486",
            "a8b66cd3.d5319",
            "f1175ba2.a05c28",
            "4a6b4791859a7ec7",
            "ddff7293e03f0b82"
        ],
        "x": 154,
        "y": 839,
        "w": 3332,
        "h": 242
    },
    {
        "id": "68821a62.dd81d4",
        "type": "group",
        "z": "6ac37828.4c7288",
        "name": "SkyView dashboard",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "a5ef7279.4f0f6",
            "4a7abf0e.e4e85",
            "eac5880a.b59fb8",
            "36c58d2d.bf0f02",
            "95af4893.c89828",
            "362b3f2b.4d2ac",
            "fc51d4bf.af93b8",
            "c33f4812.c84db8",
            "58db54d0.12d46c",
            "c43a64bf.f83098",
            "d2a2dc9c.b4a27",
            "9e22e911.d691a8",
            "15560cb4.96e8a3",
            "7cb023f0.0c57bc",
            "da44af67.6b24f",
            "a647cc01.bfdfb",
            "5192d05b.d1875",
            "da50ca5b.310b28",
            "429b1393.6ffd6c",
            "386d7942.156c76",
            "b8207185.f42bd",
            "18f17f32.5f7e71",
            "992c5674.60e4f8",
            "c62dbe90.1b804",
            "69383c6d.0abe04",
            "a4da2217.fb14a",
            "e364185d.295dd8",
            "7133e66d.aacb98",
            "18151515.6d2f0b",
            "b8bf83a3.79c91",
            "4deae3db.325f3c"
        ],
        "x": 154,
        "y": 1319,
        "w": 2192,
        "h": 442
    },
    {
        "id": "ca417f4.d57648",
        "type": "group",
        "z": "6ac37828.4c7288",
        "name": "Select Station Names Form",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "ce2c1d1e.f767",
            "dd210a3f.75a238",
            "e9ccf3f5.9a0dd",
            "62ecd0ac.9f798",
            "ef9996c9.844698",
            "880e080b.6e03c8",
            "43419e4a.69252",
            "9d1f06ad.04cba8"
        ],
        "x": 154,
        "y": 1119,
        "w": 1222,
        "h": 162
    },
    {
        "id": "f9ac2a4f.ec0f18",
        "type": "group",
        "z": "6ac37828.4c7288",
        "name": "Delete Visibility windows database before fill new data",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "6b1d521f.f17bdc",
            "fa7c0ed1.a0037",
            "ea29f6f6.a79b68",
            "3124de43.b13802",
            "12859d93.ff2bb2"
        ],
        "x": 154,
        "y": 419,
        "w": 752,
        "h": 142
    },
    {
        "id": "2b159612.3e728a",
        "type": "group",
        "z": "6ac37828.4c7288",
        "name": "Read the satellite position in VTS file and fill the sat position database",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "b28fa916.8cecf8",
            "30f8536.28de1ac",
            "ac33343b.ba4e78",
            "d2fa18fb.bb0268",
            "6e83ca21.272f94",
            "17ecad58.1256a3",
            "fe40c70e.60f8c8",
            "6c0fd70b.db8398",
            "f0d578c5.436e78",
            "1a4d810e.14739f",
            "55945d7e.c40f94",
            "bffee3e0.8e31f",
            "44ae3f5e.453b7",
            "b4a46ba6.0c8db8",
            "d96ea2e8.2a85a",
            "cb89ef4c.ba97b",
            "56b0ea89.58abe4",
            "68bafbeb.9ea644",
            "4b6b90eb.77d19",
            "3ce6983f.32dee8",
            "f2b0db0a.891f48",
            "733f7d7b.5f7334",
            "d652d2af.e4153"
        ],
        "x": 154,
        "y": 99,
        "w": 2972,
        "h": 282
    },
    {
        "id": "4a641fde.c960f",
        "type": "group",
        "z": "6ac37828.4c7288",
        "name": "Read data in visibility windows files and fill the visibility database",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "95d28814.324448",
            "ccdacc27.0b8d5",
            "27642efd.b128c2",
            "2597a39d.2cd17c",
            "41078e88.a6fd9",
            "5011c869.b39c88",
            "66f1c442.2f1dbc",
            "dbe1ad67.c3a45",
            "d84b60ca.de634",
            "c8d1a797.2e0608",
            "df778f9f.fb09e",
            "1692c203.53310e",
            "a54a8ad9.b9fcd8",
            "72c44582.c5e4ec",
            "48bcbb3f.1b82b4",
            "918bdb58.54e5a8",
            "7622255e.b430ec",
            "e4972806.98b458",
            "527ae382.4cd48c",
            "74efb784.8f5f08",
            "da43a5f9.d381a8",
            "39c9f32f.91a26c",
            "93b14ae0.e32aa8",
            "4c4d2bcd.1f4104",
            "518f311d.94f08",
            "c1aa03b9.0e853",
            "1487730a.2f8b9d"
        ],
        "x": 154,
        "y": 599,
        "w": 3752,
        "h": 202
    },
    {
        "id": "2345ff89d3122291",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "CUSTOM TLE INJECTION :BLUE1",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "5aa49bbf.e8b304",
            "4538bc69.22afe4",
            "127ee21c.b3153e",
            "3d2822d5.9f85de",
            "5927d4ed.88df2c",
            "4f22e057.0b261",
            "e3a04705.5ea298",
            "806158a8.2a45d8",
            "bad3f015.92d69",
            "c4bc0507.a5aa28",
            "912d16a.67297e8",
            "f047630c.597cf",
            "788aabf0.013d94",
            "6dcb91d.1b8e47",
            "ef029d22.ba5f5",
            "f6ee9f4a.0abf9",
            "6e7a6c03ee9546cb",
            "e99ba94e2ccbe4ee",
            "5b94fea4bc8be85c",
            "2183907fcbb6b532",
            "d733ae2362598440",
            "e946fe5a6f3b792e",
            "b3804737c3bc7442",
            "dd63fe1a15842d7c",
            "db13b17e988b264f",
            "c6be632b7b251349",
            "d0db2a049689d1eb",
            "292964d19c921b46",
            "fe5ea50b57aa1c32",
            "17bd6cd48b2a4ff4",
            "b8234c2a75bb5ae9",
            "3481f1216259b66e",
            "a82cd02c21cae659",
            "cf8728c9f3d62ae1",
            "9218e67ae12ff56e",
            "0a501f0d14245ad2",
            "59d5c5d7591c060f",
            "0b382f17aa76d1e4",
            "211ce65b221c6d6b",
            "f5304b8a408542c8",
            "14632674660de649",
            "d83b568b192310f6",
            "c24543b528ceac66",
            "c940a9398f89f223",
            "c07207dbde9b5985",
            "a117569a1ea3ef31"
        ],
        "x": 254,
        "y": 679,
        "w": 2292,
        "h": 462
    },
    {
        "id": "4be805205e728ae6",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "TLE Request to Display in dashboard",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "68a04f6a.3ad01",
            "3e3626b1.c6cc4a",
            "74fcd845.6038d8",
            "4336a6fd.067998",
            "a972d547.ac2aa8",
            "eacad089ec7f2e6f",
            "4aa96994a4b16522",
            "90616c77ddc20a7b",
            "85bda3f55da806af"
        ],
        "x": 134,
        "y": 4319,
        "w": 992,
        "h": 202
    },
    {
        "id": "32829735bc4f3d16",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "CUSTOM TLE INJECTION :  RED1",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "62fdc70dbfcfc1a2",
            "9752f6e21e084c46",
            "820e2915d0544dbf",
            "3bc220c1a4dde272",
            "f17b5f10425b11fd",
            "f49cc726b786fa1e",
            "b41819f36e747855",
            "5ba1af6f8dddc83a",
            "975910363c080bd1",
            "eaa614457517634c",
            "c98c1a2e433103ab",
            "8b8d076ee67ea589",
            "9bef072d9c28af30",
            "3ff9651d74d8f481",
            "c3969790825257b7",
            "2cfdedfca9832603",
            "2ec49ab58b009cf6",
            "05269e71ae136bf8",
            "7d0349f1f69594b4",
            "cb9204f3f8061f73",
            "7ffab70a845fe0f3",
            "9a301d139b066c7b",
            "79a7ad9924b7b167",
            "a58b1046b5db4021",
            "c3ac477d2c124c79",
            "fd882665c40cab87",
            "869f204096c7196c",
            "f876564f6733f147",
            "91672903e0e718ac",
            "20fb915262d58f6c",
            "3d2439aa3fec2104",
            "357b1c9d4fd47fb2",
            "122962f6cadc8f0a",
            "5b9993033376ecbe",
            "d91c7be73ae23eb7",
            "2d02dd85c78408df"
        ],
        "x": 554,
        "y": 2039,
        "w": 2252,
        "h": 322
    },
    {
        "id": "72a2d4bc14d948f6",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "CUSTOM TLE INJECTION :  RED2",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "4217d62511c4f137",
            "4d1c86c86f958584",
            "1ab4fc0d6de536d9",
            "f65f62669989aff6",
            "30d04dd6a02967b9",
            "da3ff15e3ef8af72",
            "ed8485e00f8f0b52",
            "f20ce87449bb0473",
            "2b815f20effd914e",
            "cfd7ba48b38a5b82",
            "240b7466e8341fab",
            "56746b3aeb555fac",
            "9a3b7338d1630535",
            "a43e55cd5a3e6552",
            "fe098b3fe6fc5e5d",
            "28536d82d866d850",
            "d228f02b7f113d98",
            "07532d1e0f13ad70",
            "417260ed0a2e03cd",
            "374088d03dd438c1",
            "ccf8f54dbb828651",
            "d98daa2e1ae71f08",
            "065828855a228883",
            "8030a4be7cd955df",
            "29a4edb4fa25f4b5",
            "0115afccfe51ac28",
            "2777b6b0fbcd9820",
            "39026bbb7cb7ba50",
            "fbf93b8de66480d8",
            "a09d39652649b0ee",
            "a5456a0e14ff4e9f",
            "34fc69acb40802e3",
            "8ea64980c2a72e58",
            "dfaaccde186ca7ea",
            "cf1650ce74575478",
            "6362160fac60ddf5"
        ],
        "x": 494,
        "y": 2559,
        "w": 1872,
        "h": 382
    },
    {
        "id": "4c6998b4.6db838",
        "type": "group",
        "z": "dd1202fd.a2e23",
        "name": "Time & TLE setter and storage from Dashboard",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "ee6615a0.60b0a8",
            "d8e20ef6.02c3a",
            "2072d02e.cd2d4",
            "d2005c55.4ffd3",
            "4be84d73.e987b4",
            "d3182296.0de68",
            "8d74ca2b.7c5e38",
            "39db62d0.356f5e",
            "957fd7c.e6c7828",
            "220556fdf5358e27",
            "451c5be989d9294c"
        ],
        "x": 104,
        "y": 79,
        "w": 582,
        "h": 402
    },
    {
        "id": "3dd210d88054dfaa",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "Telemetry flow from TinyGS API",
        "style": {
            "label": true
        },
        "nodes": [
            "bc58e5ec55a98be1",
            "c7eaa84961499300",
            "10f3d8edfb57378f",
            "5c9f53db8c9861c7",
            "ca60a913a04c776b",
            "58539589f8fcb0c9",
            "c15b273a542fde54",
            "9f1af8dc1eb5e870",
            "502dff010f3a7547",
            "1316eb234f76fca6",
            "fd1e7f82277b7ef9",
            "13dd1dc8e33f6fa8",
            "bac813c77cbdeddf",
            "dc8f652dc05f134f",
            "753a66a0e91c8b65"
        ],
        "x": 214,
        "y": 4799,
        "w": 1872,
        "h": 202
    },
    {
        "id": "f47ebdbe9aa02fbc",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "PHR1B TLE INJECTION",
        "style": {
            "label": true,
            "stroke": "#777777",
            "color": "#000000"
        },
        "nodes": [
            "0ddd48be7ff5da84",
            "3006319b8fdd4fb3",
            "02e0e1d732f50700",
            "70f11a2962c5200c",
            "30e9c44a36e2a7e3",
            "ee267f8df3cc8adb",
            "498533a743c018ee",
            "1dbead4c928ed8d1",
            "8382a53a41598013",
            "d14cf312fe0a60e0",
            "c8ba9d7bacfdb53a",
            "f6fcc56248f740f9"
        ],
        "x": 214,
        "y": 3079,
        "w": 1472,
        "h": 142
    },
    {
        "id": "9a5f859dacc543ae",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "PHRNEO4 TLE INJECTION",
        "style": {
            "label": true,
            "stroke": "#777777",
            "color": "#000000"
        },
        "nodes": [
            "83de099b2fa78eaa",
            "a5c604765ba0012f",
            "5306b898760f6177",
            "af694b9214904c89",
            "22cfa6c3a9fd3b68",
            "1a705817a9b1fd99",
            "55f25125e4360666",
            "9e1f5debf634ca3b",
            "abedf550a283a82e",
            "aebcd6a0a5d13023",
            "ed97241f5a2c195c",
            "b30d48e22e8faab5",
            "a1bc0b9e16a50e7c"
        ],
        "x": 234,
        "y": 3279,
        "w": 1452,
        "h": 182
    },
    {
        "id": "69e1011093603bba",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "PHRNEO3 TLE INJECTION",
        "style": {
            "label": true,
            "stroke": "#777777",
            "color": "#000000"
        },
        "nodes": [
            "71543d1f07fc776a",
            "2344a2a78d98bf1d",
            "d35acc815acea49d",
            "a387ab4ec014cdc2",
            "37f4e2f7dffac770",
            "d97b6cdaaa326f22",
            "1fef9e3ba77e6407",
            "efae4a1d579c52c5",
            "e980327ca9595d9e",
            "dafaa8891883163a",
            "e79ac0bebb08ed4b",
            "bbdd5b9313b88193",
            "a25fb990a2d35418"
        ],
        "x": 234,
        "y": 3479,
        "w": 1452,
        "h": 182
    },
    {
        "id": "fdab8259e2b1d755",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "CUSTOM TLE INJECTION :  BLUE2",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "7cfcc3b6ae1705df",
            "18b82773beb95f81",
            "17a0ec4ee1760736",
            "ccffc0cfeea3e9af",
            "d396be84e763cf88",
            "b1a6eae4087cf52e",
            "b36449ae06ea6d4b",
            "0fa18a38f4979444",
            "300a5f9b3e5610e9",
            "9c0726a2f40a137c",
            "b5f34062935e7af8",
            "cf2fec6522ad59fa",
            "5ea62317d86adb82",
            "8e07129de29d6275",
            "8b03c51e093f2c4c",
            "0332bdb0c4adede2",
            "ba262834438ed618",
            "f1360f4af585f4eb",
            "16400db8078d93de",
            "8247582ca377527a",
            "e90771e3cf2a5243",
            "9852c9a4a96528b0",
            "5b013355edf609df",
            "4f5929f4e0faf499",
            "2f2029df22bca851",
            "a52354b13f5aea11",
            "440df756d3e898f2",
            "801aa94ea770b941",
            "a5a65bebe02a5dda",
            "d9d638fce045ffc5",
            "920cc58f06625984",
            "a99ad14c3f06b98d",
            "140f986615a031cc",
            "2b6a6c592423cc9a",
            "bb8a0fc95f3a4a04",
            "58480317df48f4a4",
            "e5336f4911b2008e",
            "dd93dec169a1923b",
            "a84192d58e73c33e"
        ],
        "x": 554,
        "y": 1519,
        "w": 1952,
        "h": 342
    },
    {
        "id": "d79f942338defd7f",
        "type": "group",
        "z": "7c68352c.1b47bc",
        "name": "PHR TLE INJECTION",
        "style": {
            "label": true,
            "stroke": "#777777",
            "color": "#000000"
        },
        "nodes": [
            "fdeaa62f.5f5688",
            "fed8e554.829fa8",
            "f852b5f6.c99b98",
            "28c8f85d.5c8e08",
            "58575d12.429a94",
            "ff820ff.bf83af",
            "2678f85d.20ec28",
            "34aeb0d4c2a0550e",
            "ed46efe0511874af",
            "d3529a4d4ad201b1",
            "070901a887bb28c2",
            "28d0dbe164b06cd6",
            "225f7a9616f10423",
            "dd1d078a375fef72",
            "521bf868aa8d0de1",
            "57bf8da0f9e70613",
            "168c927c614295a8",
            "ccf9f6d431ed64cc"
        ],
        "x": 494,
        "y": 419,
        "w": 1712,
        "h": 222
    },
    {
        "id": "cb0fed7.3a64e1",
        "type": "group",
        "z": "107c9bc.328b364",
        "g": "7041cc0d.5676f4",
        "name": "",
        "style": {
            "label": false,
            "stroke": "none"
        },
        "nodes": [
            "960b681e.848468",
            "4bd1d7a3.884648",
            "931b309d.f0a88",
            "13038277.3984de",
            "f05b1c73.c8a0a",
            "b417d0ae.ea66a",
            "1505a844.d0fcc8",
            "2f1ac6a9637d1abe",
            "bc9a8d46d71b2c0a"
        ],
        "x": 104,
        "y": 199,
        "w": 672,
        "h": 382
    },
    {
        "id": "d9532912.7a0608",
        "type": "ui_tab",
        "name": "MCS Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "dc3b3b9c.d231c8",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#434747",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Antoine-Theme",
                "default": "#4B7930",
                "baseColor": "#038add",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#038add",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#585755",
                    "edited": true
                },
                "page-backgroundColor": {
                    "value": "#000000",
                    "edited": true
                },
                "page-sidebar-backgroundColor": {
                    "value": "#182834",
                    "edited": true
                },
                "group-textColor": {
                    "value": "#ffffff",
                    "edited": true
                },
                "group-borderColor": {
                    "value": "#01174b",
                    "edited": true
                },
                "group-backgroundColor": {
                    "value": "#000000",
                    "edited": true
                },
                "widget-textColor": {
                    "value": "#ffffff",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#00567a",
                    "edited": true
                },
                "widget-borderColor": {
                    "value": "#212c31",
                    "edited": true
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "3dabe8df.a10df8",
        "type": "ui_group",
        "name": "Mission Monitoring",
        "tab": "d9532912.7a0608",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "89c6e42c.26d338",
        "type": "ui_group",
        "name": "Satellite Tracker",
        "tab": "d9532912.7a0608",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "e85e692d.e47bb8",
        "type": "ui_group",
        "name": "Ground Stations Database",
        "tab": "d9532912.7a0608",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8880d363.148ac",
        "type": "ui_group",
        "name": "Thermostat demo",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "ce913522.c3fc68",
        "type": "ui_group",
        "name": "Space Situation Worldmap - REAL LIVE",
        "tab": "478e14fd.681fac",
        "order": 2,
        "disp": true,
        "width": "30",
        "collapse": false
    },
    {
        "id": "e370ee01.16be2",
        "type": "mqtt-broker",
        "name": "",
        "broker": "MSI",
        "port": "8888",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "b10e0a54.7b0198",
        "type": "ui_group",
        "name": "MCS Manager",
        "tab": "d9532912.7a0608",
        "order": 9,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "e7d5b9e4.972fe8",
        "type": "ui_group",
        "name": "SkyView",
        "tab": "d9532912.7a0608",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d02c68f8.1ad438",
        "type": "ui_group",
        "name": "Skyplot 2",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false
    },
    {
        "id": "478e14fd.681fac",
        "type": "ui_tab",
        "name": "MCS Satellite Tracker",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "11fb2a90.bdba15",
        "type": "ui_group",
        "name": "Logo",
        "tab": "478e14fd.681fac",
        "order": 6,
        "disp": false,
        "width": "4",
        "collapse": false
    },
    {
        "id": "8de6bb2e.d8b2a8",
        "type": "mongodb",
        "hostname": "mongo",
        "topology": "direct",
        "connectOptions": "",
        "port": "27017",
        "db": "csug",
        "name": ""
    },
    {
        "id": "a844720c.608d6",
        "type": "MySQLdatabase",
        "name": "",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": "",
        "charset": ""
    },
    {
        "id": "6a82323f.bb1c5c",
        "type": "persist-store",
        "filename": "blue1-tle-persistence.json",
        "interval": "1"
    },
    {
        "id": "8bae7d30b6fdab6c",
        "type": "persist-store",
        "filename": "blue2-tle-persistence.json",
        "interval": "60"
    },
    {
        "id": "c089d2c2d5625432",
        "type": "persist-store",
        "filename": "red1-tle-persistence.json",
        "interval": "60"
    },
    {
        "id": "9ff1c66a285ce93f",
        "type": "persist-store",
        "filename": "red2-tle-persistence.json",
        "interval": "60"
    },
    {
        "id": "cbb369e33298cfeb",
        "type": "ui_group",
        "name": "BLUE1-TLE-setter",
        "tab": "57235fe8ed92dd71",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "139d0fef1f7ac356",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 1,
        "width": 10,
        "height": 1
    },
    {
        "id": "ae8d4ccb7fb9c3af",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 2,
        "width": 10,
        "height": 1
    },
    {
        "id": "e53ba99e58445214",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 3,
        "width": 10,
        "height": 1
    },
    {
        "id": "1583556bde074290",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 4,
        "width": 10,
        "height": 1
    },
    {
        "id": "67beab82532023a8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 5,
        "width": 10,
        "height": 1
    },
    {
        "id": "46c3c02907846283",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 6,
        "width": 10,
        "height": 1
    },
    {
        "id": "4519c4c163d053a5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 7,
        "width": 10,
        "height": 1
    },
    {
        "id": "478cae2b09ba28e9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 8,
        "width": 10,
        "height": 1
    },
    {
        "id": "a201ba2c49e8a699",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 9,
        "width": 10,
        "height": 1
    },
    {
        "id": "f85d87b0d5e49c26",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 10,
        "width": 10,
        "height": 1
    },
    {
        "id": "d033a5789d24d0e0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 11,
        "width": 10,
        "height": 1
    },
    {
        "id": "fda6580e697af2cb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 12,
        "width": 10,
        "height": 1
    },
    {
        "id": "87f7140d7230e6cf",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 13,
        "width": 10,
        "height": 1
    },
    {
        "id": "836544a146941eaa",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "a6a9da91.d6e4b8",
        "order": 14,
        "width": 10,
        "height": 1
    },
    {
        "id": "5a7810372552815e",
        "type": "ui_group",
        "name": "Orbital Maneuver - BLUE1",
        "tab": "57235fe8ed92dd71",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true,
        "className": ""
    },
    {
        "id": "b124d9d71f1e45e8",
        "type": "persist-store",
        "filename": "time-persistence.json",
        "interval": "60"
    },
    {
        "id": "c60410921e155b92",
        "type": "remote-config",
        "name": "Node-RED UI",
        "host": "localhost",
        "protocol": "http",
        "port": "1880",
        "baseurl": "/ui",
        "instancehash": "8qx3ol349ma9s9sxl75jl3pok6eoyf96d66ie06d2zeihi47vvqkv7wancho60ro",
        "server": "nodered02.remote-red.com",
        "region": "de"
    },
    {
        "id": "57235fe8ed92dd71",
        "type": "ui_tab",
        "name": "MCS Maneuver Manager - BLUE TEAM",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e3a0a21144e69c21",
        "type": "ui_tab",
        "name": "MCS Maneuver Manager - RED TEAM",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c8a7959a4b0f55f9",
        "type": "ui_group",
        "name": "Orbital Maneuver - RED1",
        "tab": "e3a0a21144e69c21",
        "order": 1,
        "disp": true,
        "width": 14,
        "collapse": false
    },
    {
        "id": "c02dcce485dfb187",
        "type": "ui_group",
        "name": "RED1-TLE-setter",
        "tab": "e3a0a21144e69c21",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "08acdaf223aeb275",
        "type": "ui_group",
        "name": "Ergol Calculator",
        "tab": "57235fe8ed92dd71",
        "order": 8,
        "disp": true,
        "width": 7,
        "collapse": false
    },
    {
        "id": "7cbca3c0b9c25d7c",
        "type": "ui_group",
        "name": "Ergol Calculator",
        "tab": "e3a0a21144e69c21",
        "order": 8,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1756cdc52869c611",
        "type": "ui_group",
        "name": "Orbital Maneuver - BLUE2",
        "tab": "57235fe8ed92dd71",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7465a3d35f5541d7",
        "type": "ui_group",
        "name": "Orbital Maneuver - RED2",
        "tab": "e3a0a21144e69c21",
        "order": 2,
        "disp": true,
        "width": 14,
        "collapse": false
    },
    {
        "id": "c0126ded2df50257",
        "type": "persist-store",
        "filename": "blue1-tle-latest.json",
        "interval": "60"
    },
    {
        "id": "bf17b2ccab537262",
        "type": "persist-store",
        "filename": "blue2-tle-latest.json",
        "interval": "60"
    },
    {
        "id": "009542d28029d224",
        "type": "persist-store",
        "filename": "red1-tle-latest.json",
        "interval": "60"
    },
    {
        "id": "250d353f19c8865b",
        "type": "persist-store",
        "filename": "red2-tle-latest.json",
        "interval": "60"
    },
    {
        "id": "23b1e2cbea1584ab",
        "type": "ui_group",
        "name": "BLUE1 - Thrust orientation",
        "tab": "57235fe8ed92dd71",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2722a51fd28f6d2e",
        "type": "ui_group",
        "name": "BLUE2 - Thrust orientation",
        "tab": "57235fe8ed92dd71",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "85ebfab4c5310e30",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "fb0f170d8067c3d5",
        "order": 6,
        "width": 13,
        "height": 1
    },
    {
        "id": "edf244a47085d4de",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "fb0f170d8067c3d5",
        "order": 7,
        "width": 13,
        "height": 1
    },
    {
        "id": "458a7ed67ad4f4f2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "fb0f170d8067c3d5",
        "order": 8,
        "width": 13,
        "height": 1
    },
    {
        "id": "a366c2549be7b3c4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "fb0f170d8067c3d5",
        "order": 9,
        "width": 13,
        "height": 1
    },
    {
        "id": "10abb0a1e6a0b74f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "fb0f170d8067c3d5",
        "order": 10,
        "width": 13,
        "height": 1
    },
    {
        "id": "81d0e5ee7c52f38a",
        "type": "ui_group",
        "name": "BLUE2-TLE-setter",
        "tab": "57235fe8ed92dd71",
        "order": 4,
        "disp": true,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "960e156071a227f3",
        "type": "ui_tab",
        "name": "MCS EO",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "cd20a742773dd128",
        "type": "ui_group",
        "name": "Earth Observation Manager",
        "tab": "960e156071a227f3",
        "order": 1,
        "disp": true,
        "width": "36",
        "collapse": false
    },
    {
        "id": "2d4fe667.28f8ba",
        "type": "ui_group",
        "name": "demo",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7de23636.088a88",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "9aea8836.79fcc8",
        "type": "ui_group",
        "name": "Transport positioning",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "cd81d08b.eebb3",
        "type": "ui_group",
        "z": "9fc2d0daadf97d1e",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "97b19b6b03830516",
        "type": "ui_group",
        "name": "Mean movement <-> Semi major axis",
        "tab": "57235fe8ed92dd71",
        "order": 7,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "fcc84832adeca8f5",
        "type": "ui_group",
        "name": "RED1 - Thrust orientation",
        "tab": "e3a0a21144e69c21",
        "order": 5,
        "disp": true,
        "width": "14",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1d33537b5ace1e8e",
        "type": "ui_group",
        "name": "RED2 - Thrust orientation",
        "tab": "e3a0a21144e69c21",
        "order": 6,
        "disp": true,
        "width": "14",
        "collapse": false,
        "className": ""
    },
    {
        "id": "0deac27858739b34",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "a2b95ac780df025c",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "9bcb1caa9a89abab",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "15ba7d5baa2a390e",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "c58c203b16e24971",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "24bc662896ca4306",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 11,
        "width": 14,
        "height": 1
    },
    {
        "id": "bbc9b7450be95660",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 12,
        "width": 14,
        "height": 1
    },
    {
        "id": "4aca3e8d870a17cf",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 13,
        "width": 14,
        "height": 1
    },
    {
        "id": "2fe7be3768513e6e",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 14,
        "width": 14,
        "height": 1
    },
    {
        "id": "137ac9d75a966d53",
        "type": "ui_spacer",
        "z": "a9c7c6499fb06192",
        "name": "spacer",
        "group": "cc1b923d.14259",
        "order": 15,
        "width": 14,
        "height": 1
    },
    {
        "id": "c3df4221bc39e72d",
        "type": "ui_group",
        "name": "Mean movement <-> Semi major axis",
        "tab": "e3a0a21144e69c21",
        "order": 7,
        "disp": true,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a46049a623023561",
        "type": "persist-store",
        "filename": "persistencemessage.json",
        "interval": "1"
    },
    {
        "id": "d4e830c4b00daeae",
        "type": "ui_group",
        "name": "RED2-TLE-setter",
        "tab": "e3a0a21144e69c21",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f225da6f.835808",
        "type": "link out",
        "z": "107c9bc.328b364",
        "g": "7041cc0d.5676f4",
        "name": "Time-out",
        "links": [
            "1ff29f60.5ef8c1",
            "2a0b6d91.16b622",
            "ce2c1d1e.f767"
        ],
        "x": 515,
        "y": 620,
        "wires": []
    },
    {
        "id": "960b681e.848468",
        "type": "link out",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "Every X minutes",
        "mode": "link",
        "links": [
            "b9a6ef87.24de3"
        ],
        "x": 735,
        "y": 460,
        "wires": []
    },
    {
        "id": "4bd1d7a3.884648",
        "type": "link out",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "START VTS",
        "links": [
            "90cba714.f229f8",
            "eda817f1.b02c58",
            "f0b7682.7fe4098"
        ],
        "x": 735,
        "y": 340,
        "wires": []
    },
    {
        "id": "931b309d.f0a88",
        "type": "link out",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "RELOAD DASHBOARD",
        "mode": "link",
        "links": [
            "4336a6fd.067998"
        ],
        "x": 515,
        "y": 540,
        "wires": []
    },
    {
        "id": "13038277.3984de",
        "type": "comment",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "2nd STEP : START VTS ",
        "info": "",
        "x": 240,
        "y": 240,
        "wires": []
    },
    {
        "id": "f05b1c73.c8a0a",
        "type": "comment",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "3rd STEP : TLE UPDATE REQUEST",
        "info": "",
        "x": 500,
        "y": 240,
        "wires": []
    },
    {
        "id": "b417d0ae.ea66a",
        "type": "comment",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "PERMANENT : REFRESH DASHBOARD",
        "info": "",
        "x": 300,
        "y": 520,
        "wires": []
    },
    {
        "id": "1505a844.d0fcc8",
        "type": "ui_button",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "",
        "group": "b10e0a54.7b0198",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "TLE & Visi Windows Update",
        "tooltip": "",
        "color": "",
        "bgcolor": "#477500",
        "icon": "fa-globe",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 260,
        "y": 460,
        "wires": [
            [
                "bc9a8d46d71b2c0a"
            ]
        ]
    },
    {
        "id": "7526a5fd.25462c",
        "type": "ui_media",
        "z": "107c9bc.328b364",
        "g": "8b9773b.b33289",
        "group": "b10e0a54.7b0198",
        "name": "EAE logo",
        "width": 3,
        "height": 3,
        "order": 1,
        "category": "logo",
        "file": "LOGO-ECOLE-DE-LAIR-carre-v8-bis.jpg",
        "layout": "expand",
        "showcontrols": true,
        "loop": true,
        "onstart": true,
        "scope": "local",
        "tooltip": "",
        "x": 900,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "6ad25ff1.2d9c5",
        "type": "ui_media",
        "z": "107c9bc.328b364",
        "g": "8b9773b.b33289",
        "group": "11fb2a90.bdba15",
        "name": "CSUG logo",
        "width": 4,
        "height": "4",
        "order": 2,
        "category": "logo",
        "file": "CSUG-logo.png",
        "layout": "center",
        "showcontrols": true,
        "loop": true,
        "onstart": true,
        "scope": "local",
        "tooltip": "",
        "x": 1090,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "1d1c8521.cf142b",
        "type": "ui_media",
        "z": "107c9bc.328b364",
        "g": "8b9773b.b33289",
        "group": "11fb2a90.bdba15",
        "name": "EAE logo",
        "width": 4,
        "height": "4",
        "order": 1,
        "category": "logo",
        "file": "LOGO-ECOLE-DE-LAIR-carre-v8-bis.jpg",
        "layout": "expand",
        "showcontrols": true,
        "loop": true,
        "onstart": true,
        "scope": "local",
        "tooltip": "",
        "x": 1080,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "37361282.bab14e",
        "type": "ui_media",
        "z": "107c9bc.328b364",
        "g": "8b9773b.b33289",
        "group": "11fb2a90.bdba15",
        "name": "UGA logo",
        "width": 4,
        "height": "4",
        "order": 3,
        "category": "logo",
        "file": "UGA-logo.jpg",
        "layout": "center",
        "showcontrols": false,
        "loop": true,
        "onstart": false,
        "scope": "local",
        "tooltip": "",
        "x": 1080,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "2f1ac6a9637d1abe",
        "type": "link in",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "TLE Blue1 updated OUT",
        "links": [
            "6c044cebf58617f5",
            "db74ac0a48d974d3",
            "31deccc384baab58",
            "7eba3e10420b1e8e",
            "32fdcf88c6843826",
            "eb86a48d805b0b8b",
            "2b4ccb74f56e22c2",
            "899754fdb746a767",
            "bbbaae8e174467a6",
            "3653af24f4f57ebd",
            "0d62970b216a315a",
            "b75bd948c971663a"
        ],
        "x": 625,
        "y": 340,
        "wires": [
            [
                "960b681e.848468"
            ]
        ]
    },
    {
        "id": "bc9a8d46d71b2c0a",
        "type": "link out",
        "z": "107c9bc.328b364",
        "g": "cb0fed7.3a64e1",
        "name": "Trigger-ALL",
        "mode": "link",
        "links": [
            "031daf8ad228e86a",
            "04828409f3c8eb98",
            "1e9676e414d32f76",
            "220556fdf5358e27",
            "32528e58bc954e44",
            "5ab7a667fbb1644d",
            "a117569a1ea3ef31",
            "ba03309eb894bc80",
            "ccf9f6d431ed64cc",
            "e7a2222d78b89f73"
        ],
        "x": 515,
        "y": 460,
        "wires": []
    },
    {
        "id": "ee6615a0.60b0a8",
        "type": "persist in",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 430,
        "y": 160,
        "wires": []
    },
    {
        "id": "d8e20ef6.02c3a",
        "type": "persist out",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 290,
        "y": 300,
        "wires": [
            [
                "d2005c55.4ffd3",
                "4be84d73.e987b4"
            ]
        ]
    },
    {
        "id": "2072d02e.cd2d4",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "Time-Setter-Out2",
        "mode": "link",
        "links": [
            "cf21d2b3.0c5d9"
        ],
        "x": 645,
        "y": 300,
        "wires": []
    },
    {
        "id": "d2005c55.4ffd3",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "Set path_8",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_8",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 300,
        "wires": [
            [
                "2072d02e.cd2d4"
            ]
        ]
    },
    {
        "id": "4be84d73.e987b4",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "sortie persist",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 510,
        "y": 360,
        "wires": []
    },
    {
        "id": "d3182296.0de68",
        "type": "link in",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "triggerin",
        "links": [
            "97d64ebb.eedeb",
            "a1056e5c.8aa3",
            "c610029e.94b97"
        ],
        "x": 145,
        "y": 300,
        "wires": [
            [
                "d8e20ef6.02c3a"
            ]
        ]
    },
    {
        "id": "8d74ca2b.7c5e38",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "time",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 410,
        "y": 200,
        "wires": []
    },
    {
        "id": "39db62d0.356f5e",
        "type": "comment",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "MACHINE DEPENDENCE",
        "info": "time-persistence.json\n",
        "x": 450,
        "y": 120,
        "wires": [],
        "icon": "node-red-contrib-alarm/alarm.png"
    },
    {
        "id": "957fd7c.e6c7828",
        "type": "ui_form",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "",
        "label": "Time Setter",
        "group": "3dabe8df.a10df8",
        "order": 7,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "Start Date",
                "value": "startdate",
                "type": "date",
                "required": true,
                "rows": null
            },
            {
                "label": "End Date",
                "value": "enddate",
                "type": "date",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "startdate": "",
            "enddate": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 210,
        "y": 160,
        "wires": [
            [
                "ee6615a0.60b0a8",
                "8d74ca2b.7c5e38"
            ]
        ]
    },
    {
        "id": "bd28d1663b4119ac",
        "type": "ui_form",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "BLUE2 TLE setter",
        "group": "81d0e5ee7c52f38a",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Inclination i () [2,4]",
                "value": "incli",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "RAAN  () [3,4]",
                "value": "raan",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Eccentricity e [7]",
                "value": "ecc",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "AoP  () [3,4]",
                "value": "aop",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Mean Anomaly M [3,4]",
                "value": "meana",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Mean motion N [2,14]",
                "value": "mean",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "incli": "",
            "raan": "",
            "ecc": "",
            "aop": "",
            "meana": "",
            "mean": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 230,
        "y": 500,
        "wires": [
            [
                "fef2087340e1adc4",
                "ef3dc7e1d721b2f9"
            ]
        ]
    },
    {
        "id": "0746bb87e1d7be83",
        "type": "ui_form",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "RED1 TLE setter",
        "group": "c02dcce485dfb187",
        "order": 1,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "Inclination i () [2,4]",
                "value": "incli",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "RAAN  () [3,4]",
                "value": "raan",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Eccentricity e [7]",
                "value": "ecc",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "AoP  () [3,4]",
                "value": "aop",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Mean Anomaly M [3,4]",
                "value": "meana",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Mean motion N [2,14]",
                "value": "mean",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "incli": "",
            "raan": "",
            "ecc": "",
            "aop": "",
            "meana": "",
            "mean": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 230,
        "y": 560,
        "wires": [
            [
                "a357413f45ec242e",
                "8537f9d5148667cf"
            ]
        ]
    },
    {
        "id": "d9e846e0881012e5",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider BLUE 1",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 820,
        "wires": [
            [
                "141ed3697cd1dfac",
                "c2a41e275ecf4f5c"
            ]
        ]
    },
    {
        "id": "141ed3697cd1dfac",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time Slider TLE UPDATE",
        "tooltip": "Time range",
        "group": "cbb369e33298cfeb",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "className": "",
        "x": 630,
        "y": 780,
        "wires": [
            [
                "c2a41e275ecf4f5c",
                "2c13afbda9e52345"
            ]
        ]
    },
    {
        "id": "bf1eeb4a448c655a",
        "type": "persist out",
        "z": "dd1202fd.a2e23",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 170,
        "y": 820,
        "wires": [
            [
                "d9e846e0881012e5",
                "d02efe325ebb440b",
                "4f58bdb6277957c9",
                "4396ec32c652fafe",
                "2ab10bb8883f8d16",
                "5ed6f3470a993d7b",
                "4bf11013b1ba602a",
                "7183cca594bb0781",
                "3241ecac115013af"
            ]
        ]
    },
    {
        "id": "3d23bd653343df8f",
        "type": "link in",
        "z": "dd1202fd.a2e23",
        "name": "triggerin",
        "links": [
            "97d64ebb.eedeb",
            "a1056e5c.8aa3",
            "c610029e.94b97"
        ],
        "x": 65,
        "y": 880,
        "wires": [
            [
                "bf1eeb4a448c655a"
            ]
        ]
    },
    {
        "id": "c2a41e275ecf4f5c",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 710,
        "y": 820,
        "wires": [
            [
                "0d170e1b6fd4c30e",
                "22c8d0c9418f6402"
            ]
        ]
    },
    {
        "id": "2c13afbda9e52345",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 835,
        "y": 760,
        "wires": []
    },
    {
        "id": "152823c72351c9fd",
        "type": "link in",
        "z": "dd1202fd.a2e23",
        "name": "timein",
        "links": [
            "2c13afbda9e52345",
            "0ca55a608cc3687e",
            "b34eebed99433c97",
            "c31b50f7670cb61d",
            "e831a7de1ca333eb",
            "2bf663a53ca7f644",
            "e74b2a1d23886926",
            "c077afd82fb12612",
            "7a765cd7d41b1745"
        ],
        "x": 75,
        "y": 760,
        "wires": [
            [
                "bf1eeb4a448c655a"
            ]
        ]
    },
    {
        "id": "0d170e1b6fd4c30e",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\n\nmsg.payload = date\nmsg.body = datecurrent*1000\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 860,
        "wires": [
            [
                "efefb3362e012b40"
            ]
        ]
    },
    {
        "id": "efefb3362e012b40",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "cbb369e33298cfeb",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1030,
        "y": 860,
        "wires": []
    },
    {
        "id": "22c8d0c9418f6402",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Preparation",
        "func": "msg = {curr : {max : msg.payload[1]}, ui_control : {max : msg.ui_control.max}, body : {min : msg.body[0]}};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 820,
        "wires": [
            [
                "3687222ef57dc037"
            ]
        ]
    },
    {
        "id": "3687222ef57dc037",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1590,
        "y": 820,
        "wires": [
            [
                "cb9310778af334ad"
            ]
        ]
    },
    {
        "id": "cb9310778af334ad",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "setpath1-B1",
        "mode": "link",
        "links": [
            "d0db2a049689d1eb"
        ],
        "x": 1795,
        "y": 820,
        "wires": []
    },
    {
        "id": "d18e57eb0850722e",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time Slider TLE UPDATE",
        "tooltip": "Time range",
        "group": "c02dcce485dfb187",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "className": "",
        "x": 570,
        "y": 1280,
        "wires": [
            [
                "0120034928bb78a3",
                "0ca55a608cc3687e"
            ]
        ]
    },
    {
        "id": "a498ec4815d2cb66",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "c02dcce485dfb187",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 970,
        "y": 1400,
        "wires": []
    },
    {
        "id": "0ca55a608cc3687e",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 775,
        "y": 1240,
        "wires": []
    },
    {
        "id": "d02efe325ebb440b",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider RED 1",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1320,
        "wires": [
            [
                "0120034928bb78a3",
                "d18e57eb0850722e"
            ]
        ]
    },
    {
        "id": "0120034928bb78a3",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 650,
        "y": 1320,
        "wires": [
            [
                "8cfd24605790d24a",
                "99355343b3b948ad"
            ]
        ]
    },
    {
        "id": "8cfd24605790d24a",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\nmsg.payload = date\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1400,
        "wires": [
            [
                "a498ec4815d2cb66"
            ]
        ]
    },
    {
        "id": "21cb21048ea72ed1",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time",
        "tooltip": "Time range",
        "group": "b10e0a54.7b0198",
        "order": 22,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "x": 430,
        "y": 3080,
        "wires": [
            [
                "f663528e83935a5a",
                "b34eebed99433c97"
            ]
        ]
    },
    {
        "id": "5995f43888228028",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "b10e0a54.7b0198",
        "order": 23,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 890,
        "y": 3200,
        "wires": []
    },
    {
        "id": "b34eebed99433c97",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 585,
        "y": 3060,
        "wires": []
    },
    {
        "id": "4f58bdb6277957c9",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider HOME",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 3120,
        "wires": [
            [
                "f663528e83935a5a",
                "21cb21048ea72ed1"
            ]
        ]
    },
    {
        "id": "f663528e83935a5a",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 570,
        "y": 3120,
        "wires": [
            [
                "232f9530e9483fd0",
                "e3a1c188f10c4bad"
            ]
        ]
    },
    {
        "id": "232f9530e9483fd0",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\nmsg.payload = date\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 3200,
        "wires": [
            [
                "5995f43888228028"
            ]
        ]
    },
    {
        "id": "99355343b3b948ad",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Preparation",
        "func": "msg = {curr : {max : msg.payload[1]}, ui_control : {max : msg.ui_control.max}, body : {min : msg.body[0]}};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 1320,
        "wires": [
            [
                "20378db6f8345eba"
            ]
        ]
    },
    {
        "id": "20378db6f8345eba",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 1320,
        "wires": [
            [
                "ee6ec31b290a5ef2"
            ]
        ]
    },
    {
        "id": "ee6ec31b290a5ef2",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "setpath1-R1",
        "mode": "link",
        "links": [
            "039b2d25b7f762e1",
            "08948197f050ddcf",
            "33a7b1c102248ead",
            "3fe5ddeab9ab3c1d",
            "47acf046b7c4910e",
            "493da62b553792a8",
            "a58b1046b5db4021",
            "b03dda2ec4858486",
            "d1f749345193a1d2"
        ],
        "x": 1665,
        "y": 1320,
        "wires": []
    },
    {
        "id": "e3a1c188f10c4bad",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Preparation",
        "func": "msg = {curr : {max : msg.payload[1]}, ui_control : {max : msg.ui_control.max}, body : {min : msg.body[0]}};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 3120,
        "wires": [
            [
                "2d62d383e359e3e4"
            ]
        ]
    },
    {
        "id": "2d62d383e359e3e4",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 3120,
        "wires": [
            [
                "139d87a61de8fb2d",
                "38021a7090e5c90b"
            ]
        ]
    },
    {
        "id": "139d87a61de8fb2d",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "setpath1-HOME",
        "mode": "link",
        "links": [
            "29a4edb4fa25f4b5",
            "440df756d3e898f2",
            "a58b1046b5db4021",
            "d0db2a049689d1eb"
        ],
        "x": 1595,
        "y": 3120,
        "wires": []
    },
    {
        "id": "029bbc417ee358dc",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "Mongo PeritimeB1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 440,
        "wires": []
    },
    {
        "id": "94de47d8348d9175",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "to RED1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2300,
        "y": 1080,
        "wires": []
    },
    {
        "id": "38021a7090e5c90b",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "to Propagator",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1630,
        "y": 3040,
        "wires": []
    },
    {
        "id": "db45d17d8dc88eeb",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "TimePerigee-R1",
        "func": "//var time = Date.now()\nvar time = 1000*(msg.body.min+msg.curr.max*10);\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*100000000;\nvar frac = Math.round(fraca)/100000000;\nvar epoch = 1000*year+day+frac;\n\n\n\n   return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: time/1000,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2090,
        "y": 960,
        "wires": [
            [
                "94de47d8348d9175",
                "1455739a5d88de23"
            ]
        ]
    },
    {
        "id": "3c3d942c136c7826",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "query for perigee time",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 440,
        "wires": [
            [
                "7855c24fe1f2a894",
                "10c966ac962761f1",
                "d9a5bc7406abf2fc",
                "3dfe2f2f65db65d6"
            ]
        ]
    },
    {
        "id": "7855c24fe1f2a894",
        "type": "mongodb in",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of peritimeb1",
        "collection": "peritimeb1",
        "operation": "find",
        "x": 1380,
        "y": 440,
        "wires": [
            [
                "029bbc417ee358dc"
            ]
        ]
    },
    {
        "id": "14e9f3349ffe258f",
        "type": "inject",
        "z": "dd1202fd.a2e23",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 920,
        "y": 440,
        "wires": [
            [
                "3c3d942c136c7826"
            ]
        ]
    },
    {
        "id": "cf6acf63b236fd88",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2300,
        "y": 940,
        "wires": [
            [
                "cf43879b9757f039"
            ]
        ]
    },
    {
        "id": "1455739a5d88de23",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2300,
        "y": 1000,
        "wires": [
            [
                "cf43879b9757f039"
            ]
        ]
    },
    {
        "id": "071e65a586f59217",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "query to delete peritimer1",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 840,
        "wires": [
            [
                "ef3f79f43ab29fdd"
            ]
        ]
    },
    {
        "id": "cf43879b9757f039",
        "type": "join-wait",
        "z": "dd1202fd.a2e23",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 2470,
        "y": 960,
        "wires": [
            [
                "2ac50b9c35568773"
            ],
            []
        ]
    },
    {
        "id": "ef3f79f43ab29fdd",
        "type": "mongodb out",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete peritimer1 Mongo",
        "collection": "peritimer1",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2680,
        "y": 840,
        "wires": []
    },
    {
        "id": "2ac50b9c35568773",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "injection",
        "func": "var payload = msg.payload;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2650,
        "y": 960,
        "wires": [
            [
                "06a2b17eb64c552e"
            ]
        ]
    },
    {
        "id": "06a2b17eb64c552e",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "query to fill peri time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\ntm.peritimer1 = parseInt(msg.payload)\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2880,
        "y": 960,
        "wires": [
            [
                "412d25cbcdc064d7"
            ]
        ]
    },
    {
        "id": "412d25cbcdc064d7",
        "type": "split",
        "z": "dd1202fd.a2e23",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 3080,
        "y": 960,
        "wires": [
            [
                "864d269cc8cdc11d"
            ]
        ]
    },
    {
        "id": "864d269cc8cdc11d",
        "type": "mongodb out",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert peritimer1 mongo",
        "collection": "peritimer1",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 3260,
        "y": 960,
        "wires": []
    },
    {
        "id": "10c966ac962761f1",
        "type": "mongodb in",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of peritimer1",
        "collection": "peritimer1",
        "operation": "find",
        "x": 1380,
        "y": 400,
        "wires": [
            [
                "a924b29b46320d1c"
            ]
        ]
    },
    {
        "id": "a924b29b46320d1c",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "Mongo PeritimeR1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 400,
        "wires": []
    },
    {
        "id": "4396ec32c652fafe",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider BLUE 2",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1920,
        "wires": [
            [
                "011c3a327b0fb0e5",
                "13c913d7d654b09d"
            ]
        ]
    },
    {
        "id": "011c3a327b0fb0e5",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time Slider TLE UPDATE",
        "tooltip": "Time range",
        "group": "81d0e5ee7c52f38a",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "className": "",
        "x": 570,
        "y": 1880,
        "wires": [
            [
                "13c913d7d654b09d",
                "c31b50f7670cb61d"
            ]
        ]
    },
    {
        "id": "c31b50f7670cb61d",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 785,
        "y": 1860,
        "wires": []
    },
    {
        "id": "13c913d7d654b09d",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 650,
        "y": 1920,
        "wires": [
            [
                "0e12ec2339813544",
                "dbf8030d8e2ae79a",
                "7fec85092a04bfed"
            ]
        ]
    },
    {
        "id": "0e12ec2339813544",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\nmsg.payload = date\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 2000,
        "wires": [
            [
                "03850777c2d35403"
            ]
        ]
    },
    {
        "id": "03850777c2d35403",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "81d0e5ee7c52f38a",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 970,
        "y": 2000,
        "wires": []
    },
    {
        "id": "2ab10bb8883f8d16",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider RED 2",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 2460,
        "wires": [
            [
                "41ccfcab3bfdf73f",
                "bae3be9bcd35aaef"
            ]
        ]
    },
    {
        "id": "41ccfcab3bfdf73f",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time Slider TLE UPDATE",
        "tooltip": "Time range",
        "group": "d4e830c4b00daeae",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "className": "",
        "x": 570,
        "y": 2420,
        "wires": [
            [
                "bae3be9bcd35aaef",
                "e831a7de1ca333eb"
            ]
        ]
    },
    {
        "id": "e831a7de1ca333eb",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 725,
        "y": 2360,
        "wires": []
    },
    {
        "id": "bae3be9bcd35aaef",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 650,
        "y": 2460,
        "wires": [
            [
                "6dde41ddab1a7a81",
                "593069cde3570ffb"
            ]
        ]
    },
    {
        "id": "6dde41ddab1a7a81",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\nmsg.payload = date\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 2540,
        "wires": [
            [
                "84320b7d435361fa"
            ]
        ]
    },
    {
        "id": "84320b7d435361fa",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "d4e830c4b00daeae",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 970,
        "y": 2540,
        "wires": []
    },
    {
        "id": "dbf8030d8e2ae79a",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Preparation",
        "func": "msg = {curr : {max : msg.payload[1]}, ui_control : {max : msg.ui_control.max}, body : {min : msg.body[0]}};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 1920,
        "wires": [
            [
                "1f38532f51e42491"
            ]
        ]
    },
    {
        "id": "1f38532f51e42491",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 1920,
        "wires": [
            [
                "1ae04e597256b937"
            ]
        ]
    },
    {
        "id": "1ae04e597256b937",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "setpath1-B2",
        "mode": "link",
        "links": [
            "440df756d3e898f2"
        ],
        "x": 1665,
        "y": 1920,
        "wires": []
    },
    {
        "id": "a2eba4ec0ca862dd",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "query to delete peritimeb2",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 1420,
        "wires": [
            [
                "94018fcbc7314ef9"
            ]
        ]
    },
    {
        "id": "94018fcbc7314ef9",
        "type": "mongodb out",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete peritimeb2 Mongo",
        "collection": "peritimeb2",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2410,
        "y": 1420,
        "wires": []
    },
    {
        "id": "f9a663afb582f487",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2030,
        "y": 1520,
        "wires": [
            [
                "62bce1d727afb5e3"
            ]
        ]
    },
    {
        "id": "6fc31f4587af8712",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "TimePerigee-B2",
        "func": "//var time = Date.now()\nvar time = 1000*(msg.body.min+msg.curr.max*10);\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*100000000;\nvar frac = Math.round(fraca)/100000000;\nvar epoch = 1000*year+day+frac;\n\n\n\n   return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: time/1000,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1820,
        "y": 1580,
        "wires": [
            [
                "a3e0b3368b534538"
            ]
        ]
    },
    {
        "id": "a3e0b3368b534538",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2030,
        "y": 1580,
        "wires": [
            [
                "62bce1d727afb5e3"
            ]
        ]
    },
    {
        "id": "62bce1d727afb5e3",
        "type": "join-wait",
        "z": "dd1202fd.a2e23",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 2200,
        "y": 1540,
        "wires": [
            [
                "0472f140ab3b09c0"
            ],
            []
        ]
    },
    {
        "id": "0472f140ab3b09c0",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "injection",
        "func": "var payload = msg.payload;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 1540,
        "wires": [
            [
                "4471274802bfa0d9"
            ]
        ]
    },
    {
        "id": "5a0bc248baf0660a",
        "type": "split",
        "z": "dd1202fd.a2e23",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2810,
        "y": 1540,
        "wires": [
            [
                "ffd56fddcd94433d"
            ]
        ]
    },
    {
        "id": "4471274802bfa0d9",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "query to fill peri time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\ntm.peritimeb2 = parseInt(msg.payload)\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2610,
        "y": 1540,
        "wires": [
            [
                "5a0bc248baf0660a"
            ]
        ]
    },
    {
        "id": "ffd56fddcd94433d",
        "type": "mongodb out",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert peritimeb2 mongo",
        "collection": "peritimeb2",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2990,
        "y": 1540,
        "wires": []
    },
    {
        "id": "593069cde3570ffb",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Preparation",
        "func": "msg = {curr : {max : msg.payload[1]}, ui_control : {max : msg.ui_control.max}, body : {min : msg.body[0]}};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 2460,
        "wires": [
            [
                "31c12c5ea352912b"
            ]
        ]
    },
    {
        "id": "31c12c5ea352912b",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 2460,
        "wires": [
            [
                "574e4c417983ae7a"
            ]
        ]
    },
    {
        "id": "574e4c417983ae7a",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "setpath1-R2",
        "mode": "link",
        "links": [
            "083be7420f60f8cd",
            "29a4edb4fa25f4b5",
            "31eabdbb4640b3a4",
            "7e4a791d6ca1756b",
            "f9e06d9b9157597f"
        ],
        "x": 1715,
        "y": 2460,
        "wires": []
    },
    {
        "id": "8965deb8a923c6a8",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "query to delete peritimer2",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2090,
        "y": 1960,
        "wires": [
            [
                "ac10a3542a9e2d3d"
            ]
        ]
    },
    {
        "id": "ac10a3542a9e2d3d",
        "type": "mongodb out",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete peritimer2 Mongo",
        "collection": "peritimer2",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2390,
        "y": 1960,
        "wires": []
    },
    {
        "id": "84e9520191115a97",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2010,
        "y": 2060,
        "wires": [
            [
                "781522ce3f12f6f8"
            ]
        ]
    },
    {
        "id": "254e43fab074c6b1",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "TimePerigee-R2",
        "func": "//var time = Date.now()\nvar time = 1000*(msg.body.min+msg.curr.max*10);\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*100000000;\nvar frac = Math.round(fraca)/100000000;\nvar epoch = 1000*year+day+frac;\n\n\n\n   return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: time/1000,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 2220,
        "wires": [
            [
                "2eb76f34f83d7e76"
            ]
        ]
    },
    {
        "id": "2eb76f34f83d7e76",
        "type": "change",
        "z": "dd1202fd.a2e23",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2010,
        "y": 2120,
        "wires": [
            [
                "781522ce3f12f6f8"
            ]
        ]
    },
    {
        "id": "781522ce3f12f6f8",
        "type": "join-wait",
        "z": "dd1202fd.a2e23",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 2180,
        "y": 2080,
        "wires": [
            [
                "3bd61b0732ea8dfc"
            ],
            []
        ]
    },
    {
        "id": "3bd61b0732ea8dfc",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "injection",
        "func": "var payload = msg.payload;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2360,
        "y": 2080,
        "wires": [
            [
                "5c46e858816aeb88"
            ]
        ]
    },
    {
        "id": "445e93c5485faa9f",
        "type": "split",
        "z": "dd1202fd.a2e23",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2790,
        "y": 2080,
        "wires": [
            [
                "dc386a45ffcd82e6"
            ]
        ]
    },
    {
        "id": "5c46e858816aeb88",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "query to fill peri time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\ntm.peritimer2 = parseInt(msg.payload)\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2590,
        "y": 2080,
        "wires": [
            [
                "445e93c5485faa9f"
            ]
        ]
    },
    {
        "id": "dc386a45ffcd82e6",
        "type": "mongodb out",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert peritimer2 mongo",
        "collection": "peritimer2",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2970,
        "y": 2080,
        "wires": []
    },
    {
        "id": "3dfe2f2f65db65d6",
        "type": "mongodb in",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of peritimer2",
        "collection": "peritimer2",
        "operation": "find",
        "x": 1380,
        "y": 360,
        "wires": [
            [
                "0a2949f7bc6bbd3f"
            ]
        ]
    },
    {
        "id": "0a2949f7bc6bbd3f",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "Mongo PeritimeR2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 360,
        "wires": []
    },
    {
        "id": "d9a5bc7406abf2fc",
        "type": "mongodb in",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of peritimeb2",
        "collection": "peritimeb2",
        "operation": "find",
        "x": 1380,
        "y": 500,
        "wires": [
            [
                "a9a84e889621e77f"
            ]
        ]
    },
    {
        "id": "a9a84e889621e77f",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "Mongo PeritimeB2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 500,
        "wires": []
    },
    {
        "id": "220556fdf5358e27",
        "type": "link in",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "TLE Update time request",
        "links": [
            "27791e867d8775f9",
            "27e3cd807b7dd36f",
            "5bf00d0b73be675b",
            "62266a885b0a5557",
            "a04fca38dbe03d82",
            "a741c62a3a08f763",
            "b56e292eaf4acafb",
            "bd8de8502f02c463",
            "c6f9eedad09e67bd",
            "db7e42c1aee637bd",
            "e9b09613f51d34f2",
            "f3e5505ad72e07f6",
            "bc9a8d46d71b2c0a"
        ],
        "x": 145,
        "y": 260,
        "wires": [
            [
                "d8e20ef6.02c3a"
            ]
        ]
    },
    {
        "id": "cbe3c2e989fbe149",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "tle setter check for B1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 100,
        "wires": []
    },
    {
        "id": "8fe9c285a1ddb634",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "query for b1 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2100,
        "y": 760,
        "wires": [
            [
                "88eeec1862b80ae2"
            ]
        ]
    },
    {
        "id": "88eeec1862b80ae2",
        "type": "mongodb in",
        "z": "dd1202fd.a2e23",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b1 time tle",
        "collection": "peritimeb1",
        "operation": "find",
        "x": 2380,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "5ed6f3470a993d7b",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider BLUE 1",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\n// the dates have to be in ms and we want a 10 sec step so we divide the range by \n// 10000\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\n//we can set the max of the slide by giving it the input \n// {ui_control:{max:valeur}}\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 980,
        "wires": [
            [
                "94b1921bd754c60b",
                "15abf54442e621d9"
            ]
        ]
    },
    {
        "id": "94b1921bd754c60b",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time Slider Maneuver",
        "tooltip": "Time range",
        "group": "5a7810372552815e",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "className": "",
        "x": 620,
        "y": 940,
        "wires": [
            [
                "15abf54442e621d9",
                "2bf663a53ca7f644"
            ]
        ]
    },
    {
        "id": "15abf54442e621d9",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 710,
        "y": 980,
        "wires": [
            [
                "08371a8e834ed3fa"
            ]
        ]
    },
    {
        "id": "2bf663a53ca7f644",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 795,
        "y": 920,
        "wires": []
    },
    {
        "id": "08371a8e834ed3fa",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\n\nmsg.payload = date\nmsg.body = datecurrent*1000\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 1020,
        "wires": [
            [
                "0f1749dffdc1aa6d",
                "9958904edb2cfd1b"
            ]
        ]
    },
    {
        "id": "0f1749dffdc1aa6d",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "5a7810372552815e",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1030,
        "y": 1020,
        "wires": []
    },
    {
        "id": "9958904edb2cfd1b",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "b1 time setter maneuver OUT",
        "mode": "link",
        "links": [
            "d96813c8d3d9d7b7"
        ],
        "x": 1005,
        "y": 1080,
        "wires": []
    },
    {
        "id": "4bf11013b1ba602a",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider BLUE 2",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 2120,
        "wires": [
            [
                "7bd96251a368b5d5",
                "8623254ff88fdd77"
            ]
        ]
    },
    {
        "id": "7bd96251a368b5d5",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time Slider Maneuver",
        "tooltip": "Time range",
        "group": "1756cdc52869c611",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "x": 560,
        "y": 2080,
        "wires": [
            [
                "8623254ff88fdd77",
                "e74b2a1d23886926"
            ]
        ]
    },
    {
        "id": "e74b2a1d23886926",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 725,
        "y": 2060,
        "wires": []
    },
    {
        "id": "8623254ff88fdd77",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 650,
        "y": 2120,
        "wires": [
            [
                "eff6b4dc03680e61"
            ]
        ]
    },
    {
        "id": "eff6b4dc03680e61",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\nmsg.payload = date\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 2200,
        "wires": [
            [
                "f65b80ea2fd619a0",
                "54824b02ab97ef68"
            ]
        ]
    },
    {
        "id": "f65b80ea2fd619a0",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "1756cdc52869c611",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 970,
        "y": 2200,
        "wires": []
    },
    {
        "id": "54824b02ab97ef68",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "b2 time setter maneuver OUT",
        "mode": "link",
        "links": [
            "4bfd62750d6233be"
        ],
        "x": 965,
        "y": 2260,
        "wires": []
    },
    {
        "id": "393a1e981904174c",
        "type": "comment",
        "z": "dd1202fd.a2e23",
        "name": "Time setter blue 1",
        "info": "",
        "x": 1330,
        "y": 900,
        "wires": []
    },
    {
        "id": "b8cf1857817cd0a0",
        "type": "comment",
        "z": "dd1202fd.a2e23",
        "name": "Time setter blue 2",
        "info": "",
        "x": 1190,
        "y": 2020,
        "wires": []
    },
    {
        "id": "fed61f8973df2ad3",
        "type": "comment",
        "z": "dd1202fd.a2e23",
        "name": "Time setter red1",
        "info": "",
        "x": 1320,
        "y": 1420,
        "wires": []
    },
    {
        "id": "7183cca594bb0781",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider RED 1",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\n// the dates have to be in ms and we want a 10 sec step so we divide the range by \n// 10000\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\n//we can set the max of the slide by giving it the input \n// {ui_control:{max:valeur}}\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 1540,
        "wires": [
            [
                "afbd04f0b962a4ff",
                "992255155f2203b0"
            ]
        ]
    },
    {
        "id": "afbd04f0b962a4ff",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 770,
        "y": 1540,
        "wires": [
            [
                "eeb5ec569444e028"
            ]
        ]
    },
    {
        "id": "c077afd82fb12612",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 855,
        "y": 1480,
        "wires": []
    },
    {
        "id": "eeb5ec569444e028",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\n\nmsg.payload = date\nmsg.body = datecurrent*1000\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 1580,
        "wires": [
            [
                "39f769c77323e2c3",
                "32d52063c8bc8ec4"
            ]
        ]
    },
    {
        "id": "39f769c77323e2c3",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "r1 time setter maneuver OUT",
        "mode": "link",
        "links": [
            "c705204386ed11b2"
        ],
        "x": 1065,
        "y": 1640,
        "wires": []
    },
    {
        "id": "3241ecac115013af",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Max slider RED 2",
        "func": "\nstart = Date.parse(msg.payload.startdate);\nend = Date.parse(msg.payload.enddate);\n// the dates have to be in ms and we want a 10 sec step so we divide the range by \n// 10000\nmsg = {ui_control:{max:(end-start)/10000}};//10sec step between start date and end date\n//we can set the max of the slide by giving it the input \n// {ui_control:{max:valeur}}\nmsg.body = [start/1000, end/1000];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 2700,
        "wires": [
            [
                "99739644d34141d7",
                "92e91b2792451e4b"
            ]
        ]
    },
    {
        "id": "99739644d34141d7",
        "type": "join",
        "z": "dd1202fd.a2e23",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 730,
        "y": 2700,
        "wires": [
            [
                "2f1da37429163e67"
            ]
        ]
    },
    {
        "id": "7a765cd7d41b1745",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "timeout",
        "mode": "link",
        "links": [
            "152823c72351c9fd"
        ],
        "x": 775,
        "y": 2600,
        "wires": []
    },
    {
        "id": "2f1da37429163e67",
        "type": "function",
        "z": "dd1202fd.a2e23",
        "name": "Time visi",
        "func": "var datecurrent = msg.body[0]+msg.payload[1]*10;\n\nvar myDate = new Date(datecurrent *1000);\ndate= (myDate.toGMTString());\n\n\nmsg.payload = date\nmsg.body = datecurrent*1000\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2740,
        "wires": [
            [
                "01f18e70add9cff6",
                "51ac045c5e15aaab"
            ]
        ]
    },
    {
        "id": "01f18e70add9cff6",
        "type": "link out",
        "z": "dd1202fd.a2e23",
        "name": "r2 time setter maneuver OUT",
        "mode": "link",
        "links": [
            "bcb457bab790c38d"
        ],
        "x": 1025,
        "y": 2800,
        "wires": []
    },
    {
        "id": "992255155f2203b0",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time Slider Maneuver",
        "tooltip": "Time range",
        "group": "c8a7959a4b0f55f9",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "className": "",
        "x": 640,
        "y": 1500,
        "wires": [
            [
                "afbd04f0b962a4ff",
                "c077afd82fb12612"
            ]
        ]
    },
    {
        "id": "92e91b2792451e4b",
        "type": "ui_slider",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "Time Slider Maneuver",
        "tooltip": "Time range",
        "group": "7465a3d35f5541d7",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "className": "",
        "x": 600,
        "y": 2620,
        "wires": [
            [
                "99739644d34141d7",
                "7a765cd7d41b1745"
            ]
        ]
    },
    {
        "id": "51ac045c5e15aaab",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "7465a3d35f5541d7",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1030,
        "y": 2740,
        "wires": []
    },
    {
        "id": "32d52063c8bc8ec4",
        "type": "ui_text",
        "z": "dd1202fd.a2e23",
        "group": "c8a7959a4b0f55f9",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1090,
        "y": 1580,
        "wires": []
    },
    {
        "id": "fef2087340e1adc4",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "tle setter check for B2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 140,
        "wires": []
    },
    {
        "id": "a357413f45ec242e",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "tle setter check for R1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 180,
        "wires": []
    },
    {
        "id": "76ac9d9637632cc4",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "tle setter check for R2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 220,
        "wires": []
    },
    {
        "id": "460ef4f0359fa20c",
        "type": "ui_form",
        "z": "dd1202fd.a2e23",
        "name": "",
        "label": "RED2 TLE setter",
        "group": "d4e830c4b00daeae",
        "order": 1,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "Inclination i () [2,4]",
                "value": "incli",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "RAAN  () [3,4]",
                "value": "raan",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Eccentricity e [7]",
                "value": "ecc",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "AoP  () [3,4]",
                "value": "aop",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Mean Anomaly M [3,4]",
                "value": "meana",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Mean motion N [2,14]",
                "value": "mean",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "incli": "",
            "raan": "",
            "ecc": "",
            "aop": "",
            "meana": "",
            "mean": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 230,
        "y": 620,
        "wires": [
            [
                "76ac9d9637632cc4",
                "f1a02d339ab15d13"
            ]
        ]
    },
    {
        "id": "451c5be989d9294c",
        "type": "ui_form",
        "z": "dd1202fd.a2e23",
        "g": "4c6998b4.6db838",
        "name": "",
        "label": "BLUE1 TLE setter",
        "group": "cbb369e33298cfeb",
        "order": 1,
        "width": "0",
        "height": "0",
        "options": [
            {
                "label": "Inclination i () [2,4]",
                "value": "incli",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "RAAN  () [3,4]",
                "value": "raan",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Eccentricity e [7]",
                "value": "ecc",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "AoP  () [3,4]",
                "value": "aop",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Mean Anomaly M [3,4]",
                "value": "meana",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Mean motion N [2,14]",
                "value": "mean",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "incli": "",
            "raan": "",
            "ecc": "",
            "aop": "",
            "meana": "",
            "mean": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 230,
        "y": 440,
        "wires": [
            [
                "cbe3c2e989fbe149",
                "dcabc7e9b475cd6d"
            ]
        ]
    },
    {
        "id": "dcabc7e9b475cd6d",
        "type": "file",
        "z": "dd1202fd.a2e23",
        "name": "blue1-tle-storage",
        "filename": "blue1-tle-storage.json",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 550,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "ef3dc7e1d721b2f9",
        "type": "file",
        "z": "dd1202fd.a2e23",
        "name": "",
        "filename": "blue2-tle-storage.json",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 560,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "8537f9d5148667cf",
        "type": "file",
        "z": "dd1202fd.a2e23",
        "name": "red1-tle-storage",
        "filename": "red1-tle-storage.json",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 540,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "f1a02d339ab15d13",
        "type": "file",
        "z": "dd1202fd.a2e23",
        "name": "red1-tle-storage",
        "filename": "red2-tle-storage.json",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 540,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "7fec85092a04bfed",
        "type": "debug",
        "z": "dd1202fd.a2e23",
        "name": "Time TLE B1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 950,
        "y": 1840,
        "wires": []
    },
    {
        "id": "830078cd.5ce018",
        "type": "comment",
        "z": "3913ac76.e7a7a4",
        "g": "1fd96d24.c576c3",
        "name": "Remove a database content",
        "info": "",
        "x": 400,
        "y": 440,
        "wires": []
    },
    {
        "id": "80466439.be38c8",
        "type": "ui_form",
        "z": "3913ac76.e7a7a4",
        "g": "1fd96d24.c576c3",
        "name": "",
        "label": "Remove Ground Station",
        "group": "e85e692d.e47bb8",
        "order": 2,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "GS Name",
                "value": "Name",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "Name": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "x": 230,
        "y": 500,
        "wires": [
            [
                "95062db2.f9d1d"
            ]
        ]
    },
    {
        "id": "cc07039e.b636d",
        "type": "mongodb out",
        "z": "3913ac76.e7a7a4",
        "g": "1fd96d24.c576c3",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete ground station csug@127.0.0.1",
        "collection": "ground_stations",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 810,
        "y": 460,
        "wires": []
    },
    {
        "id": "95062db2.f9d1d",
        "type": "function",
        "z": "3913ac76.e7a7a4",
        "g": "1fd96d24.c576c3",
        "name": "Query to remove a GS",
        "func": "msg.payload = {name: msg.payload.Name};\nreturn msg;\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 500,
        "wires": [
            [
                "cc07039e.b636d",
                "883d17a2.efed38",
                "4a4284af.a91d7c"
            ]
        ]
    },
    {
        "id": "883d17a2.efed38",
        "type": "mongodb out",
        "z": "3913ac76.e7a7a4",
        "g": "1fd96d24.c576c3",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete visbility windows csug@127.0.0.1",
        "collection": "visibility_windows",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 820,
        "y": 500,
        "wires": []
    },
    {
        "id": "4a4284af.a91d7c",
        "type": "mongodb out",
        "z": "3913ac76.e7a7a4",
        "g": "1fd96d24.c576c3",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete angular csug@127.0.0.1",
        "collection": "angular",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 790,
        "y": 540,
        "wires": []
    },
    {
        "id": "7f54d608.f66d18",
        "type": "function",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "select name of the station",
        "func": "//msg.topic =msg.payload;\nname = msg.payload[0].name\nnames = name.split('\"')[0]\nmsg.payload = names\nmsg.topic = [msg.var-1, name]\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1490,
        "y": 740,
        "wires": [
            [
                "71548a7e.e894d4"
            ]
        ]
    },
    {
        "id": "71548a7e.e894d4",
        "type": "change",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/GS_Database/Sat_Antenna_Tracker_\" & msg.payload & \".TXT\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 740,
        "wires": [
            [
                "e6efdf13.cfcb6"
            ]
        ]
    },
    {
        "id": "725004f9.2e6f1c",
        "type": "csv",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "",
        "sep": ",",
        "hdrin": "",
        "hdrout": "all",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 2510,
        "y": 740,
        "wires": [
            [
                "550ae2ac.c7d07c",
                "11567371c0f67cc9"
            ]
        ]
    },
    {
        "id": "550ae2ac.c7d07c",
        "type": "json",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2690,
        "y": 740,
        "wires": [
            [
                "783d60bf.56ed4"
            ]
        ]
    },
    {
        "id": "783d60bf.56ed4",
        "type": "file",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "Pursuit-file-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2890,
        "y": 740,
        "wires": [
            [
                "fcb2e5a3.0e2f78",
                "a4ff9b34.579b18",
                "6eba071.10a38f8",
                "9c64b4eb.3ee8b8"
            ]
        ]
    },
    {
        "id": "fcb2e5a3.0e2f78",
        "type": "debug",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "angular print",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3170,
        "y": 660,
        "wires": []
    },
    {
        "id": "fe49e6f5.8df938",
        "type": "link in",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "When Angular Table is filled",
        "links": [
            "320c2a31.d95b16",
            "efc64324.fb423",
            "88e679ca.dca768"
        ],
        "x": 230,
        "y": 740,
        "wires": [
            [
                "1e6e1bc5.0f5834"
            ]
        ],
        "l": true
    },
    {
        "id": "a71e2b4c.233488",
        "type": "inject",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 290,
        "y": 700,
        "wires": [
            [
                "1e6e1bc5.0f5834"
            ]
        ]
    },
    {
        "id": "9a1fe386.f5e59",
        "type": "delay",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 2360,
        "y": 740,
        "wires": [
            [
                "725004f9.2e6f1c"
            ]
        ]
    },
    {
        "id": "a4ff9b34.579b18",
        "type": "link out",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "ANGULAR-out",
        "links": [
            "94c90f48.05a96",
            "a245d25.3ecc83",
            "ebf798e8.bc25e8"
        ],
        "x": 3135,
        "y": 720,
        "wires": []
    },
    {
        "id": "6eba071.10a38f8",
        "type": "link out",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "to reset VTS",
        "links": [
            "58129645.a328f8",
            "d4c14718.d055b8"
        ],
        "x": 3135,
        "y": 780,
        "wires": []
    },
    {
        "id": "efe2c69b.fd76d8",
        "type": "comment",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "MACHINE DEPENDENCE",
        "info": "Stork_Antenna_Tracker_xxxxxxx.txt",
        "x": 2890,
        "y": 680,
        "wires": [],
        "icon": "node-red-contrib-alarm/alarm.png"
    },
    {
        "id": "9c64b4eb.3ee8b8",
        "type": "function",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "message to dashboard10",
        "func": "msg.payload = \"Antenna Tracker files completed\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3210,
        "y": 840,
        "wires": [
            [
                "601c3227.d4d72c"
            ]
        ]
    },
    {
        "id": "601c3227.d4d72c",
        "type": "link out",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "Antenna files",
        "links": [
            "caf37f66.25fde",
            "6e3e89af.161808",
            "bd944618.65d4c8"
        ],
        "x": 3375,
        "y": 840,
        "wires": []
    },
    {
        "id": "1e6e1bc5.0f5834",
        "type": "function",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "Query to show GS names",
        "func": "msg.payload = {}\nmsg.projection = {name:1,_id:0}\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 740,
        "wires": [
            [
                "520c3859.aa50c8"
            ]
        ]
    },
    {
        "id": "520c3859.aa50c8",
        "type": "mongodb in",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show stations name",
        "collection": "ground_stations",
        "operation": "find",
        "x": 710,
        "y": 740,
        "wires": [
            [
                "eb2aa14e.a61f4"
            ]
        ]
    },
    {
        "id": "eb2aa14e.a61f4",
        "type": "function",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "Add a counter to ID",
        "func": "var count = 1\nmsg.payload.forEach(gs => {\n    gs.var = count ++\n})\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 740,
        "wires": [
            [
                "b3db7416.4787d8"
            ]
        ]
    },
    {
        "id": "b3db7416.4787d8",
        "type": "split",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1090,
        "y": 740,
        "wires": [
            [
                "dcefc108.5f804"
            ]
        ]
    },
    {
        "id": "dcefc108.5f804",
        "type": "function",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "Format payload",
        "func": "msg.var = msg.payload.var\ndelete msg.payload.var\nmsg.payload = [msg.payload]\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 740,
        "wires": [
            [
                "7f54d608.f66d18"
            ]
        ]
    },
    {
        "id": "e6efdf13.cfcb6",
        "type": "function",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "query to show angular ",
        "func": "msg.payload = {name: msg.payload}\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1940,
        "y": 740,
        "wires": [
            [
                "ce1d15e8.6c1078"
            ]
        ]
    },
    {
        "id": "ce1d15e8.6c1078",
        "type": "mongodb in",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of angular",
        "collection": "angular",
        "operation": "find",
        "x": 2170,
        "y": 740,
        "wires": [
            [
                "9a1fe386.f5e59"
            ]
        ]
    },
    {
        "id": "e57e953b.7cd0a8",
        "type": "comment",
        "z": "3913ac76.e7a7a4",
        "g": "b6d29b3c.89b878",
        "name": "Fill the database",
        "info": "",
        "x": 360,
        "y": 260,
        "wires": []
    },
    {
        "id": "edd76d7d.08bdb",
        "type": "ui_form",
        "z": "3913ac76.e7a7a4",
        "g": "b6d29b3c.89b878",
        "name": "",
        "label": "Add Ground Station",
        "group": "e85e692d.e47bb8",
        "order": 1,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "GS Name",
                "value": "Name",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "GS Latitude ()",
                "value": "Lat",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "GS Longitude ()",
                "value": "Lon",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "GS Altitude  (m)",
                "value": "Alt",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "GS Elevation ()",
                "value": "El",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "GS Frequency (MHz)",
                "value": "Freq",
                "type": "number",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "Name": "",
            "Lat": "",
            "Lon": "",
            "Alt": "",
            "El": "",
            "Freq": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "x": 210,
        "y": 300,
        "wires": [
            [
                "507d36b2.5917f8"
            ]
        ]
    },
    {
        "id": "507d36b2.5917f8",
        "type": "function",
        "z": "3913ac76.e7a7a4",
        "g": "b6d29b3c.89b878",
        "name": "Query to add a GS",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.name = msg.payload.Name\ngs.latitude = msg.payload.Lat\ngs.longitude = msg.payload.Lon\ngs.altitude = msg.payload.Alt\ngs.elevation = msg.payload.El\ngs.freq = msg.payload.Freq\ngs.location = \"[\" + msg.payload.Lat + \",\" + msg.payload.Lon + \"]\"\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 300,
        "wires": [
            [
                "90bc963d.ab5238"
            ]
        ]
    },
    {
        "id": "de5fe0c8.0d6bb",
        "type": "mongodb out",
        "z": "3913ac76.e7a7a4",
        "g": "b6d29b3c.89b878",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insertGS-gsdata",
        "collection": "ground_stations",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 900,
        "y": 300,
        "wires": []
    },
    {
        "id": "90bc963d.ab5238",
        "type": "split",
        "z": "3913ac76.e7a7a4",
        "g": "b6d29b3c.89b878",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 690,
        "y": 300,
        "wires": [
            [
                "de5fe0c8.0d6bb"
            ]
        ]
    },
    {
        "id": "11567371c0f67cc9",
        "type": "debug",
        "z": "3913ac76.e7a7a4",
        "g": "312c8fe7.75cef",
        "name": "Test DEBUG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2670,
        "y": 800,
        "wires": []
    },
    {
        "id": "68a04f6a.3ad01",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "name": "Move the data to the override values",
        "func": "//var p = msg.payload.split(\"\\n\");\n//var p = msg.payload[0];\nmsg.satid = msg.payload[0][0]\nmsg.tle1 =  msg.payload[0].tle1;\nmsg.tle2 =  msg.payload[0].tle2;\nmsg.payload = Date.now()\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 4400,
        "wires": [
            [
                "3e3626b1.c6cc4a",
                "90616c77ddc20a7b"
            ]
        ]
    },
    {
        "id": "3e3626b1.c6cc4a",
        "type": "tle",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "satid": "ROBUSTA",
        "tle1": "",
        "tle2": "",
        "coordsys": "latlongdeg",
        "name": "(TLE prefilled with sat data)",
        "x": 680,
        "y": 4480,
        "wires": [
            [
                "74fcd845.6038d8",
                "126451f0.88e04e"
            ]
        ]
    },
    {
        "id": "74fcd845.6038d8",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "name": "Flight-data message",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\nif(!Array.isArray(msg.payload)){\n   var vel = Math.pow(Math.pow((msg.payload.velocity.x)/1000,2)+Math.pow((msg.payload.velocity.y)/1000,2)+Math.pow((msg.payload.velocity.z)/1000,2),0.5);\n    vela = vel*1000;\n    arrondi = Math.round(vela);\n    vel = arrondi/1000;\n    var alt = msg.payload.position.alt;\n    alta = alt*1\n    arrondi = Math.round(alta);\n    alt = arrondi/1;\n\nif(msg.payload.position.lat>37.0 & msg.payload.position.lat<55.0 & msg.payload.position.lon>-5.0 & msg.payload.position.lon<14.0){\n   return{\n    topic:msg.payload.name,\n    payload: vel,\n    mailing: alt/1000,\n    body: \"Satellite label : \"+msg.payload.name  + \"                                    \"\n    + \"        Sat altitude : \"+msg.payload.position.alt/1000 +\" km \"\n    + \"        Ground position link : https://www.google.com/maps/search/?api=1&query=\"+msg.payload.position.lat+\",\"+msg.payload.position.lon\n    + \"        Sat velocity : \"+vel + \" km/s \"\n    + \"        Flight position link : https://www.google.com/maps/@\"+msg.payload.position.lat+\",\"+msg.payload.position.lon+\",\"+msg.payload.position.alt+\"m/data=!3m1!1e3!4m2!10m1!1e1\"\n    } \n}\nelse {\n  return{\n  topic:msg.payload.name,\n  payload: vel,\n  mailing: alt/1000,\n  body: \"Satellite label : \"+msg.payload.name  + \"                                    \"\n  + \"        Sat altitude : \"+msg.payload.position.alt/1000 +\" km \"\n  + \"        Ground position link : https://www.google.com/maps/search/?api=1&query=\"+msg.payload.position.lat+\",\"+msg.payload.position.lon\n  + \"        Sat velocity : \"+vel + \" km/s \"\n  + \"        Flight position link : https://www.google.com/maps/@\"+msg.payload.position.lat+\",\"+msg.payload.position.lon+\",\"+msg.payload.position.alt+\"m/data=!3m1!1e3!4m2!10m1!1e1\"\n  }\n} \n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 4480,
        "wires": [
            [
                "68e5ba45.705be4",
                "76a24cf9.258434",
                "1e4d8792.74f5a8",
                "852b55c9920045c0"
            ]
        ]
    },
    {
        "id": "4336a6fd.067998",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "name": "RELOAD DASHBOARD",
        "links": [
            "2bf26631.0dfbda",
            "ccbc5346.db0ba",
            "931b309d.f0a88"
        ],
        "x": 185,
        "y": 4420,
        "wires": [
            [
                "5c9f53db8c9861c7",
                "eacad089ec7f2e6f"
            ]
        ]
    },
    {
        "id": "a972d547.ac2aa8",
        "type": "complete",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "name": "Trigger when VTS is INIT",
        "scope": [
            "de52c4.2fb65d4"
        ],
        "uncaught": false,
        "x": 270,
        "y": 4380,
        "wires": [
            [
                "eacad089ec7f2e6f"
            ]
        ]
    },
    {
        "id": "aeaa99f2.5cf4f8",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "check X sat",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3190,
        "y": 260,
        "wires": []
    },
    {
        "id": "5aa49bbf.e8b304",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Celestrak_req_NORBI",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://celestrak.com/NORAD/elements/gp.php?CATNR=51087",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 380,
        "y": 880,
        "wires": [
            [
                "4538bc69.22afe4",
                "7cfcc3b6ae1705df",
                "62fdc70dbfcfc1a2",
                "4217d62511c4f137",
                "d83b568b192310f6"
            ]
        ]
    },
    {
        "id": "4538bc69.22afe4",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 880,
        "wires": [
            [
                "127ee21c.b3153e"
            ],
            []
        ]
    },
    {
        "id": "127ee21c.b3153e",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 880,
        "wires": [
            [
                "3d2822d5.9f85de"
            ],
            []
        ]
    },
    {
        "id": "3d2822d5.9f85de",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle-celestrak\",\n payload:msg.payload,\n //body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 940,
        "wires": [
            [
                "5927d4ed.88df2c"
            ]
        ]
    },
    {
        "id": "5927d4ed.88df2c",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 830,
        "y": 940,
        "wires": [
            [
                "4f22e057.0b261"
            ]
        ]
    },
    {
        "id": "4f22e057.0b261",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1030,
        "y": 940,
        "wires": [
            [
                "806158a8.2a45d8",
                "bad3f015.92d69",
                "c24543b528ceac66"
            ]
        ]
    },
    {
        "id": "e3a04705.5ea298",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "TLE-CUSTOM",
        "func": "\n   return{\n topic:\"tle\",\n paths:null,\n payload:[msg.paths.path_1, msg.paths.path_2],\n body:null\n} ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2000,
        "y": 880,
        "wires": [
            [
                "09b6f94b45eb28b7",
                "b8234c2a75bb5ae9"
            ]
        ]
    },
    {
        "id": "806158a8.2a45d8",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "TLE-1",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:msg.topic,\n payload:msg.payload[0].col1,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 880,
        "wires": [
            [
                "2183907fcbb6b532"
            ]
        ]
    },
    {
        "id": "bad3f015.92d69",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "TLE-2",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic: msg.topic,\n payload: msg.payload[1].col1,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 920,
        "wires": [
            [
                "e946fe5a6f3b792e"
            ]
        ]
    },
    {
        "id": "c4bc0507.a5aa28",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 1020,
        "wires": [
            [
                "b3804737c3bc7442"
            ]
        ]
    },
    {
        "id": "912d16a.67297e8",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 980,
        "wires": [
            [
                "b3804737c3bc7442"
            ]
        ]
    },
    {
        "id": "f047630c.597cf",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "TLE-2-edit",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\nif(Number(msg.paths.path_2.incli)>=100){\n     return{\n topic:\"tle\",\n payload: msg.paths.path_3[0]+\" \"+msg.paths.path_3[1]+\" \"+msg.paths.path_2.incli+\" \"+msg.paths.path_2.raan+\" \"+msg.paths.path_2.ecc+\" \"+msg.paths.path_2.aop+\" \"+msg.paths.path_2.meana+\" \"+msg.paths.path_2.mean,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n}\nelse{\n   return{\n topic:\"tle\",\n payload: msg.paths.path_3[0]+\" \"+msg.paths.path_3[1]+\"  \"+msg.paths.path_2.incli+\" \"+msg.paths.path_2.raan+\" \"+msg.paths.path_2.ecc+\" \"+msg.paths.path_2.aop+\" \"+msg.paths.path_2.meana+\" \"+msg.paths.path_2.mean,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1990,
        "y": 960,
        "wires": [
            [
                "6dcb91d.1b8e47"
            ]
        ]
    },
    {
        "id": "788aabf0.013d94",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 880,
        "wires": [
            [
                "ef029d22.ba5f5"
            ]
        ]
    },
    {
        "id": "6dcb91d.1b8e47",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 960,
        "wires": [
            [
                "ef029d22.ba5f5"
            ]
        ]
    },
    {
        "id": "ef029d22.ba5f5",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1820,
        "y": 880,
        "wires": [
            [
                "e3a04705.5ea298",
                "e99ba94e2ccbe4ee",
                "211ce65b221c6d6b"
            ],
            []
        ]
    },
    {
        "id": "f6ee9f4a.0abf9",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "msg.paths.path_1[9] or [10]",
        "info": "",
        "x": 2010,
        "y": 1000,
        "wires": []
    },
    {
        "id": "8c66adb9.78a24",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "message to dashboard1",
        "func": "msg.payload = \"VTS initialized\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2740,
        "y": 4520,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "ccc1c309.94261",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "message to dashboard2",
        "func": "msg.payload = \"Time set\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2740,
        "y": 4880,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "f4e8516e.d638a",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "message to dashboard3",
        "func": "msg.payload = \"VTS PLAY\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2740,
        "y": 4560,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "97bf463.9b785b8",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "API REST IN",
        "links": [
            "5a569638.12c268",
            "bd9059ba.e28e78"
        ],
        "x": 2825,
        "y": 4600,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "8be87eed.6b61d",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "file updated in",
        "links": [
            "5c29a6fb.e5fb08"
        ],
        "x": 2825,
        "y": 4760,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "3ebdce04.545c52",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "Color Mapping",
        "func": "switch (msg.payload) {\n\ncase \"VTS project files updated\" : \n    msg.color = \"lime\";\n    break;\n    \ncase \"VTS API ready\" : \n    msg.color = \"yellow\";\n    break;\n\ncase \"Time set\" : \n    msg.color = \"yellow\";\n    break; \n    \ncase \"VTS PLAY\" : \n    msg.color = \"lime\";\n    break;  \n\ncase \"VTS initialized\" : \n    msg.color = \"yellow\";\n    break;  \n\ncase \"VTS PAUSE\" : \n    msg.color = \"red\";\n    break;  \n    \ncase \"INIT VTS\" : \n    msg.color = \"yellow\";\n    break;  \n    \ncase \"Visi window written in DB\" : \n    msg.color = \"lime\";\n    break;\n    \ncase \"Angular data written in DB\": \n    msg.color = \"lime\";\n    break;\n    \ncase \"Antenna Tracker files completed\" : \n    msg.color = \"lime\";\n    break;\n    \ndefault : \n    msg.color = \"red\";\n    break;\n}\n\nreturn msg;\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3130,
        "y": 4560,
        "wires": [
            []
        ]
    },
    {
        "id": "82142810.e8ee98",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "message to dashboard0",
        "func": "msg.payload = \"VTS PAUSE\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2740,
        "y": 4840,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "c02b28f9.44f608",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "message to dashboard7",
        "func": "msg.payload = \"INIT VTS\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2740,
        "y": 4800,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "f48249b.dec28b8",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "angular IN",
        "links": [
            "8e88ac69.5d4e4",
            "bb2c4b73.b325b8",
            "986279ab.994688"
        ],
        "x": 2825,
        "y": 4640,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "becd8ee3.9efcd",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "visi IN",
        "links": [
            "2e62eb9d.201534",
            "48265ed.41847a",
            "918bdb58.54e5a8"
        ],
        "x": 2825,
        "y": 4680,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "bd944618.65d4c8",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "d02d39d9.704b38",
        "name": "Antenna files IN",
        "links": [
            "a3dc0636.a498c8",
            "f6185593.86e148",
            "601c3227.d4d72c"
        ],
        "x": 2825,
        "y": 4720,
        "wires": [
            [
                "3ebdce04.545c52"
            ]
        ]
    },
    {
        "id": "b538102e.235bb",
        "type": "file",
        "z": "7c68352c.1b47bc",
        "g": "1e404e3b.14ce32",
        "name": "TLE-file-storage",
        "filename": "TLE_STORK.txt",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1580,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "eea2e68b.c73728",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "1e404e3b.14ce32",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1710,
        "y": 220,
        "wires": [
            [
                "a10e1e99.b755e",
                "86ee657f.dfff28"
            ]
        ]
    },
    {
        "id": "f9ce7744.af89a8",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "1e404e3b.14ce32",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1550,
        "y": 220,
        "wires": [
            [
                "eea2e68b.c73728"
            ]
        ]
    },
    {
        "id": "287ac47f.0441ac",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "1e404e3b.14ce32",
        "name": "MACHINE DEPENDENCE",
        "info": "TLE_STORK.txt",
        "x": 1610,
        "y": 120,
        "wires": [],
        "icon": "node-red-contrib-alarm/alarm.png"
    },
    {
        "id": "a10e1e99.b755e",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "TLE1-2_STORK",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle\",\n payload:[msg.payload[0].col1, msg.payload[1].col1],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2440,
        "y": 240,
        "wires": [
            [
                "64e005a8c862bfaf",
                "6f5ae58615d925eb",
                "24e475a7e7cc30b0",
                "0fe194477cfd115a"
            ]
        ]
    },
    {
        "id": "cf21d2b3.0c5d9",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "Time-Setter-IN2",
        "links": [
            "2072d02e.cd2d4"
        ],
        "x": 2820,
        "y": 60,
        "wires": [
            [
                "ed91f7078814f403",
                "acce30040d483650"
            ]
        ],
        "l": true
    },
    {
        "id": "f48c422f.86566",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "TLE injection",
        "info": "",
        "x": 2430,
        "y": 200,
        "wires": []
    },
    {
        "id": "8f9784ae.86ddc8",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "Ground Stat injection",
        "info": "",
        "x": 2310,
        "y": 120,
        "wires": []
    },
    {
        "id": "b6ca8b9b.ec16d8",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "Last Time Set",
        "info": "",
        "x": 2310,
        "y": 60,
        "wires": []
    },
    {
        "id": "86ee657f.dfff28",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "Query to get Stations",
        "func": "msg.payload = {}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2300,
        "y": 160,
        "wires": [
            [
                "d25089c5.16ad98"
            ]
        ]
    },
    {
        "id": "d25089c5.16ad98",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Get stations",
        "collection": "ground_stations",
        "operation": "find",
        "x": 2510,
        "y": 120,
        "wires": [
            [
                "804d4875e2f1648a"
            ]
        ]
    },
    {
        "id": "84fbfb29.95cd58",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "http request OEM",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://backend:8000/vts",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 3850,
        "y": 180,
        "wires": [
            [
                "f724ce42.a2232"
            ]
        ]
    },
    {
        "id": "f724ce42.a2232",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "AEM-OEM-MEM-VTS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 4080,
        "y": 180,
        "wires": []
    },
    {
        "id": "58ea7c57.11f754",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "http request LLA",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://backend:8000/vts",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 3840,
        "y": 220,
        "wires": [
            [
                "a5bc4015.3f8fa"
            ]
        ]
    },
    {
        "id": "a5bc4015.3f8fa",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "LLA-VISIBILITY",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 4060,
        "y": 220,
        "wires": []
    },
    {
        "id": "3dce35b.ba5adca",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "Sub-Module VTS files Updating",
        "info": "",
        "x": 4050,
        "y": 140,
        "wires": []
    },
    {
        "id": "105fdd91.9d22d2",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "joinwait reload",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3820,
        "y": 280,
        "wires": []
    },
    {
        "id": "e8df78b.012af88",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "API request preparation",
        "info": "",
        "x": 3600,
        "y": 140,
        "wires": []
    },
    {
        "id": "4de09aa7.179f04",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "MACHINE DEPENDENCE",
        "info": "TLE_STORK.txt",
        "x": 4030,
        "y": 260,
        "wires": [],
        "icon": "node-red-contrib-alarm/alarm.png"
    },
    {
        "id": "848d6f10.6746c",
        "type": "complete",
        "z": "7c68352c.1b47bc",
        "g": "4e981e1c.9c0d",
        "name": "Trigger-Time",
        "scope": [
            "b9a6ef87.24de3"
        ],
        "uncaught": false,
        "x": 240,
        "y": 3740,
        "wires": [
            [
                "97d64ebb.eedeb"
            ]
        ]
    },
    {
        "id": "97d64ebb.eedeb",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "4e981e1c.9c0d",
        "name": "triggerout",
        "links": [
            "f10e7267.4caff",
            "ef2c826e.d9abc",
            "d3182296.0de68",
            "e308961f59c879b4",
            "3d23bd653343df8f"
        ],
        "x": 365,
        "y": 3740,
        "wires": []
    },
    {
        "id": "b4ed5b61.777588",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "Celestrak_request",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://celestrak.com/NORAD/elements/gp.php?CATNR=42792",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 450,
        "y": 180,
        "wires": [
            [
                "a011d9bd.cb5668",
                "be5b3468b95dc183"
            ]
        ]
    },
    {
        "id": "a011d9bd.cb5668",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 180,
        "wires": [
            [
                "2002146a.dd37ac"
            ],
            [
                "8f00d092.2ceaf"
            ]
        ]
    },
    {
        "id": "2002146a.dd37ac",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 920,
        "y": 160,
        "wires": [
            [
                "52cc4274.d51c7c"
            ],
            [
                "e7df52cf.b1dee"
            ]
        ]
    },
    {
        "id": "e7df52cf.b1dee",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "Not the searched content",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 220,
        "wires": []
    },
    {
        "id": "8f00d092.2ceaf",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "HTTP code error",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 200,
        "wires": []
    },
    {
        "id": "52cc4274.d51c7c",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TLE data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 140,
        "wires": [
            [
                "b538102e.235bb",
                "f9ce7744.af89a8"
            ]
        ]
    },
    {
        "id": "a29ee050.688fc",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "Sub-Module TLE sourcing",
        "info": "",
        "x": 210,
        "y": 80,
        "wires": []
    },
    {
        "id": "b9a6ef87.24de3",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "EVERY X MINUTES",
        "links": [
            "428d756c.93ba9c",
            "960b681e.848468",
            "96243ca6.6dd5c"
        ],
        "x": 95,
        "y": 240,
        "wires": [
            [
                "b4ed5b61.777588",
                "5aa49bbf.e8b304",
                "0ddd48be7ff5da84",
                "83de099b2fa78eaa",
                "71543d1f07fc776a",
                "2c3cb7c6e5582712",
                "fdeaa62f.5f5688"
            ]
        ]
    },
    {
        "id": "a43c137e.63e62",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "Select the Celestrak URL for TLE",
        "info": "",
        "x": 450,
        "y": 240,
        "wires": []
    },
    {
        "id": "75ace4d0.f680ac",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "CELESTRAK DEPENDENCE",
        "info": "Adapt URL link to Celestrak",
        "x": 440,
        "y": 120,
        "wires": [],
        "icon": "node-red-contrib-alarm/alarm.png"
    },
    {
        "id": "68e5ba45.705be4",
        "type": "delay",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 1330,
        "y": 4280,
        "wires": [
            [
                "7b763b58.51ce74"
            ]
        ]
    },
    {
        "id": "7e174054.f4b3",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "name": "Sub-Module STORK Dashboard",
        "info": "",
        "x": 1650,
        "y": 4200,
        "wires": []
    },
    {
        "id": "126451f0.88e04e",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "name": "msg13",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1350,
        "y": 4340,
        "wires": []
    },
    {
        "id": "18880b23.8d3665",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "name": "Select the uphere.space URL with sat ID",
        "info": "",
        "x": 1340,
        "y": 4160,
        "wires": []
    },
    {
        "id": "76a24cf9.258434",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "name": "Name to Dashboard",
        "func": "msg.payload = msg.topic\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 4380,
        "wires": [
            [
                "a026019c.78bc9"
            ]
        ]
    },
    {
        "id": "a026019c.78bc9",
        "type": "ui_text",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "group": "89c6e42c.26d338",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Sat name",
        "label": "Satellite name",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1580,
        "y": 4380,
        "wires": []
    },
    {
        "id": "1e4d8792.74f5a8",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "name": "Altitude to Dashboard",
        "func": "msg.payload = msg.mailing\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 4420,
        "wires": [
            [
                "cedd76e1.9e8238"
            ]
        ]
    },
    {
        "id": "cedd76e1.9e8238",
        "type": "ui_text",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "group": "89c6e42c.26d338",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Altitude",
        "label": "Altitude (km)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1580,
        "y": 4420,
        "wires": []
    },
    {
        "id": "7b763b58.51ce74",
        "type": "ui_artlessgauge",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "group": "3dabe8df.a10df8",
        "order": 2,
        "width": 3,
        "height": 3,
        "name": "Sat Velocity",
        "icon": "fa-rocket",
        "label": "Satellite Velocity",
        "unit": "km/s",
        "layout": "radial",
        "decimals": "3",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 7.2,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 7.8,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 1590,
        "y": 4280,
        "wires": []
    },
    {
        "id": "62fdc70dbfcfc1a2",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 2180,
        "wires": [
            [
                "9752f6e21e084c46"
            ],
            []
        ]
    },
    {
        "id": "9752f6e21e084c46",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 2180,
        "wires": [
            [
                "820e2915d0544dbf"
            ],
            []
        ]
    },
    {
        "id": "820e2915d0544dbf",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TLE data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 2240,
        "wires": [
            [
                "3bc220c1a4dde272"
            ]
        ]
    },
    {
        "id": "3bc220c1a4dde272",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 890,
        "y": 2240,
        "wires": [
            [
                "f17b5f10425b11fd"
            ]
        ]
    },
    {
        "id": "f17b5f10425b11fd",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1090,
        "y": 2240,
        "wires": [
            [
                "b41819f36e747855",
                "5ba1af6f8dddc83a",
                "5b9993033376ecbe"
            ]
        ]
    },
    {
        "id": "f49cc726b786fa1e",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "TLE-CUSTOM",
        "func": "\n   return{\n topic:\"tle\",\n paths:null,\n payload:[msg.paths.path_1, msg.paths.path_2],\n body:null\n} ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2060,
        "y": 2180,
        "wires": [
            [
                "c98c1a2e433103ab",
                "122962f6cadc8f0a",
                "91672903e0e718ac"
            ]
        ]
    },
    {
        "id": "b41819f36e747855",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "TLE-1",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle1\",\n payload:msg.payload[0].col1,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 2180,
        "wires": [
            [
                "7d0349f1f69594b4"
            ]
        ]
    },
    {
        "id": "5ba1af6f8dddc83a",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "TLE-2",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle2\",\n payload: msg.payload[1].col1,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 2240,
        "wires": [
            [
                "975910363c080bd1"
            ]
        ]
    },
    {
        "id": "975910363c080bd1",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "splt": " ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1430,
        "y": 2240,
        "wires": [
            [
                "eaa614457517634c"
            ]
        ]
    },
    {
        "id": "eaa614457517634c",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1550,
        "y": 2240,
        "wires": [
            [
                "9bef072d9c28af30",
                "c3ac477d2c124c79"
            ]
        ]
    },
    {
        "id": "c98c1a2e433103ab",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "TLE custom",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2230,
        "y": 2140,
        "wires": []
    },
    {
        "id": "8b8d076ee67ea589",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 2320,
        "wires": [
            [
                "869f204096c7196c"
            ]
        ]
    },
    {
        "id": "9bef072d9c28af30",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 2280,
        "wires": [
            [
                "869f204096c7196c"
            ]
        ]
    },
    {
        "id": "3ff9651d74d8f481",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "TLE-2-edit",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\nif(Number(msg.paths.path_2.incli)>=100){\n     return{\n topic:\"tle\",\n payload: msg.paths.path_3[0]+\" \"+msg.paths.path_3[1]+\" \"+msg.paths.path_2.incli+\" \"+msg.paths.path_2.raan+\" \"+msg.paths.path_2.ecc+\" \"+msg.paths.path_2.aop+\" \"+msg.paths.path_2.meana+\" \"+msg.paths.path_2.mean,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n}\nelse{\n   return{\n topic:\"tle\",\n payload: msg.paths.path_3[0]+\" \"+msg.paths.path_3[1]+\"  \"+msg.paths.path_2.incli+\" \"+msg.paths.path_2.raan+\" \"+msg.paths.path_2.ecc+\" \"+msg.paths.path_2.aop+\" \"+msg.paths.path_2.meana+\" \"+msg.paths.path_2.mean,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 2260,
        "wires": [
            [
                "2cfdedfca9832603"
            ]
        ]
    },
    {
        "id": "c3969790825257b7",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 2200,
        "wires": [
            [
                "2ec49ab58b009cf6"
            ]
        ]
    },
    {
        "id": "2cfdedfca9832603",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2210,
        "y": 2260,
        "wires": [
            [
                "2ec49ab58b009cf6"
            ]
        ]
    },
    {
        "id": "2ec49ab58b009cf6",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1880,
        "y": 2160,
        "wires": [
            [
                "f49cc726b786fa1e",
                "400ff9cd912f5dd6"
            ],
            []
        ]
    },
    {
        "id": "05269e71ae136bf8",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "msg.paths.path_1[9] or [10]",
        "info": "",
        "x": 2070,
        "y": 2300,
        "wires": []
    },
    {
        "id": "4217d62511c4f137",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 2700,
        "wires": [
            [
                "4d1c86c86f958584"
            ],
            []
        ]
    },
    {
        "id": "4d1c86c86f958584",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 2700,
        "wires": [
            [
                "1ab4fc0d6de536d9"
            ],
            []
        ]
    },
    {
        "id": "1ab4fc0d6de536d9",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TLE data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 2760,
        "wires": [
            [
                "f65f62669989aff6"
            ]
        ]
    },
    {
        "id": "f65f62669989aff6",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 830,
        "y": 2760,
        "wires": [
            [
                "30d04dd6a02967b9"
            ]
        ]
    },
    {
        "id": "30d04dd6a02967b9",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1030,
        "y": 2760,
        "wires": [
            [
                "ed8485e00f8f0b52",
                "f20ce87449bb0473",
                "07532d1e0f13ad70",
                "dfaaccde186ca7ea"
            ]
        ]
    },
    {
        "id": "da3ff15e3ef8af72",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "TLE-CUSTOM",
        "func": "\n   return{\n topic:\"tle\",\n paths:null,\n payload:[msg.paths.path_1, msg.paths.path_2],\n body:null\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2040,
        "y": 2680,
        "wires": [
            [
                "240b7466e8341fab",
                "de7eddc336816d9b",
                "fbf93b8de66480d8",
                "3c1ce0f06523580c"
            ]
        ]
    },
    {
        "id": "ed8485e00f8f0b52",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "TLE-1",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle1\",\n payload:msg.payload[0].col1,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 2700,
        "wires": [
            [
                "374088d03dd438c1",
                "2ebc69cb73de3cee"
            ]
        ]
    },
    {
        "id": "f20ce87449bb0473",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "TLE-2",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle2\",\n payload: msg.payload[1].col1,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 2780,
        "wires": [
            [
                "2b815f20effd914e"
            ]
        ]
    },
    {
        "id": "2b815f20effd914e",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "splt": " ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1390,
        "y": 2780,
        "wires": [
            [
                "cfd7ba48b38a5b82"
            ]
        ]
    },
    {
        "id": "cfd7ba48b38a5b82",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1510,
        "y": 2780,
        "wires": [
            [
                "9a3b7338d1630535",
                "0115afccfe51ac28"
            ]
        ]
    },
    {
        "id": "240b7466e8341fab",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "TLE custom",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2250,
        "y": 2680,
        "wires": []
    },
    {
        "id": "56746b3aeb555fac",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 2860,
        "wires": [
            [
                "39026bbb7cb7ba50"
            ]
        ]
    },
    {
        "id": "9a3b7338d1630535",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 2800,
        "wires": [
            [
                "39026bbb7cb7ba50"
            ]
        ]
    },
    {
        "id": "a43e55cd5a3e6552",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "TLE-2-edit",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\nif(Number(msg.paths.path_2.incli)>=100){\n     return{\n topic:\"tle\",\n payload: msg.paths.path_3[0]+\" \"+msg.paths.path_3[1]+\" \"+msg.paths.path_2.incli+\" \"+msg.paths.path_2.raan+\" \"+msg.paths.path_2.ecc+\" \"+msg.paths.path_2.aop+\" \"+msg.paths.path_2.meana+\" \"+msg.paths.path_2.mean,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n}\nelse{\n   return{\n topic:\"tle\",\n payload: msg.paths.path_3[0]+\" \"+msg.paths.path_3[1]+\"  \"+msg.paths.path_2.incli+\" \"+msg.paths.path_2.raan+\" \"+msg.paths.path_2.ecc+\" \"+msg.paths.path_2.aop+\" \"+msg.paths.path_2.meana+\" \"+msg.paths.path_2.mean,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1970,
        "y": 2780,
        "wires": [
            [
                "28536d82d866d850"
            ]
        ]
    },
    {
        "id": "fe098b3fe6fc5e5d",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 2720,
        "wires": [
            [
                "d228f02b7f113d98"
            ]
        ]
    },
    {
        "id": "28536d82d866d850",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 2780,
        "wires": [
            [
                "d228f02b7f113d98"
            ]
        ]
    },
    {
        "id": "d228f02b7f113d98",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1840,
        "y": 2680,
        "wires": [
            [
                "da3ff15e3ef8af72"
            ],
            []
        ]
    },
    {
        "id": "07532d1e0f13ad70",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "real TLE",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1300,
        "y": 2900,
        "wires": []
    },
    {
        "id": "417260ed0a2e03cd",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "msg.paths.path_1[9] or [10]",
        "info": "",
        "x": 2010,
        "y": 2820,
        "wires": []
    },
    {
        "id": "852b55c9920045c0",
        "type": "ui_iframe",
        "z": "7c68352c.1b47bc",
        "g": "3ccbb53f.0e92ea",
        "group": "89c6e42c.26d338",
        "name": "iframe for Home",
        "order": 3,
        "width": 6,
        "height": 13,
        "url": "https://uphere.space/satellites/42792",
        "origin": "*",
        "scale": 100,
        "x": 1340,
        "y": 4200,
        "wires": [
            []
        ]
    },
    {
        "id": "2183907fcbb6b532",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "splt": " ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 990,
        "y": 780,
        "wires": [
            [
                "6e7a6c03ee9546cb"
            ]
        ]
    },
    {
        "id": "6e7a6c03ee9546cb",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1130,
        "y": 780,
        "wires": [
            [
                "292964d19c921b46"
            ]
        ]
    },
    {
        "id": "e99ba94e2ccbe4ee",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "TimePerigee-B1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2000,
        "y": 800,
        "wires": []
    },
    {
        "id": "5b94fea4bc8be85c",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "TLE1-edit",
        "func": "//var time = Date.now()\nvar time = 1000*(msg.body.min+msg.curr.max*10);\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*1000000;\nvar frac = Math.round(fraca)/1000000;\nvar epoch = 1000*year+day+frac;\nepoch=epoch.toFixed(8);\n\n/*\nif (msg.paths.path_2.length == 16) {\n    return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: msg.paths.path_2[0]+\" \"+msg.paths.path_2[1]+\" \"+msg.paths.path_2[2]+\"  \"+epoch+\"    \"+msg.paths.path_2[8]+\"  \"+msg.paths.path_2[10]+\"  \"+msg.paths.path_2[12]+\" \"+msg.paths.path_2[13]+\"  \"+msg.paths.path_2[15],\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n    } \n} else {\n*/\n   return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: msg.paths.path_2[0]+\" \"+msg.paths.path_2[1]+\" \"+msg.paths.path_2[2]+\"  \"+epoch+\" -.00030938  00000+0  12818-2 0  9996\",\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n    } \n//}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 860,
        "wires": [
            [
                "788aabf0.013d94",
                "c6be632b7b251349",
                "fe5ea50b57aa1c32"
            ]
        ]
    },
    {
        "id": "7d0349f1f69594b4",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "splt": " ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 2120,
        "wires": [
            [
                "cb9204f3f8061f73"
            ]
        ]
    },
    {
        "id": "cb9204f3f8061f73",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1190,
        "y": 2120,
        "wires": [
            [
                "9a301d139b066c7b"
            ]
        ]
    },
    {
        "id": "7ffab70a845fe0f3",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "TLE1-edit",
        "func": "//var time = Date.now()\nvar time = 1000*(msg.body.min+msg.curr.max*10);\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*1000000;\nvar frac = Math.round(fraca)/1000000;\nvar epoch = 1000*year+day+frac;\nepoch=epoch.toFixed(8);\n\n   return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: msg.paths.path_2[0]+\" \"+msg.paths.path_2[1]+\" \"+msg.paths.path_2[2]+\"  \"+epoch+\" -.00030938  00000+0  12818-2 0  9996\",\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n    } \n/*\n   return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: msg.paths.path_2[0]+\" \"+msg.paths.path_2[1]+\" \"+msg.paths.path_2[2]+\"  \"+epoch+\"    \"+msg.paths.path_2[6]+\"  \"+msg.paths.path_2[8]+\"  \"+msg.paths.path_2[10]+\" \"+msg.paths.path_2[11]+\"  \"+msg.paths.path_2[13],\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n} \n*/",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 2200,
        "wires": [
            [
                "c3969790825257b7",
                "fd882665c40cab87",
                "357b1c9d4fd47fb2"
            ]
        ]
    },
    {
        "id": "374088d03dd438c1",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "splt": " ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1010,
        "y": 2660,
        "wires": [
            [
                "ccf8f54dbb828651"
            ]
        ]
    },
    {
        "id": "ccf8f54dbb828651",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1130,
        "y": 2660,
        "wires": [
            [
                "065828855a228883"
            ]
        ]
    },
    {
        "id": "d98daa2e1ae71f08",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "TLE1-edit",
        "func": "//var time = Date.now()\nvar time = 1000*(msg.body.min+msg.curr.max*10);\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*1000000;\nvar frac = Math.round(fraca)/1000000;\nvar epoch = 1000*year+day+frac;\nepoch=epoch.toFixed(8);\n\n   return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: msg.paths.path_2[0]+\" \"+msg.paths.path_2[1]+\" \"+msg.paths.path_2[2]+\"  \"+epoch+\" -.00030938  00000+0  12818-2 0  9996\",\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n    } ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 2740,
        "wires": [
            [
                "fe098b3fe6fc5e5d",
                "2777b6b0fbcd9820",
                "8ea64980c2a72e58",
                "6ead56bdc316b2d3"
            ]
        ]
    },
    {
        "id": "d733ae2362598440",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "check output blue1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 1790,
        "y": 720,
        "wires": []
    },
    {
        "id": "804d4875e2f1648a",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "Set path_7",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_7",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2670,
        "y": 180,
        "wires": [
            [
                "ed91f7078814f403",
                "8d2d46d99b3c70d1",
                "47e714de12c6ceba"
            ]
        ]
    },
    {
        "id": "64e005a8c862bfaf",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2630,
        "y": 240,
        "wires": [
            [
                "ed91f7078814f403",
                "f2107460f7852ca0",
                "bd4011b41b1eed28"
            ]
        ]
    },
    {
        "id": "09b6f94b45eb28b7",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2390,
        "y": 960,
        "wires": [
            [
                "ed91f7078814f403",
                "6e46ffd229497b6c"
            ]
        ]
    },
    {
        "id": "bb8a0fc95f3a4a04",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Set path_4",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_4",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2410,
        "y": 1700,
        "wires": [
            [
                "ed91f7078814f403",
                "b51e5d79b66eedc6"
            ]
        ]
    },
    {
        "id": "122962f6cadc8f0a",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Set path_5",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_5",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2450,
        "y": 2240,
        "wires": [
            [
                "ed91f7078814f403",
                "eb6cf227e5b57995"
            ]
        ]
    },
    {
        "id": "de7eddc336816d9b",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "name": "Set path_6",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_6",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2410,
        "y": 2760,
        "wires": [
            [
                "ed91f7078814f403",
                "1da0e65edf84477c"
            ]
        ]
    },
    {
        "id": "e946fe5a6f3b792e",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "splt": " ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1390,
        "y": 920,
        "wires": [
            [
                "db13b17e988b264f"
            ]
        ]
    },
    {
        "id": "db13b17e988b264f",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1390,
        "y": 960,
        "wires": [
            [
                "dd63fe1a15842d7c",
                "912d16a.67297e8"
            ]
        ]
    },
    {
        "id": "b3804737c3bc7442",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "paths": "[\"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1820,
        "y": 1000,
        "wires": [
            [
                "f047630c.597cf"
            ],
            []
        ]
    },
    {
        "id": "dd63fe1a15842d7c",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 940,
        "wires": [
            [
                "b3804737c3bc7442"
            ]
        ]
    },
    {
        "id": "c3ac477d2c124c79",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 2240,
        "wires": [
            [
                "869f204096c7196c"
            ]
        ]
    },
    {
        "id": "869f204096c7196c",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "paths": "[\"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1880,
        "y": 2260,
        "wires": [
            [
                "3ff9651d74d8f481"
            ],
            []
        ]
    },
    {
        "id": "0115afccfe51ac28",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 2760,
        "wires": [
            [
                "39026bbb7cb7ba50"
            ]
        ]
    },
    {
        "id": "39026bbb7cb7ba50",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "paths": "[\"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1820,
        "y": 2780,
        "wires": [
            [
                "a43e55cd5a3e6552"
            ],
            []
        ]
    },
    {
        "id": "c6be632b7b251349",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "epoch",
        "func": "var time = Date.now()\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*100000000;\nvar frac = Math.round(fraca)/100000000;\nvar epoch = 1000*year+day+frac;\n\n\n   return{\n topic:\"tle\",\n payload: [time, tjd, year, day, frac, epoch],\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1690,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "6f5ae58615d925eb",
        "type": "ui_text",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "group": "3dabe8df.a10df8",
        "order": 6,
        "width": 6,
        "height": 3,
        "name": "TLE display",
        "label": "TLE",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2630,
        "y": 280,
        "wires": []
    },
    {
        "id": "26627082a406277b",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "OEM-VTS-Update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"header\": {\t        \"timeStart\": msg.paths.path_8.startdate,\t        \"timeEnd\": msg.paths.path_8.enddate,\t        \"step\": \"10\"\t    },\t    \"satellites\": [\t        {\t            \"name\": \"Sat\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_1[0],\t            \"line2\": msg.paths.path_1[1]\t        },\t        {\t            \"name\": \"PLEIADES1A\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_2[0],\t            \"line2\": msg.paths.path_2[1]\t        },\t        {\t            \"name\": \"PLEIADES1B\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_11[0],\t            \"line2\": msg.paths.path_11[1]\t        },\t        {\t            \"name\": \"PLEIADES-NEO3\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_10[0],\t            \"line2\": msg.paths.path_10[1]\t        },\t        {\t            \"name\": \"PLEIADES-NEO4\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_9[0],\t            \"line2\": msg.paths.path_9[1]\t        },\t        {\t            \"name\": \"BLUE1\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_3[0],\t            \"line2\": msg.paths.path_3[1]\t        },\t        {\t            \"name\": \"BLUE2\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_4[0],\t            \"line2\": msg.paths.path_4[1]\t        },\t        {\t            \"name\": \"RED1\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_5[0],\t            \"line2\": msg.paths.path_5[1]\t        },\t        {\t            \"name\": \"RED2\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_6[0],\t            \"line2\": msg.paths.path_6[1]\t        }\t    ],\t    \"groundStations\": [\t        msg.paths.path_7\t    ],\t    \"options\": {\t        \"CARTESIAN\": {},\t        \"ATTITUDE\": {\t            \"law\": \"NADIR\"\t        },\t        \"KEPLERIAN\": {},\t        \"ECLIPSE\": {}\t    }\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3590,
        "y": 180,
        "wires": [
            [
                "84fbfb29.95cd58"
            ]
        ]
    },
    {
        "id": "79a8517a3d50ba46",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "5293fd84.fa1844",
        "name": "LLA-Visibility-Update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"header\": {\t        \"timeStart\": msg.paths.path_8.startdate,\t        \"timeEnd\": msg.paths.path_8.enddate,\t        \"step\": \"10\"\t    },\t    \"satellites\": [\t        {\t            \"name\": \"Sat\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_1[0],\t            \"line2\": msg.paths.path_1[1]\t        },\t        {\t            \"name\": \"PLEIADES1A\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_2[0],\t            \"line2\": msg.paths.path_2[1]\t        },\t        {\t            \"name\": \"PLEIADES1B\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_11[0],\t            \"line2\": msg.paths.path_11[1]\t        },\t        {\t            \"name\": \"PLEIADES-NEO3\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_10[0],\t            \"line2\": msg.paths.path_10[1]\t        },\t        {\t            \"name\": \"PLEIADES-NEO4\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_9[0],\t            \"line2\": msg.paths.path_9[1]\t        },\t        {\t            \"name\": \"BLUE1\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_3[0],\t            \"line2\": msg.paths.path_3[1]\t        },\t        {\t            \"name\": \"BLUE2\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_4[0],\t            \"line2\": msg.paths.path_4[1]\t        },\t        {\t            \"name\": \"RED1\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_5[0],\t            \"line2\": msg.paths.path_5[1]\t        },\t        {\t            \"name\": \"RED2\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_6[0],\t            \"line2\": msg.paths.path_6[1]\t        }\t    ],\t    \"groundStations\": [\t        msg.paths.path_7\t    ],\t    \"options\": {\t        \"CARTESIAN\": {},\t        \"LLA\": {},\t        \"VISIBILITY\": {},\t        \"ATTITUDE\": {\t            \"law\": \"NADIR\"\t        }\t    }\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3600,
        "y": 220,
        "wires": [
            [
                "105fdd91.9d22d2",
                "58ea7c57.11f754"
            ]
        ]
    },
    {
        "id": "ed91f7078814f403",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "",
        "paths": "[\"path_11\",\"path_10\",\"path_9\",\"path_8\",\"path_7\", \"path_6\", \"path_5\", \"path_4\", \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 2980,
        "y": 220,
        "wires": [
            [
                "26627082a406277b",
                "79a8517a3d50ba46",
                "aeaa99f2.5cf4f8"
            ],
            []
        ]
    },
    {
        "id": "ee94351f9b7ded1d",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "name": "OEM-VTS-Update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"header\": {\t        \"timeStart\": msg.paths.path_8.startdate,\t        \"timeEnd\": msg.paths.path_8.enddate,\t        \"step\": \"10\"\t    },\t    \"satellites\": [\t        {\t            \"name\": \"Sat\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_1[0],\t            \"line2\": msg.paths.path_1[1]\t        }\t    ],\t    \"groundStations\": [\t        msg.paths.path_7\t    ],\t    \"options\": {\t        \"CARTESIAN\": {},\t        \"ATTITUDE\": {\t            \"law\": \"NADIR\"\t        },\t        \"KEPLERIAN\": {},\t        \"ECLIPSE\": {}\t    }\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4690,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "8d808d7ee82422a5",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "name": "LLA-Visibility-Update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"header\": {\t        \"timeStart\": msg.paths.path_8.startdate,\t        \"timeEnd\": msg.paths.path_8.enddate,\t        \"step\": \"10\"\t    },\t    \"satellites\": [\t        {\t            \"name\": \"Sat\",\t            \"type\": \"tle\",\t            \"line1\": msg.paths.path_1[0],\t            \"line2\": msg.paths.path_1[1]\t        }\t    ],\t    \"groundStations\": [\t        msg.paths.path_7\t    ],\t    \"options\": {\t        \"CARTESIAN\": {},\t        \"LLA\": {},\t        \"VISIBILITY\": {},\t        \"ATTITUDE\": {\t            \"law\": \"NADIR\"\t        }\t    }\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4700,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "1327326d6a977111",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "name": "",
        "paths": "[\"path_8\",\"path_7\",\"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 4520,
        "y": 40,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "bc58e5ec55a98be1",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "tinygsdata-function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TinyGS API data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 4880,
        "wires": [
            [
                "58539589f8fcb0c9"
            ]
        ]
    },
    {
        "id": "c7eaa84961499300",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 760,
        "y": 4880,
        "wires": [
            [
                "bc58e5ec55a98be1"
            ],
            []
        ]
    },
    {
        "id": "10f3d8edfb57378f",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 4880,
        "wires": [
            [
                "c7eaa84961499300"
            ],
            []
        ]
    },
    {
        "id": "5c9f53db8c9861c7",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "tinygsapi_request",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.tinygs.com/v1/packets",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 330,
        "y": 4880,
        "wires": [
            [
                "10f3d8edfb57378f"
            ]
        ]
    },
    {
        "id": "ca60a913a04c776b",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "tinyGS-CHECK",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1660,
        "y": 4840,
        "wires": []
    },
    {
        "id": "58539589f8fcb0c9",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1170,
        "y": 4880,
        "wires": [
            [
                "c15b273a542fde54"
            ]
        ]
    },
    {
        "id": "c15b273a542fde54",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "loop1",
        "func": "\n//msg.payload.packets.forEach(item => {\n//    if(item.satellite = \"Norbi\"){\n//        return item\n//    }\n\n//})\n\nvar json_data = msg.payload;\nvar result = [];\n\nfor(var i in json_data)\n    result.push([i, json_data [i]]);\n\nmsg.payload = result;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 4880,
        "wires": [
            [
                "9f1af8dc1eb5e870"
            ]
        ]
    },
    {
        "id": "9f1af8dc1eb5e870",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "reshape",
        "func": "msg.payload = msg.payload[0][1];\nreturn msg;\n\n\n\n//msg.payload[0][1].forEach(item => {\n//    if(item.satellite = \"Norbi\"){\n//        msg.payload = item.satellite;\n//        return msg;\n//    }\n\n//})\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 4880,
        "wires": [
            [
                "502dff010f3a7547",
                "ca60a913a04c776b"
            ]
        ]
    },
    {
        "id": "502dff010f3a7547",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "loop2",
        "func": "//msg.payload.forEach(item => {\n//msg.payload = item[10];\n//    return msg;\n    //if(item.satellite == \"Norbi\"){\n    //    msg.payload = item.satellite;\n    //    return msg;\n    //}\n//})\n\nvar arraylen = msg.payload.length;\nvar result = [];\nfor(var i=0;i<arraylen;i++){\n    if(msg.payload[i].satellite==\"Norbi\"){\n        result.push(msg.payload[i].parsed.payload.tinygsMainVoltage);\n        result.push(msg.payload[i].parsed.payload.tinygsTemp);\n        result.push(msg.payload[i].parsed.payload.tinygsLoadPower);\n    }\n    \n}\nmsg.payload = result;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1630,
        "y": 4880,
        "wires": [
            [
                "bac813c77cbdeddf",
                "753a66a0e91c8b65",
                "dc8f652dc05f134f"
            ]
        ]
    },
    {
        "id": "1316eb234f76fca6",
        "type": "ui_artlessgauge",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "group": "3dabe8df.a10df8",
        "order": 4,
        "width": 3,
        "height": 3,
        "name": "Battery Temp",
        "icon": "fa-thermometer-half",
        "label": "Battery Temp",
        "unit": "C",
        "layout": "radial",
        "decimals": "2",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff0000",
                "t": "min",
                "dot": 0
            },
            {
                "val": 40,
                "col": "#ff0000",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 1970,
        "y": 4920,
        "wires": []
    },
    {
        "id": "fd1e7f82277b7ef9",
        "type": "ui_artlessgauge",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "group": "3dabe8df.a10df8",
        "order": 3,
        "width": 3,
        "height": 3,
        "name": "Battery Voltage",
        "icon": "fa-battery-half",
        "label": "Battery Voltage",
        "unit": "mV",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 10000,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 1980,
        "y": 4880,
        "wires": []
    },
    {
        "id": "13dd1dc8e33f6fa8",
        "type": "ui_artlessgauge",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "group": "3dabe8df.a10df8",
        "order": 5,
        "width": 3,
        "height": 3,
        "name": "Tx Power",
        "icon": "fa-bolt ",
        "label": "Load Power",
        "unit": "mW",
        "layout": "radial",
        "decimals": "2",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 5000,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 1960,
        "y": 4960,
        "wires": []
    },
    {
        "id": "bac813c77cbdeddf",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "battery-data",
        "func": "var len = msg.payload.length;\nmsg.payload = msg.payload[0];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1790,
        "y": 4880,
        "wires": [
            [
                "fd1e7f82277b7ef9"
            ]
        ]
    },
    {
        "id": "dc8f652dc05f134f",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "TxPower-data",
        "func": "var len = msg.payload.length;\nmsg.payload = msg.payload[2];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1800,
        "y": 4960,
        "wires": [
            [
                "13dd1dc8e33f6fa8"
            ]
        ]
    },
    {
        "id": "753a66a0e91c8b65",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "3dd210d88054dfaa",
        "name": "BatTemp-data",
        "func": "var len = msg.payload.length;\nmsg.payload = msg.payload[1];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1800,
        "y": 4920,
        "wires": [
            [
                "1316eb234f76fca6"
            ]
        ]
    },
    {
        "id": "292964d19c921b46",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 780,
        "wires": [
            [
                "40b0f757fccedcae"
            ]
        ]
    },
    {
        "id": "d0db2a049689d1eb",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "setpath1-in",
        "links": [
            "139d87a61de8fb2d",
            "cb9310778af334ad"
        ],
        "x": 1315,
        "y": 820,
        "wires": [
            [
                "40b0f757fccedcae",
                "14632674660de649"
            ]
        ]
    },
    {
        "id": "40b0f757fccedcae",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1440,
        "y": 780,
        "wires": [
            [
                "5b94fea4bc8be85c",
                "d733ae2362598440"
            ],
            []
        ]
    },
    {
        "id": "0ddd48be7ff5da84",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "Celestrak_request_PHR",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://celestrak.com/NORAD/elements/gp.php?CATNR=39019",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 350,
        "y": 3120,
        "wires": [
            [
                "3006319b8fdd4fb3",
                "a46e719333d65d27",
                "1bb78f1585330b5c"
            ]
        ]
    },
    {
        "id": "3006319b8fdd4fb3",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 3120,
        "wires": [
            [
                "02e0e1d732f50700",
                "1dbead4c928ed8d1"
            ],
            []
        ]
    },
    {
        "id": "02e0e1d732f50700",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 3120,
        "wires": [
            [
                "70f11a2962c5200c"
            ],
            []
        ]
    },
    {
        "id": "70f11a2962c5200c",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TLE data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 3120,
        "wires": [
            [
                "30e9c44a36e2a7e3"
            ]
        ]
    },
    {
        "id": "30e9c44a36e2a7e3",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1170,
        "y": 3120,
        "wires": [
            [
                "ee267f8df3cc8adb"
            ]
        ]
    },
    {
        "id": "ee267f8df3cc8adb",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1330,
        "y": 3120,
        "wires": [
            [
                "498533a743c018ee"
            ]
        ]
    },
    {
        "id": "498533a743c018ee",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "TLE1-2_Sat",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle\",\n payload:[msg.payload[0].col1, msg.payload[1].col1],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 3120,
        "wires": [
            [
                "312b74e543efb25a",
                "d14cf312fe0a60e0"
            ]
        ]
    },
    {
        "id": "312b74e543efb25a",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "name": "Set path_11",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_11",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2390,
        "y": 3120,
        "wires": [
            [
                "ed91f7078814f403",
                "a78ca4fbc4d9e57b"
            ]
        ]
    },
    {
        "id": "ed7680e16e20cd8b",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "name": "Set path_9",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_9",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2390,
        "y": 3360,
        "wires": [
            [
                "ed91f7078814f403",
                "56cdcf6595bfaf55"
            ]
        ]
    },
    {
        "id": "83de099b2fa78eaa",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "Celestrak_request_PHR",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://celestrak.com/NORAD/elements/gp.php?CATNR=49070",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 370,
        "y": 3360,
        "wires": [
            [
                "a5c604765ba0012f",
                "4f97fc96724edb0b",
                "a1bc0b9e16a50e7c"
            ]
        ]
    },
    {
        "id": "a5c604765ba0012f",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 3360,
        "wires": [
            [
                "5306b898760f6177",
                "9e1f5debf634ca3b"
            ],
            []
        ]
    },
    {
        "id": "5306b898760f6177",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 3360,
        "wires": [
            [
                "af694b9214904c89"
            ],
            []
        ]
    },
    {
        "id": "af694b9214904c89",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TLE data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 3360,
        "wires": [
            [
                "22cfa6c3a9fd3b68"
            ]
        ]
    },
    {
        "id": "22cfa6c3a9fd3b68",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1170,
        "y": 3360,
        "wires": [
            [
                "1a705817a9b1fd99"
            ]
        ]
    },
    {
        "id": "1a705817a9b1fd99",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1330,
        "y": 3360,
        "wires": [
            [
                "55f25125e4360666"
            ]
        ]
    },
    {
        "id": "55f25125e4360666",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "TLE1-2_Sat",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle\",\n payload:[msg.payload[0].col1, msg.payload[1].col1],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 3360,
        "wires": [
            [
                "ed7680e16e20cd8b",
                "aebcd6a0a5d13023"
            ]
        ]
    },
    {
        "id": "52ce01ac6b3556ae",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "name": "Set path_10",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_10",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2390,
        "y": 3560,
        "wires": [
            [
                "ed91f7078814f403",
                "f708c78a01711d59"
            ]
        ]
    },
    {
        "id": "71543d1f07fc776a",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "Celestrak_request_PHR",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://celestrak.com/NORAD/elements/gp.php?CATNR=48268",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 370,
        "y": 3560,
        "wires": [
            [
                "2344a2a78d98bf1d",
                "33898d2a8b148638",
                "a25fb990a2d35418"
            ]
        ]
    },
    {
        "id": "2344a2a78d98bf1d",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 3560,
        "wires": [
            [
                "d35acc815acea49d",
                "efae4a1d579c52c5"
            ],
            []
        ]
    },
    {
        "id": "d35acc815acea49d",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 3560,
        "wires": [
            [
                "a387ab4ec014cdc2"
            ],
            []
        ]
    },
    {
        "id": "a387ab4ec014cdc2",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TLE data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 3560,
        "wires": [
            [
                "37f4e2f7dffac770"
            ]
        ]
    },
    {
        "id": "37f4e2f7dffac770",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1170,
        "y": 3560,
        "wires": [
            [
                "d97b6cdaaa326f22"
            ]
        ]
    },
    {
        "id": "d97b6cdaaa326f22",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1330,
        "y": 3560,
        "wires": [
            [
                "1fef9e3ba77e6407"
            ]
        ]
    },
    {
        "id": "1fef9e3ba77e6407",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "TLE1-2_Sat",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle\",\n payload:[msg.payload[0].col1, msg.payload[1].col1],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 3560,
        "wires": [
            [
                "52ce01ac6b3556ae",
                "dafaa8891883163a"
            ]
        ]
    },
    {
        "id": "9a301d139b066c7b",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 2120,
        "wires": [
            [
                "79a7ad9924b7b167"
            ]
        ]
    },
    {
        "id": "79a7ad9924b7b167",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1520,
        "y": 2120,
        "wires": [
            [
                "7ffab70a845fe0f3"
            ],
            []
        ]
    },
    {
        "id": "a58b1046b5db4021",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "RED1 setpath1-in",
        "links": [
            "139d87a61de8fb2d",
            "ee6ec31b290a5ef2"
        ],
        "x": 1445,
        "y": 2160,
        "wires": [
            [
                "79a7ad9924b7b167"
            ]
        ]
    },
    {
        "id": "065828855a228883",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 2660,
        "wires": [
            [
                "8030a4be7cd955df"
            ]
        ]
    },
    {
        "id": "8030a4be7cd955df",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1440,
        "y": 2660,
        "wires": [
            [
                "d98daa2e1ae71f08"
            ],
            []
        ]
    },
    {
        "id": "29a4edb4fa25f4b5",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "RED2 setpath1-in",
        "links": [
            "139d87a61de8fb2d",
            "574e4c417983ae7a"
        ],
        "x": 1375,
        "y": 2700,
        "wires": [
            [
                "8030a4be7cd955df"
            ]
        ]
    },
    {
        "id": "fd882665c40cab87",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "TimePerigee-R1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1760,
        "y": 2120,
        "wires": []
    },
    {
        "id": "2777b6b0fbcd9820",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "TimePerigee-R2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1660,
        "y": 2660,
        "wires": []
    },
    {
        "id": "8d9323cd2f7ede6a",
        "type": "ui_button",
        "z": "7c68352c.1b47bc",
        "name": "",
        "group": "d4e830c4b00daeae",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "R2 TLE Update",
        "tooltip": "",
        "color": "",
        "bgcolor": "#FF0000",
        "className": "",
        "icon": "fa-globe",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 80,
        "y": 2420,
        "wires": [
            [
                "ea6adf23dbd1238c",
                "6fcdf514dbc2c5ec",
                "635fcdb8c39d0787",
                "db7e42c1aee637bd",
                "781ddedeca0fbcdf",
                "5bfdeb3df1dc8e7e",
                "225f7a9616f10423",
                "3315d3a560dc2c89",
                "935ddb7150ce199c",
                "0e28fb103f54c09f"
            ]
        ]
    },
    {
        "id": "7b1cbf098c287c54",
        "type": "ui_button",
        "z": "7c68352c.1b47bc",
        "name": "",
        "group": "81d0e5ee7c52f38a",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "B2 TLE Update",
        "tooltip": "",
        "color": "#000000",
        "bgcolor": "#B5FC48",
        "icon": "fa-globe",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 80,
        "y": 1380,
        "wires": [
            [
                "043192e17954a39e",
                "a9760725cef4a105",
                "ad7abde181040a3a",
                "5bf00d0b73be675b",
                "5bfdeb3df1dc8e7e",
                "38bb7b313e5329cd",
                "225f7a9616f10423",
                "cfcab2023a094cdc",
                "eeb7ac39abf2e2c4",
                "9fd7873df4929469"
            ]
        ]
    },
    {
        "id": "6a8a1db5ea51b0c0",
        "type": "ui_button",
        "z": "7c68352c.1b47bc",
        "name": "",
        "group": "c02dcce485dfb187",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "R1 TLE Update",
        "tooltip": "",
        "color": "",
        "bgcolor": "#FF0000",
        "className": "",
        "icon": "fa-globe",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 100,
        "y": 1920,
        "wires": [
            [
                "a85d227183423e95",
                "17f7adb98b76a495",
                "8c60ccd3e3967358",
                "bd8de8502f02c463",
                "5bfdeb3df1dc8e7e",
                "5d73170620ea1430",
                "225f7a9616f10423",
                "09590295c75c8703",
                "7b44310150aad18e",
                "8e67ffcbdb4c6308"
            ]
        ]
    },
    {
        "id": "d9df6459a6ea96ab",
        "type": "ui_button",
        "z": "7c68352c.1b47bc",
        "name": "",
        "group": "cbb369e33298cfeb",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "B1 TLE Update",
        "tooltip": "",
        "color": "#000000",
        "bgcolor": "#B5FC48",
        "className": "",
        "icon": "fa-globe",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 80,
        "y": 1120,
        "wires": [
            [
                "abf049d1b139611c",
                "5e9981620393537d",
                "de1b34b4051c103e",
                "27e3cd807b7dd36f",
                "cf8728c9f3d62ae1",
                "5bfdeb3df1dc8e7e",
                "813663ae8c5e3d5d",
                "225f7a9616f10423",
                "ec94bcaf7ccbbade",
                "b99ef16ba1924c22",
                "98e2adb0a1d844fb"
            ]
        ]
    },
    {
        "id": "ec94bcaf7ccbbade",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toB2",
        "mode": "link",
        "links": [
            "c9235065a31da113"
        ],
        "x": 905,
        "y": 1220,
        "wires": []
    },
    {
        "id": "b99ef16ba1924c22",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toR1",
        "mode": "link",
        "links": [
            "118f0f492f55ac0a"
        ],
        "x": 905,
        "y": 1260,
        "wires": []
    },
    {
        "id": "98e2adb0a1d844fb",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toR2",
        "mode": "link",
        "links": [
            "34c17ae1e756d864"
        ],
        "x": 905,
        "y": 1300,
        "wires": []
    },
    {
        "id": "cfcab2023a094cdc",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toB1",
        "mode": "link",
        "links": [
            "af9822fbee098e88"
        ],
        "x": 875,
        "y": 1420,
        "wires": []
    },
    {
        "id": "eeb7ac39abf2e2c4",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toR1",
        "mode": "link",
        "links": [
            "e069d0ea8de103a3",
            "118f0f492f55ac0a"
        ],
        "x": 875,
        "y": 1460,
        "wires": []
    },
    {
        "id": "9fd7873df4929469",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toR2",
        "mode": "link",
        "links": [
            "c623b545a5900465",
            "34c17ae1e756d864"
        ],
        "x": 875,
        "y": 1500,
        "wires": []
    },
    {
        "id": "09590295c75c8703",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toB1",
        "mode": "link",
        "links": [
            "af9822fbee098e88"
        ],
        "x": 875,
        "y": 1940,
        "wires": []
    },
    {
        "id": "7b44310150aad18e",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toB2",
        "mode": "link",
        "links": [
            "c9235065a31da113"
        ],
        "x": 875,
        "y": 1980,
        "wires": []
    },
    {
        "id": "8e67ffcbdb4c6308",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toR2",
        "mode": "link",
        "links": [
            "34c17ae1e756d864"
        ],
        "x": 875,
        "y": 2020,
        "wires": []
    },
    {
        "id": "3315d3a560dc2c89",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toB1",
        "mode": "link",
        "links": [
            "af9822fbee098e88"
        ],
        "x": 905,
        "y": 2480,
        "wires": []
    },
    {
        "id": "935ddb7150ce199c",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toB2",
        "mode": "link",
        "links": [
            "c9235065a31da113"
        ],
        "x": 905,
        "y": 2520,
        "wires": []
    },
    {
        "id": "0e28fb103f54c09f",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toR1",
        "mode": "link",
        "links": [
            "118f0f492f55ac0a"
        ],
        "x": 905,
        "y": 2560,
        "wires": []
    },
    {
        "id": "af9822fbee098e88",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "upB1 from DB",
        "links": [
            "09590295c75c8703",
            "3315d3a560dc2c89",
            "cfcab2023a094cdc"
        ],
        "x": 1565,
        "y": 1180,
        "wires": [
            [
                "08298fee71f7bff1"
            ]
        ]
    },
    {
        "id": "c9235065a31da113",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "upB2 from DB",
        "links": [
            "7b44310150aad18e",
            "935ddb7150ce199c",
            "ec94bcaf7ccbbade"
        ],
        "x": 1575,
        "y": 1460,
        "wires": [
            [
                "8cddfe5bd7340a5c"
            ]
        ]
    },
    {
        "id": "118f0f492f55ac0a",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "UP R1 from DB",
        "links": [
            "eeb7ac39abf2e2c4",
            "0e28fb103f54c09f",
            "b99ef16ba1924c22"
        ],
        "x": 1835,
        "y": 1980,
        "wires": [
            [
                "9a27c8b91ef9929b"
            ]
        ]
    },
    {
        "id": "34c17ae1e756d864",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "UP R2 From DB",
        "links": [
            "9fd7873df4929469",
            "8e67ffcbdb4c6308",
            "98e2adb0a1d844fb"
        ],
        "x": 1585,
        "y": 2480,
        "wires": [
            [
                "0a0ad7bc6686f46a"
            ]
        ]
    },
    {
        "id": "86b56c5aafa5e5b1",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "fromPHR1B",
        "links": [
            "043192e17954a39e",
            "a85d227183423e95",
            "abf049d1b139611c",
            "ea6adf23dbd1238c"
        ],
        "x": 155,
        "y": 3060,
        "wires": [
            [
                "877f29714a1e351c"
            ]
        ]
    },
    {
        "id": "a5eccb78df072978",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "fromPHR4",
        "links": [
            "17f7adb98b76a495",
            "5e9981620393537d",
            "6fcdf514dbc2c5ec",
            "a9760725cef4a105"
        ],
        "x": 155,
        "y": 3300,
        "wires": [
            [
                "5d65976904a23103"
            ]
        ]
    },
    {
        "id": "1d8f9124f6c023ac",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "fromPHR3",
        "links": [
            "635fcdb8c39d0787",
            "8c60ccd3e3967358",
            "ad7abde181040a3a",
            "de1b34b4051c103e"
        ],
        "x": 155,
        "y": 3500,
        "wires": [
            [
                "09553c262bf1ebfe"
            ]
        ]
    },
    {
        "id": "ea6adf23dbd1238c",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR1B",
        "mode": "link",
        "links": [
            "d42d5caf3ff36413",
            "86b56c5aafa5e5b1"
        ],
        "x": 395,
        "y": 2480,
        "wires": []
    },
    {
        "id": "6fcdf514dbc2c5ec",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR4",
        "mode": "link",
        "links": [
            "aefdaa7be5886b6e",
            "a5eccb78df072978"
        ],
        "x": 395,
        "y": 2520,
        "wires": []
    },
    {
        "id": "635fcdb8c39d0787",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR3",
        "mode": "link",
        "links": [
            "ef70a4bf5d96cb98",
            "1d8f9124f6c023ac"
        ],
        "x": 395,
        "y": 2560,
        "wires": []
    },
    {
        "id": "a85d227183423e95",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR1B",
        "mode": "link",
        "links": [
            "d42d5caf3ff36413",
            "86b56c5aafa5e5b1"
        ],
        "x": 405,
        "y": 1980,
        "wires": []
    },
    {
        "id": "17f7adb98b76a495",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR4",
        "mode": "link",
        "links": [
            "aefdaa7be5886b6e",
            "a5eccb78df072978"
        ],
        "x": 405,
        "y": 2020,
        "wires": []
    },
    {
        "id": "8c60ccd3e3967358",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR3",
        "mode": "link",
        "links": [
            "ef70a4bf5d96cb98",
            "1d8f9124f6c023ac"
        ],
        "x": 405,
        "y": 2060,
        "wires": []
    },
    {
        "id": "043192e17954a39e",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR1B",
        "mode": "link",
        "links": [
            "d42d5caf3ff36413",
            "86b56c5aafa5e5b1"
        ],
        "x": 375,
        "y": 1420,
        "wires": []
    },
    {
        "id": "a9760725cef4a105",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR4",
        "mode": "link",
        "links": [
            "aefdaa7be5886b6e",
            "a5eccb78df072978"
        ],
        "x": 375,
        "y": 1460,
        "wires": []
    },
    {
        "id": "ad7abde181040a3a",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR3",
        "mode": "link",
        "links": [
            "ef70a4bf5d96cb98",
            "1d8f9124f6c023ac"
        ],
        "x": 375,
        "y": 1500,
        "wires": []
    },
    {
        "id": "abf049d1b139611c",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR1B",
        "mode": "link",
        "links": [
            "86b56c5aafa5e5b1"
        ],
        "x": 525,
        "y": 1280,
        "wires": []
    },
    {
        "id": "5e9981620393537d",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR4",
        "mode": "link",
        "links": [
            "aefdaa7be5886b6e",
            "a5eccb78df072978"
        ],
        "x": 525,
        "y": 1320,
        "wires": []
    },
    {
        "id": "de1b34b4051c103e",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "toPHR3",
        "mode": "link",
        "links": [
            "ef70a4bf5d96cb98",
            "1d8f9124f6c023ac"
        ],
        "x": 525,
        "y": 1360,
        "wires": []
    },
    {
        "id": "f2107460f7852ca0",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "TLE customSTORK",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2950,
        "y": 360,
        "wires": []
    },
    {
        "id": "a46e719333d65d27",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "TLE customPHR1B",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 3240,
        "wires": []
    },
    {
        "id": "4f97fc96724edb0b",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "TLE customPHRNEO4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 640,
        "y": 3460,
        "wires": []
    },
    {
        "id": "33898d2a8b148638",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "TLE customPHRNEO3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 3640,
        "wires": []
    },
    {
        "id": "8d2d46d99b3c70d1",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "stations output",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2700,
        "y": 120,
        "wires": []
    },
    {
        "id": "acce30040d483650",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "setpath 8 time output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2960,
        "y": 120,
        "wires": []
    },
    {
        "id": "27e3cd807b7dd36f",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "to time request TLE",
        "mode": "link",
        "links": [
            "220556fdf5358e27"
        ],
        "x": 405,
        "y": 1300,
        "wires": []
    },
    {
        "id": "5bf00d0b73be675b",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "to time request TLE",
        "mode": "link",
        "links": [
            "220556fdf5358e27"
        ],
        "x": 375,
        "y": 1380,
        "wires": []
    },
    {
        "id": "bd8de8502f02c463",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "to time request TLE",
        "mode": "link",
        "links": [
            "220556fdf5358e27"
        ],
        "x": 425,
        "y": 1900,
        "wires": []
    },
    {
        "id": "db7e42c1aee637bd",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "to time request TLE",
        "mode": "link",
        "links": [
            "220556fdf5358e27"
        ],
        "x": 395,
        "y": 2440,
        "wires": []
    },
    {
        "id": "fe5ea50b57aa1c32",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "b1-time-tle-OUT",
        "mode": "link",
        "links": [
            "22f0c3e1c91acc12"
        ],
        "x": 1645,
        "y": 820,
        "wires": []
    },
    {
        "id": "b8234c2a75bb5ae9",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1890,
        "y": 760,
        "wires": [
            [
                "3481f1216259b66e"
            ]
        ]
    },
    {
        "id": "3481f1216259b66e",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2030,
        "y": 760,
        "wires": [
            [
                "c07207dbde9b5985"
            ]
        ]
    },
    {
        "id": "a82cd02c21cae659",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-b1tlelatest",
        "collection": "b1tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2440,
        "y": 760,
        "wires": []
    },
    {
        "id": "5c3232735d2e2038",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "update all for B1 IN",
        "links": [
            "52e1e45e0c77a7cb"
        ],
        "x": 85,
        "y": 1060,
        "wires": [
            [
                "abf049d1b139611c",
                "5e9981620393537d",
                "de1b34b4051c103e",
                "27e3cd807b7dd36f",
                "cf8728c9f3d62ae1",
                "5bfdeb3df1dc8e7e",
                "225f7a9616f10423",
                "ec94bcaf7ccbbade",
                "b99ef16ba1924c22",
                "98e2adb0a1d844fb"
            ]
        ]
    },
    {
        "id": "211ce65b221c6d6b",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "query to delete b1tlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1740,
        "y": 1080,
        "wires": [
            [
                "f5304b8a408542c8"
            ]
        ]
    },
    {
        "id": "f5304b8a408542c8",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete b1tlelatest",
        "collection": "b1tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1990,
        "y": 1080,
        "wires": []
    },
    {
        "id": "17bd6cd48b2a4ff4",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "Tle b1-postMan-In",
        "links": [
            "65421165bbc07ccd"
        ],
        "x": 1275,
        "y": 740,
        "wires": [
            [
                "40b0f757fccedcae"
            ]
        ]
    },
    {
        "id": "48fac77f27ebe694",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2170,
        "y": 300,
        "wires": [
            [
                "00e423d5cecf63ac"
            ]
        ]
    },
    {
        "id": "00e423d5cecf63ac",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 300,
        "wires": [
            [
                "cd235fc9d45bd07e"
            ]
        ]
    },
    {
        "id": "cd235fc9d45bd07e",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-sattlelatest",
        "collection": "sattlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2470,
        "y": 300,
        "wires": []
    },
    {
        "id": "dd93dec169a1923b",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "query to delete b2tlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1870,
        "y": 1820,
        "wires": [
            [
                "2b6a6c592423cc9a"
            ]
        ]
    },
    {
        "id": "2b6a6c592423cc9a",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete b2tlelatest",
        "collection": "b2tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2090,
        "y": 1820,
        "wires": []
    },
    {
        "id": "91672903e0e718ac",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 2100,
        "wires": [
            [
                "20fb915262d58f6c"
            ]
        ]
    },
    {
        "id": "20fb915262d58f6c",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2230,
        "y": 2100,
        "wires": [
            [
                "2d02dd85c78408df"
            ]
        ]
    },
    {
        "id": "f876564f6733f147",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-r1tlelatest",
        "collection": "r1tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2700,
        "y": 2100,
        "wires": []
    },
    {
        "id": "3c1ce0f06523580c",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query to delete r2tlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1870,
        "y": 2920,
        "wires": [
            [
                "6e019b3034cd43ce"
            ]
        ]
    },
    {
        "id": "6e019b3034cd43ce",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r2tlelatest",
        "collection": "r2tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2120,
        "y": 2920,
        "wires": []
    },
    {
        "id": "a5456a0e14ff4e9f",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-r2tlelatest",
        "collection": "r2tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2180,
        "y": 2620,
        "wires": []
    },
    {
        "id": "a09d39652649b0ee",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1870,
        "y": 2620,
        "wires": [
            [
                "6362160fac60ddf5"
            ]
        ]
    },
    {
        "id": "fbf93b8de66480d8",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1730,
        "y": 2620,
        "wires": [
            [
                "a09d39652649b0ee"
            ]
        ]
    },
    {
        "id": "1dbead4c928ed8d1",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "query to delete p1btlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 3180,
        "wires": [
            [
                "8382a53a41598013"
            ]
        ]
    },
    {
        "id": "8382a53a41598013",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete p1btlelatest",
        "collection": "p1btlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 890,
        "y": 3180,
        "wires": []
    },
    {
        "id": "d14cf312fe0a60e0",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 3180,
        "wires": [
            [
                "c8ba9d7bacfdb53a"
            ]
        ]
    },
    {
        "id": "c8ba9d7bacfdb53a",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1390,
        "y": 3180,
        "wires": [
            [
                "f6fcc56248f740f9"
            ]
        ]
    },
    {
        "id": "f6fcc56248f740f9",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "f47ebdbe9aa02fbc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-p1btlelatest",
        "collection": "p1btlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1570,
        "y": 3180,
        "wires": []
    },
    {
        "id": "9e1f5debf634ca3b",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "query to delete pneo4tlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 3420,
        "wires": [
            [
                "abedf550a283a82e"
            ]
        ]
    },
    {
        "id": "abedf550a283a82e",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete pneo4tlelatest",
        "collection": "pneo4tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 900,
        "y": 3420,
        "wires": []
    },
    {
        "id": "aebcd6a0a5d13023",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 3420,
        "wires": [
            [
                "ed97241f5a2c195c"
            ]
        ]
    },
    {
        "id": "ed97241f5a2c195c",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1370,
        "y": 3420,
        "wires": [
            [
                "b30d48e22e8faab5"
            ]
        ]
    },
    {
        "id": "b30d48e22e8faab5",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-pneo4tlelatest",
        "collection": "pneo4tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1560,
        "y": 3420,
        "wires": []
    },
    {
        "id": "efae4a1d579c52c5",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "query to delete pneo3tlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 3600,
        "wires": [
            [
                "e980327ca9595d9e"
            ]
        ]
    },
    {
        "id": "e980327ca9595d9e",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete pneo3tlelatest",
        "collection": "pneo3tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1000,
        "y": 3600,
        "wires": []
    },
    {
        "id": "dafaa8891883163a",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 3620,
        "wires": [
            [
                "e79ac0bebb08ed4b"
            ]
        ]
    },
    {
        "id": "e79ac0bebb08ed4b",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1370,
        "y": 3620,
        "wires": [
            [
                "bbdd5b9313b88193"
            ]
        ]
    },
    {
        "id": "bbdd5b9313b88193",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-pneo3tlelatest",
        "collection": "pneo3tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1560,
        "y": 3620,
        "wires": []
    },
    {
        "id": "d220bc3808928eb3",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2430,
        "y": 360,
        "wires": [
            [
                "64e005a8c862bfaf"
            ]
        ]
    },
    {
        "id": "7edb0b79e9981fac",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of sattlelatest",
        "collection": "sattlelatest",
        "operation": "find",
        "x": 2260,
        "y": 360,
        "wires": [
            [
                "d220bc3808928eb3"
            ]
        ]
    },
    {
        "id": "5bfdeb3df1dc8e7e",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "query for sattlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2040,
        "y": 360,
        "wires": [
            [
                "7edb0b79e9981fac",
                "86ee657f.dfff28"
            ]
        ]
    },
    {
        "id": "cf8728c9f3d62ae1",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "query for b1tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1100,
        "wires": [
            [
                "9218e67ae12ff56e"
            ]
        ]
    },
    {
        "id": "9218e67ae12ff56e",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b1tlelatest",
        "collection": "b1tlelatest",
        "operation": "find",
        "x": 660,
        "y": 1100,
        "wires": [
            [
                "0a501f0d14245ad2"
            ]
        ]
    },
    {
        "id": "0a501f0d14245ad2",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle-mongo\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 1100,
        "wires": [
            [
                "59d5c5d7591c060f"
            ]
        ]
    },
    {
        "id": "8cddfe5bd7340a5c",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for b2tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1730,
        "y": 1460,
        "wires": [
            [
                "2783b2c9d7b6068b"
            ]
        ]
    },
    {
        "id": "2783b2c9d7b6068b",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b2tlelatest",
        "collection": "b2tlelatest",
        "operation": "find",
        "x": 1960,
        "y": 1460,
        "wires": [
            [
                "61d1a72ac323af46"
            ]
        ]
    },
    {
        "id": "61d1a72ac323af46",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2150,
        "y": 1460,
        "wires": [
            [
                "bb8a0fc95f3a4a04"
            ]
        ]
    },
    {
        "id": "9a27c8b91ef9929b",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for r1tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2030,
        "y": 2020,
        "wires": [
            [
                "95e95cd6c7bc1f05"
            ]
        ]
    },
    {
        "id": "95e95cd6c7bc1f05",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r1tlelatest",
        "collection": "r1tlelatest",
        "operation": "find",
        "x": 2260,
        "y": 2020,
        "wires": [
            [
                "19477e53910bd1f6"
            ]
        ]
    },
    {
        "id": "19477e53910bd1f6",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2450,
        "y": 2020,
        "wires": [
            [
                "122962f6cadc8f0a"
            ]
        ]
    },
    {
        "id": "0a0ad7bc6686f46a",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for r2tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1760,
        "y": 2500,
        "wires": [
            [
                "bfd0eb5aeefe64ac"
            ]
        ]
    },
    {
        "id": "bfd0eb5aeefe64ac",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r2tlelatest",
        "collection": "r2tlelatest",
        "operation": "find",
        "x": 1990,
        "y": 2500,
        "wires": [
            [
                "596dacbfc6fcc1ca"
            ]
        ]
    },
    {
        "id": "596dacbfc6fcc1ca",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2180,
        "y": 2500,
        "wires": [
            [
                "de7eddc336816d9b"
            ]
        ]
    },
    {
        "id": "877f29714a1e351c",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for p1btlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1800,
        "y": 3060,
        "wires": [
            [
                "ab8dbdad5d759b05"
            ]
        ]
    },
    {
        "id": "ab8dbdad5d759b05",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of p1btlelatest",
        "collection": "p1btlelatest",
        "operation": "find",
        "x": 2040,
        "y": 3060,
        "wires": [
            [
                "a32f3f7732dd031e"
            ]
        ]
    },
    {
        "id": "a32f3f7732dd031e",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2230,
        "y": 3060,
        "wires": [
            [
                "312b74e543efb25a"
            ]
        ]
    },
    {
        "id": "5d65976904a23103",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for pneo4tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1830,
        "y": 3300,
        "wires": [
            [
                "aeccafdd8fb912b6"
            ]
        ]
    },
    {
        "id": "aeccafdd8fb912b6",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of pneo4tlelatest",
        "collection": "pneo4tlelatest",
        "operation": "find",
        "x": 2090,
        "y": 3300,
        "wires": [
            [
                "728c9a9836560879"
            ]
        ]
    },
    {
        "id": "728c9a9836560879",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2290,
        "y": 3300,
        "wires": [
            [
                "ed7680e16e20cd8b"
            ]
        ]
    },
    {
        "id": "09553c262bf1ebfe",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for pneo3tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1830,
        "y": 3500,
        "wires": [
            [
                "3f5b808e91194fec"
            ]
        ]
    },
    {
        "id": "3f5b808e91194fec",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of pneo3tlelatest",
        "collection": "pneo3tlelatest",
        "operation": "find",
        "x": 2070,
        "y": 3500,
        "wires": [
            [
                "9c9ba7d591ec63b8"
            ]
        ]
    },
    {
        "id": "9c9ba7d591ec63b8",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2270,
        "y": 3500,
        "wires": [
            [
                "52ce01ac6b3556ae"
            ]
        ]
    },
    {
        "id": "59d5c5d7591c060f",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 950,
        "y": 1100,
        "wires": [
            [
                "0b382f17aa76d1e4"
            ]
        ]
    },
    {
        "id": "0b382f17aa76d1e4",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "sep": "\\t",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "col1,col2",
        "skip": "0",
        "strings": false,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1070,
        "y": 1100,
        "wires": [
            [
                "806158a8.2a45d8",
                "bad3f015.92d69",
                "c24543b528ceac66"
            ]
        ]
    },
    {
        "id": "4aa96994a4b16522",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of sattlelatest",
        "collection": "sattlelatest",
        "operation": "find",
        "x": 370,
        "y": 4460,
        "wires": [
            [
                "68a04f6a.3ad01",
                "85bda3f55da806af"
            ]
        ]
    },
    {
        "id": "eacad089ec7f2e6f",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "name": "query for sattlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 4420,
        "wires": [
            [
                "4aa96994a4b16522"
            ]
        ]
    },
    {
        "id": "90616c77ddc20a7b",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "name": "msg21",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 4360,
        "wires": []
    },
    {
        "id": "85bda3f55da806af",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "4be805205e728ae6",
        "name": "msg20",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 4360,
        "wires": []
    },
    {
        "id": "54ed3a6bc8def2f5",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "up date all for B2 IN",
        "links": [
            "6d1dbca08eba25ab"
        ],
        "x": 105,
        "y": 1620,
        "wires": [
            [
                "5bf00d0b73be675b",
                "043192e17954a39e",
                "a9760725cef4a105",
                "ad7abde181040a3a",
                "5bfdeb3df1dc8e7e",
                "38bb7b313e5329cd",
                "225f7a9616f10423",
                "cfcab2023a094cdc",
                "eeb7ac39abf2e2c4",
                "9fd7873df4929469"
            ]
        ]
    },
    {
        "id": "495dc5a4cb1cef81",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "up date all for R1 IN",
        "links": [
            "2fd70f8c41ef581a"
        ],
        "x": 85,
        "y": 2140,
        "wires": [
            [
                "bd8de8502f02c463",
                "a85d227183423e95",
                "17f7adb98b76a495",
                "8c60ccd3e3967358",
                "5bfdeb3df1dc8e7e",
                "5d73170620ea1430",
                "09590295c75c8703",
                "7b44310150aad18e",
                "8e67ffcbdb4c6308"
            ]
        ]
    },
    {
        "id": "1cb0a1a51e9369a1",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "up date all for R2 IN",
        "links": [
            "555a6347b2333425"
        ],
        "x": 95,
        "y": 2600,
        "wires": [
            [
                "db7e42c1aee637bd",
                "ea6adf23dbd1238c",
                "6fcdf514dbc2c5ec",
                "635fcdb8c39d0787",
                "5bfdeb3df1dc8e7e",
                "781ddedeca0fbcdf",
                "225f7a9616f10423",
                "3315d3a560dc2c89",
                "935ddb7150ce199c",
                "0e28fb103f54c09f"
            ]
        ]
    },
    {
        "id": "3d2439aa3fec2104",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "TLE-R-post-manoeuvre IN",
        "links": [
            "8d63a1baaf39e899"
        ],
        "x": 1405,
        "y": 2080,
        "wires": [
            [
                "79a7ad9924b7b167"
            ]
        ]
    },
    {
        "id": "34fc69acb40802e3",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "TLE R2 post-manoeuvre IN",
        "links": [
            "9f474fcba3b0160f"
        ],
        "x": 1355,
        "y": 2600,
        "wires": [
            [
                "8030a4be7cd955df"
            ]
        ]
    },
    {
        "id": "357b1c9d4fd47fb2",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "r1-time-tle-OUT",
        "mode": "link",
        "links": [
            "8e1a91631c83419c"
        ],
        "x": 1665,
        "y": 2080,
        "wires": []
    },
    {
        "id": "8ea64980c2a72e58",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "r2-time-tle-OUT",
        "mode": "link",
        "links": [
            "30a3d53f7ff0de08"
        ],
        "x": 1565,
        "y": 2620,
        "wires": []
    },
    {
        "id": "38bb7b313e5329cd",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for b2tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 1840,
        "wires": [
            [
                "7f7af55e77e94aee"
            ]
        ]
    },
    {
        "id": "7f7af55e77e94aee",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b2tlelatest",
        "collection": "b2tlelatest",
        "operation": "find",
        "x": 820,
        "y": 1840,
        "wires": [
            [
                "5a59157b370f2369"
            ]
        ]
    },
    {
        "id": "5a59157b370f2369",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle-mongo\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1840,
        "wires": [
            [
                "e19ff7a5e2db1417"
            ]
        ]
    },
    {
        "id": "e19ff7a5e2db1417",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 1840,
        "wires": [
            [
                "8ec9976b896da90d"
            ]
        ]
    },
    {
        "id": "8ec9976b896da90d",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "name": "",
        "sep": "\\t",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "col1,col2",
        "skip": "0",
        "strings": false,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1230,
        "y": 1840,
        "wires": [
            [
                "b36449ae06ea6d4b",
                "0fa18a38f4979444",
                "58480317df48f4a4"
            ]
        ]
    },
    {
        "id": "7cfcc3b6ae1705df",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 1660,
        "wires": [
            [
                "18b82773beb95f81"
            ],
            []
        ]
    },
    {
        "id": "18b82773beb95f81",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 1660,
        "wires": [
            [
                "17a0ec4ee1760736"
            ],
            []
        ]
    },
    {
        "id": "17a0ec4ee1760736",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TLE data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1720,
        "wires": [
            [
                "ccffc0cfeea3e9af"
            ]
        ]
    },
    {
        "id": "ccffc0cfeea3e9af",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 890,
        "y": 1720,
        "wires": [
            [
                "d396be84e763cf88"
            ]
        ]
    },
    {
        "id": "d396be84e763cf88",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1090,
        "y": 1720,
        "wires": [
            [
                "b36449ae06ea6d4b",
                "0fa18a38f4979444",
                "58480317df48f4a4"
            ]
        ]
    },
    {
        "id": "b1a6eae4087cf52e",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "TLE-CUSTOM",
        "func": "\n   return{\n topic:\"tle\",\n paths:null,\n payload:[msg.paths.path_1, msg.paths.path_2],\n body:null\n} ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2060,
        "y": 1660,
        "wires": [
            [
                "b5f34062935e7af8",
                "a5a65bebe02a5dda",
                "bb8a0fc95f3a4a04"
            ]
        ]
    },
    {
        "id": "b36449ae06ea6d4b",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "TLE-1",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle1\",\n payload:msg.payload[0].col1,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1290,
        "y": 1680,
        "wires": [
            [
                "16400db8078d93de"
            ]
        ]
    },
    {
        "id": "0fa18a38f4979444",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "TLE-2",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle2\",\n payload: msg.payload[1].col1,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1290,
        "y": 1720,
        "wires": [
            [
                "300a5f9b3e5610e9"
            ]
        ]
    },
    {
        "id": "300a5f9b3e5610e9",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "splt": " ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1410,
        "y": 1720,
        "wires": [
            [
                "9c0726a2f40a137c"
            ]
        ]
    },
    {
        "id": "9c0726a2f40a137c",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1550,
        "y": 1720,
        "wires": [
            [
                "5ea62317d86adb82",
                "4f5929f4e0faf499"
            ]
        ]
    },
    {
        "id": "b5f34062935e7af8",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "TLE custom",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2230,
        "y": 1620,
        "wires": []
    },
    {
        "id": "cf2fec6522ad59fa",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 1780,
        "wires": [
            [
                "5b013355edf609df"
            ]
        ]
    },
    {
        "id": "5ea62317d86adb82",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 1740,
        "wires": [
            [
                "5b013355edf609df"
            ]
        ]
    },
    {
        "id": "8e07129de29d6275",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "TLE-2-edit",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\nif(Number(msg.paths.path_2.incli)>=100){\n     return{\n topic:\"tle\",\n payload: msg.paths.path_3[0]+\" \"+msg.paths.path_3[1]+\" \"+msg.paths.path_2.incli+\" \"+msg.paths.path_2.raan+\" \"+msg.paths.path_2.ecc+\" \"+msg.paths.path_2.aop+\" \"+msg.paths.path_2.meana+\" \"+msg.paths.path_2.mean,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n}\nelse{\n   return{\n topic:\"tle\",\n payload: msg.paths.path_3[0]+\" \"+msg.paths.path_3[1]+\"  \"+msg.paths.path_2.incli+\" \"+msg.paths.path_2.raan+\" \"+msg.paths.path_2.ecc+\" \"+msg.paths.path_2.aop+\" \"+msg.paths.path_2.meana+\" \"+msg.paths.path_2.mean,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:12\n} \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 1740,
        "wires": [
            [
                "0332bdb0c4adede2"
            ]
        ]
    },
    {
        "id": "8b03c51e093f2c4c",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 1660,
        "wires": [
            [
                "ba262834438ed618"
            ]
        ]
    },
    {
        "id": "0332bdb0c4adede2",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2210,
        "y": 1740,
        "wires": [
            [
                "ba262834438ed618"
            ]
        ]
    },
    {
        "id": "ba262834438ed618",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1880,
        "y": 1660,
        "wires": [
            [
                "b1a6eae4087cf52e",
                "dd93dec169a1923b"
            ],
            []
        ]
    },
    {
        "id": "f1360f4af585f4eb",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "msg.paths.path_1[9] or [10]",
        "info": "",
        "x": 2070,
        "y": 1780,
        "wires": []
    },
    {
        "id": "16400db8078d93de",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "splt": " ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1050,
        "y": 1600,
        "wires": [
            [
                "8247582ca377527a"
            ]
        ]
    },
    {
        "id": "8247582ca377527a",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1190,
        "y": 1600,
        "wires": [
            [
                "2f2029df22bca851"
            ]
        ]
    },
    {
        "id": "e90771e3cf2a5243",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "TLE1-edit b2",
        "func": "var time = 1000*(msg.body.min+msg.curr.max*10);\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*1000000;\nvar frac = Math.round(fraca)/1000000;\nvar epoch = 1000*year+day+frac;\nepoch=epoch.toFixed(8);\n\n   return{\n topic:\"tle\",\n //payload: msg.payload[0]+\" \"+msg.payload[1]+\" \"+msg.payload[2]+\"   \"+epoch+\"  \"+msg.payload[7]+\"  \"+msg.payload[9]+\"  \"+msg.payload[11]+\" \"+msg.payload[12]+\"  \"+msg.payload[14],\n payload: msg.paths.path_2[0]+\" \"+msg.paths.path_2[1]+\" \"+msg.paths.path_2[2]+\"  \"+epoch+\" -.00030938  00000+0  12818-2 0  9996\",\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n    } ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1550,
        "y": 1660,
        "wires": [
            [
                "8b03c51e093f2c4c",
                "801aa94ea770b941",
                "140f986615a031cc"
            ]
        ]
    },
    {
        "id": "9852c9a4a96528b0",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "check output blue2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2330,
        "y": 1780,
        "wires": []
    },
    {
        "id": "5b013355edf609df",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "paths": "[\"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1880,
        "y": 1760,
        "wires": [
            [
                "8e07129de29d6275",
                "9852c9a4a96528b0"
            ],
            []
        ]
    },
    {
        "id": "4f5929f4e0faf499",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 1700,
        "wires": [
            [
                "5b013355edf609df"
            ]
        ]
    },
    {
        "id": "2f2029df22bca851",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1600,
        "wires": [
            [
                "a52354b13f5aea11"
            ]
        ]
    },
    {
        "id": "a52354b13f5aea11",
        "type": "join-wait",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "paths": "[\"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "true",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1520,
        "y": 1600,
        "wires": [
            [
                "e90771e3cf2a5243"
            ],
            []
        ]
    },
    {
        "id": "440df756d3e898f2",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "setpath1-in b2",
        "links": [
            "139d87a61de8fb2d",
            "1ae04e597256b937"
        ],
        "x": 1375,
        "y": 1640,
        "wires": [
            [
                "a52354b13f5aea11"
            ]
        ]
    },
    {
        "id": "801aa94ea770b941",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "TimePerigee-B2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1860,
        "y": 1620,
        "wires": []
    },
    {
        "id": "a5a65bebe02a5dda",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1870,
        "y": 1560,
        "wires": [
            [
                "920cc58f06625984"
            ]
        ]
    },
    {
        "id": "d9d638fce045ffc5",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-b2tlelatest",
        "collection": "b2tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2360,
        "y": 1560,
        "wires": []
    },
    {
        "id": "920cc58f06625984",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2010,
        "y": 1560,
        "wires": [
            [
                "a84192d58e73c33e"
            ]
        ]
    },
    {
        "id": "a99ad14c3f06b98d",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "Tle b2-post-man-In",
        "links": [
            "8aa4b8ef7f2e638c"
        ],
        "x": 1285,
        "y": 1560,
        "wires": [
            [
                "a52354b13f5aea11"
            ]
        ]
    },
    {
        "id": "140f986615a031cc",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "b2-time-tle-OUT",
        "mode": "link",
        "links": [
            "b1bc1e653de64af5",
            "8e1a91631c83419c",
            "30a3d53f7ff0de08"
        ],
        "x": 1675,
        "y": 1580,
        "wires": []
    },
    {
        "id": "5d73170620ea1430",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for r1tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 2340,
        "wires": [
            [
                "91044c67d81404d3"
            ]
        ]
    },
    {
        "id": "91044c67d81404d3",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r1tlelatest",
        "collection": "r1tlelatest",
        "operation": "find",
        "x": 720,
        "y": 2340,
        "wires": [
            [
                "c7416b830dcbd85d"
            ]
        ]
    },
    {
        "id": "c7416b830dcbd85d",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle-mongo\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 2340,
        "wires": [
            [
                "a91a0f296a6eaf34"
            ]
        ]
    },
    {
        "id": "a91a0f296a6eaf34",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1010,
        "y": 2340,
        "wires": [
            [
                "124c75720ed07a89"
            ]
        ]
    },
    {
        "id": "124c75720ed07a89",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "name": "",
        "sep": "\\t",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "col1,col2",
        "skip": "0",
        "strings": false,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1130,
        "y": 2340,
        "wires": [
            [
                "b41819f36e747855",
                "5ba1af6f8dddc83a",
                "5b9993033376ecbe"
            ]
        ]
    },
    {
        "id": "781ddedeca0fbcdf",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for r2tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 2900,
        "wires": [
            [
                "90cee016a86d77ba"
            ]
        ]
    },
    {
        "id": "90cee016a86d77ba",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r2tlelatest",
        "collection": "r2tlelatest",
        "operation": "find",
        "x": 720,
        "y": 2900,
        "wires": [
            [
                "8fba09143275a037"
            ]
        ]
    },
    {
        "id": "8fba09143275a037",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle-mongo\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 2900,
        "wires": [
            [
                "692deee37e42d1ef"
            ]
        ]
    },
    {
        "id": "692deee37e42d1ef",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1010,
        "y": 2900,
        "wires": [
            [
                "adbfb7ea5c397f06"
            ]
        ]
    },
    {
        "id": "adbfb7ea5c397f06",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "name": "",
        "sep": "\\t",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "col1,col2",
        "skip": "0",
        "strings": false,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1130,
        "y": 2900,
        "wires": [
            [
                "f20ce87449bb0473",
                "ed8485e00f8f0b52",
                "dfaaccde186ca7ea"
            ]
        ]
    },
    {
        "id": "813663ae8c5e3d5d",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "bouton B1TLE UPDATE",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 1180,
        "wires": []
    },
    {
        "id": "14632674660de649",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "B1 set path1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1490,
        "y": 720,
        "wires": []
    },
    {
        "id": "08298fee71f7bff1",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query for b1tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1750,
        "y": 1180,
        "wires": [
            [
                "89e69845755f4c77"
            ]
        ]
    },
    {
        "id": "89e69845755f4c77",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b1tlelatest",
        "collection": "b1tlelatest",
        "operation": "find",
        "x": 1980,
        "y": 1180,
        "wires": [
            [
                "6e09578b5c3977d8"
            ]
        ]
    },
    {
        "id": "6e09578b5c3977d8",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "tle1-2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2170,
        "y": 1180,
        "wires": [
            [
                "09b6f94b45eb28b7",
                "b12b6db8e50017f8"
            ]
        ]
    },
    {
        "id": "b12b6db8e50017f8",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "TLE of B1 requested in the DB by an UPdate",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2390,
        "y": 1220,
        "wires": []
    },
    {
        "id": "6bf70b30f22ef1b5",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "TLE R2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3500,
        "y": 1440,
        "wires": []
    },
    {
        "id": "2c3cb7c6e5582712",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "CELESTRAK REQ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 380,
        "wires": []
    },
    {
        "id": "d83b568b192310f6",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "To Celestrak requests return OUT",
        "mode": "link",
        "links": [
            "d3c174fe5dac8092",
            "082d3d8388a6da40",
            "9cf4d89f80284a28"
        ],
        "x": 685,
        "y": 800,
        "wires": []
    },
    {
        "id": "1bb78f1585330b5c",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "name": "To Celestrak requests return OUT",
        "mode": "link",
        "links": [
            "d3c174fe5dac8092",
            "082d3d8388a6da40",
            "9cf4d89f80284a28"
        ],
        "x": 515,
        "y": 3040,
        "wires": []
    },
    {
        "id": "a1bc0b9e16a50e7c",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "9a5f859dacc543ae",
        "name": "To Celestrak requests return OUT",
        "mode": "link",
        "links": [
            "d3c174fe5dac8092",
            "082d3d8388a6da40",
            "9cf4d89f80284a28"
        ],
        "x": 515,
        "y": 3320,
        "wires": []
    },
    {
        "id": "a25fb990a2d35418",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "69e1011093603bba",
        "name": "To Celestrak requests return OUT",
        "mode": "link",
        "links": [
            "d3c174fe5dac8092",
            "082d3d8388a6da40",
            "9cf4d89f80284a28"
        ],
        "x": 495,
        "y": 3520,
        "wires": []
    },
    {
        "id": "9cf4d89f80284a28",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "Celestrak requests return IN",
        "links": [
            "d83b568b192310f6",
            "1bb78f1585330b5c",
            "a1bc0b9e16a50e7c",
            "a25fb990a2d35418",
            "be5b3468b95dc183"
        ],
        "x": 715,
        "y": 300,
        "wires": [
            [
                "43afe15b0f3c6ccb"
            ]
        ]
    },
    {
        "id": "43afe15b0f3c6ccb",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Celestrack status code analyse",
        "func": "if(msg.statusCode==403){\n    msg.payload=\"Request declined by Celestrak\";\n}\nelse if(msg.statusCode==200){\n    msg.payload=\"Request accepted by Celestrak\";\n}\nelse{\n    msg.payload=\"Unkown status for Celestrak\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 300,
        "wires": [
            [
                "34bb2d950f55f393"
            ]
        ]
    },
    {
        "id": "34bb2d950f55f393",
        "type": "ui_text",
        "z": "7c68352c.1b47bc",
        "group": "b10e0a54.7b0198",
        "order": 24,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "status of request",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1180,
        "y": 300,
        "wires": []
    },
    {
        "id": "be5b3468b95dc183",
        "type": "link out",
        "z": "7c68352c.1b47bc",
        "g": "571e2c55.406334",
        "name": "To Celestrak requests return OUT",
        "mode": "link",
        "links": [
            "d3c174fe5dac8092",
            "082d3d8388a6da40",
            "9cf4d89f80284a28"
        ],
        "x": 635,
        "y": 240,
        "wires": []
    },
    {
        "id": "976ed181456d5d92",
        "type": "file in",
        "z": "7c68352c.1b47bc",
        "name": "",
        "filename": "latest-tle.txt",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 3690,
        "y": 540,
        "wires": [
            [
                "1b4cf2db17592916"
            ]
        ]
    },
    {
        "id": "1b4cf2db17592916",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": "1",
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 3830,
        "y": 540,
        "wires": [
            [
                "bc15dda52775a710"
            ]
        ]
    },
    {
        "id": "fdeaa62f.5f5688",
        "type": "http request",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "Celestrak_request_PHR",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://celestrak.org/NORAD/elements/gp.php?CATNR=38012",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 630,
        "y": 460,
        "wires": [
            [
                "fed8e554.829fa8",
                "168c927c614295a8"
            ]
        ]
    },
    {
        "id": "fed8e554.829fa8",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 870,
        "y": 460,
        "wires": [
            [
                "f852b5f6.c99b98",
                "34aeb0d4c2a0550e"
            ],
            []
        ]
    },
    {
        "id": "f852b5f6.c99b98",
        "type": "switch",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 460,
        "wires": [
            [
                "28c8f85d.5c8e08"
            ],
            []
        ]
    },
    {
        "id": "28c8f85d.5c8e08",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "msg_tle_function",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"TLE data\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 460,
        "wires": [
            [
                "58575d12.429a94"
            ]
        ]
    },
    {
        "id": "58575d12.429a94",
        "type": "csv",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "",
        "sep": ":",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "1",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1470,
        "y": 460,
        "wires": [
            [
                "ff820ff.bf83af"
            ]
        ]
    },
    {
        "id": "ff820ff.bf83af",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "obj",
        "pretty": true,
        "x": 1630,
        "y": 460,
        "wires": [
            [
                "2678f85d.20ec28"
            ]
        ]
    },
    {
        "id": "2678f85d.20ec28",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "TLE1-2_Sat",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n   return{\n topic:\"tle\",\n payload:[msg.payload[0].col1, msg.payload[1].col1],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1830,
        "y": 460,
        "wires": [
            [
                "d3529a4d4ad201b1",
                "28d0dbe164b06cd6"
            ]
        ]
    },
    {
        "id": "34aeb0d4c2a0550e",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "query to delete p1atlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 540,
        "wires": [
            [
                "ed46efe0511874af"
            ]
        ]
    },
    {
        "id": "ed46efe0511874af",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete p1atlelatest",
        "collection": "p1atlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1270,
        "y": 540,
        "wires": []
    },
    {
        "id": "d3529a4d4ad201b1",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "Query to add",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.tle1 = msg.payload[0]\ngs.tle2 = msg.payload[1]\n\n//Default\ngs.status = 1\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1490,
        "y": 520,
        "wires": [
            [
                "070901a887bb28c2"
            ]
        ]
    },
    {
        "id": "070901a887bb28c2",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1650,
        "y": 520,
        "wires": [
            [
                "57bf8da0f9e70613"
            ]
        ]
    },
    {
        "id": "28d0dbe164b06cd6",
        "type": "change",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2110,
        "y": 460,
        "wires": [
            [
                "ed91f7078814f403",
                "6046a606f291a411"
            ]
        ]
    },
    {
        "id": "225f7a9616f10423",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "query for p1atlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 600,
        "wires": [
            [
                "dd1d078a375fef72"
            ]
        ]
    },
    {
        "id": "dd1d078a375fef72",
        "type": "mongodb in",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of p1atlelatest",
        "collection": "p1atlelatest",
        "operation": "find",
        "x": 1740,
        "y": 600,
        "wires": [
            [
                "521bf868aa8d0de1"
            ]
        ]
    },
    {
        "id": "521bf868aa8d0de1",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "tle2",
        "func": "return{\n topic:\"tle\",\n payload:[msg.payload[0].tle1, msg.payload[0].tle2],\n body:12\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1930,
        "y": 600,
        "wires": [
            [
                "28d0dbe164b06cd6"
            ]
        ]
    },
    {
        "id": "57bf8da0f9e70613",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-p1atlelatest",
        "collection": "p1atlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1850,
        "y": 520,
        "wires": []
    },
    {
        "id": "168c927c614295a8",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "TLE customPHR",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 540,
        "wires": []
    },
    {
        "id": "bc15dda52775a710",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "filtre emptystring",
        "func": "if(msg.payload.length<=1){}\nelse{return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 580,
        "wires": [
            [
                "8063232e20158d5a"
            ]
        ]
    },
    {
        "id": "8063232e20158d5a",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "name": "TLE recomb",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "30",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 3170,
        "y": 580,
        "wires": [
            [
                "19a75b7b1a234d67"
            ]
        ]
    },
    {
        "id": "f30d12dd2058bef2",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"ROBUSTA 1B\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 580,
        "wires": [
            [
                "beaf0a11e85d749d"
            ]
        ]
    },
    {
        "id": "19a75b7b1a234d67",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Trim TLE",
        "func": "msg.payload[0]=msg.payload[0].trim();\nmsg.payload[1]=msg.payload[1].trim();\nmsg.payload[2]=msg.payload[2].trim();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3320,
        "y": 580,
        "wires": [
            [
                "f30d12dd2058bef2",
                "c06408fdecb6945d",
                "5a7f69a63e04e750",
                "82adf290f9b9473d",
                "ebe80588c2cea7ea",
                "1f87636507e0aa01",
                "4fc4cfd68a0b6570",
                "90ab2f29db897acf",
                "bbd8d175663cbb34",
                "1a85a8622aac2584"
            ]
        ]
    },
    {
        "id": "c06408fdecb6945d",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"PLEIADES 1A\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 640,
        "wires": [
            [
                "877350886188357e"
            ]
        ]
    },
    {
        "id": "5a7f69a63e04e750",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"STORK-1\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 700,
        "wires": [
            [
                "5adba86582d125c4"
            ]
        ]
    },
    {
        "id": "82adf290f9b9473d",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"PLEIADES 1B\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 760,
        "wires": [
            [
                "11bfbb0c7f9356a8"
            ]
        ]
    },
    {
        "id": "beaf0a11e85d749d",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 580,
        "wires": [
            [
                "a6585fdd8837e646"
            ]
        ]
    },
    {
        "id": "877350886188357e",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 640,
        "wires": [
            [
                "5bf24823ff268871"
            ]
        ]
    },
    {
        "id": "5adba86582d125c4",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 700,
        "wires": [
            [
                "6cfe4705ace96064"
            ]
        ]
    },
    {
        "id": "11bfbb0c7f9356a8",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 760,
        "wires": [
            [
                "70b73ab02c552d95"
            ]
        ]
    },
    {
        "id": "ebe80588c2cea7ea",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"PLEIADES NEO 4\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 820,
        "wires": [
            [
                "bb6892277131a073"
            ]
        ]
    },
    {
        "id": "bb6892277131a073",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 820,
        "wires": [
            [
                "e94dd6a4d99bc2fb"
            ]
        ]
    },
    {
        "id": "1f87636507e0aa01",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"PLEIADES NEO 3\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 880,
        "wires": [
            [
                "05a7b7228758721a"
            ]
        ]
    },
    {
        "id": "05a7b7228758721a",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 880,
        "wires": [
            [
                "8677dba8b1f81479"
            ]
        ]
    },
    {
        "id": "742c36d88c0795e6",
        "type": "comment",
        "z": "7c68352c.1b47bc",
        "name": "Repeupler les DB",
        "info": "",
        "x": 3200,
        "y": 480,
        "wires": []
    },
    {
        "id": "a6585fdd8837e646",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-rob1btlelatest",
        "collection": "rob1btlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4210,
        "y": 580,
        "wires": []
    },
    {
        "id": "5bf24823ff268871",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-p1atlelatest",
        "collection": "p1atlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4210,
        "y": 640,
        "wires": []
    },
    {
        "id": "6cfe4705ace96064",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-sattlelatest",
        "collection": "sattlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4210,
        "y": 700,
        "wires": []
    },
    {
        "id": "70b73ab02c552d95",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-p1btlelatest",
        "collection": "p1btlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4210,
        "y": 760,
        "wires": []
    },
    {
        "id": "e94dd6a4d99bc2fb",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-pneo4tlelatest",
        "collection": "pneo4tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4220,
        "y": 820,
        "wires": []
    },
    {
        "id": "8677dba8b1f81479",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-pneo3tlelatest",
        "collection": "pneo3tlelatest",
        "payonly": true,
        "upsert": true,
        "multi": false,
        "operation": "insert",
        "x": 4220,
        "y": 880,
        "wires": []
    },
    {
        "id": "7216a78efe87f871",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete rob1blelatest",
        "collection": "rob1btlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4490,
        "y": 580,
        "wires": []
    },
    {
        "id": "402dd68eef637e28",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete p1atlelatest",
        "collection": "p1atlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4490,
        "y": 640,
        "wires": []
    },
    {
        "id": "81503c71337a55a1",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete sattlelatest",
        "collection": "sattlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4490,
        "y": 700,
        "wires": []
    },
    {
        "id": "321b54bc830393f5",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete p1btlelatest",
        "collection": "p1btlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4490,
        "y": 760,
        "wires": []
    },
    {
        "id": "d787aa78e7f7c69f",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete pneo4tlelatest",
        "collection": "pneo4tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4500,
        "y": 820,
        "wires": []
    },
    {
        "id": "0616c975f506d2ad",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete pneo3tlelatest",
        "collection": "pneo3tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4500,
        "y": 880,
        "wires": []
    },
    {
        "id": "f9e0d8bfc76d2ea9",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query to delete ",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4220,
        "y": 520,
        "wires": [
            [
                "c6a21b7e1f49e8fc",
                "698067ded04938d2",
                "5d93b6830d1ac092",
                "0616c975f506d2ad",
                "5a357a4ae6a6d5b3",
                "d787aa78e7f7c69f",
                "321b54bc830393f5",
                "81503c71337a55a1",
                "402dd68eef637e28",
                "7216a78efe87f871"
            ]
        ]
    },
    {
        "id": "a0ea95e83db4cacd",
        "type": "inject",
        "z": "7c68352c.1b47bc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3400,
        "y": 520,
        "wires": [
            [
                "976ed181456d5d92",
                "f9e0d8bfc76d2ea9"
            ]
        ]
    },
    {
        "id": "4fc4cfd68a0b6570",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"STORK-1\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 940,
        "wires": [
            [
                "4c44820c369f21d8"
            ]
        ]
    },
    {
        "id": "4c44820c369f21d8",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 940,
        "wires": [
            [
                "cc2f6f7ecc60d930"
            ]
        ]
    },
    {
        "id": "cc2f6f7ecc60d930",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-b1tlelatest",
        "collection": "b1tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4200,
        "y": 940,
        "wires": []
    },
    {
        "id": "5a357a4ae6a6d5b3",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete b1tlelatest",
        "collection": "b1tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4490,
        "y": 940,
        "wires": []
    },
    {
        "id": "90ab2f29db897acf",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"STORK-1\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 1000,
        "wires": [
            [
                "695184832771955f"
            ]
        ]
    },
    {
        "id": "695184832771955f",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 1000,
        "wires": [
            [
                "cb779cec6c69d361"
            ]
        ]
    },
    {
        "id": "cb779cec6c69d361",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-b2tlelatest",
        "collection": "b2tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4200,
        "y": 1000,
        "wires": []
    },
    {
        "id": "c6a21b7e1f49e8fc",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete b2tlelatest",
        "collection": "b2tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4490,
        "y": 1000,
        "wires": []
    },
    {
        "id": "bbd8d175663cbb34",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"STORK-1\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 1060,
        "wires": [
            [
                "a329faec55f61f76"
            ]
        ]
    },
    {
        "id": "a329faec55f61f76",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 1060,
        "wires": [
            [
                "1cc6fcbc62a009cb"
            ]
        ]
    },
    {
        "id": "1cc6fcbc62a009cb",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-r1tlelatest",
        "collection": "r1tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4200,
        "y": 1060,
        "wires": []
    },
    {
        "id": "698067ded04938d2",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r1tlelatest",
        "collection": "r1tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4480,
        "y": 1060,
        "wires": []
    },
    {
        "id": "1a85a8622aac2584",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"STORK-1\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 1120,
        "wires": [
            [
                "243383b13419e82a"
            ]
        ]
    },
    {
        "id": "243383b13419e82a",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 1120,
        "wires": [
            [
                "52dbdd123e7091c0"
            ]
        ]
    },
    {
        "id": "52dbdd123e7091c0",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-r2tlelatest",
        "collection": "r2tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4200,
        "y": 1120,
        "wires": []
    },
    {
        "id": "5d93b6830d1ac092",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r2tlelatest",
        "collection": "r2tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4480,
        "y": 1120,
        "wires": []
    },
    {
        "id": "6e46ffd229497b6c",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2580,
        "y": 960,
        "wires": []
    },
    {
        "id": "6046a606f291a411",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2320,
        "y": 480,
        "wires": []
    },
    {
        "id": "47e714de12c6ceba",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2960,
        "y": 480,
        "wires": []
    },
    {
        "id": "bd4011b41b1eed28",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2640,
        "y": 460,
        "wires": []
    },
    {
        "id": "b51e5d79b66eedc6",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2794.5,
        "y": 1724.75,
        "wires": []
    },
    {
        "id": "eb6cf227e5b57995",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2800,
        "y": 2240,
        "wires": []
    },
    {
        "id": "1da0e65edf84477c",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2720,
        "y": 2660,
        "wires": []
    },
    {
        "id": "a78ca4fbc4d9e57b",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path11",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2690,
        "y": 3100,
        "wires": []
    },
    {
        "id": "56cdcf6595bfaf55",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path9",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2680,
        "y": 3300,
        "wires": []
    },
    {
        "id": "f708c78a01711d59",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Set path10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2670,
        "y": 3520,
        "wires": []
    },
    {
        "id": "6d364e3e0869fe41",
        "type": "ui_button",
        "z": "7c68352c.1b47bc",
        "name": "",
        "group": "b10e0a54.7b0198",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Rescue TLE databases",
        "tooltip": "",
        "color": "",
        "bgcolor": "#104900",
        "className": "",
        "icon": "fa-globe",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 3530,
        "y": 480,
        "wires": [
            [
                "f9e0d8bfc76d2ea9",
                "976ed181456d5d92"
            ]
        ]
    },
    {
        "id": "c24543b528ceac66",
        "type": "file in",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "blue1-tle-storage-out",
        "filename": "blue1-tle-storage.json",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 1300,
        "y": 1060,
        "wires": [
            [
                "c940a9398f89f223"
            ]
        ]
    },
    {
        "id": "58480317df48f4a4",
        "type": "file in",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "blue2-tle-storage-out",
        "filename": "blue2-tle-storage.json",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 1400,
        "y": 1800,
        "wires": [
            [
                "e5336f4911b2008e"
            ]
        ]
    },
    {
        "id": "5b9993033376ecbe",
        "type": "file in",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "red1-tle-storage-out",
        "filename": "red1-tle-storage.json",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 1370,
        "y": 2320,
        "wires": [
            [
                "d91c7be73ae23eb7"
            ]
        ]
    },
    {
        "id": "dfaaccde186ca7ea",
        "type": "file in",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "red2-tle-storage-out",
        "filename": "red2-tle-storage.json",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 1330,
        "y": 2840,
        "wires": [
            [
                "cf1650ce74575478",
                "eb0cfbd94647d4c7"
            ]
        ]
    },
    {
        "id": "cf1650ce74575478",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1490,
        "y": 2880,
        "wires": [
            [
                "56746b3aeb555fac",
                "1c32aa281462d0dd"
            ]
        ]
    },
    {
        "id": "d91c7be73ae23eb7",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1530,
        "y": 2320,
        "wires": [
            [
                "8b8d076ee67ea589"
            ]
        ]
    },
    {
        "id": "e5336f4911b2008e",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1570,
        "y": 1800,
        "wires": [
            [
                "cf2fec6522ad59fa"
            ]
        ]
    },
    {
        "id": "c940a9398f89f223",
        "type": "json",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1470,
        "y": 1060,
        "wires": [
            [
                "c4bc0507.a5aa28"
            ]
        ]
    },
    {
        "id": "400ff9cd912f5dd6",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query to delete r1tlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2010,
        "y": 2060,
        "wires": [
            [
                "cbaba4ff27dfb104"
            ]
        ]
    },
    {
        "id": "cbaba4ff27dfb104",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r1tlelatest",
        "collection": "r1tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2260,
        "y": 2060,
        "wires": []
    },
    {
        "id": "eb0cfbd94647d4c7",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "TLE not parsed",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1440,
        "y": 3020,
        "wires": []
    },
    {
        "id": "1c32aa281462d0dd",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "TLE parsed",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1670,
        "y": 3020,
        "wires": []
    },
    {
        "id": "2ebc69cb73de3cee",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "Aval tle1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1360,
        "y": 2480,
        "wires": []
    },
    {
        "id": "6ead56bdc316b2d3",
        "type": "debug",
        "z": "7c68352c.1b47bc",
        "name": "amont set path1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1600,
        "y": 2420,
        "wires": []
    },
    {
        "id": "6362160fac60ddf5",
        "type": "delay",
        "z": "7c68352c.1b47bc",
        "g": "72a2d4bc14d948f6",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2010,
        "y": 2620,
        "wires": [
            [
                "a5456a0e14ff4e9f"
            ]
        ]
    },
    {
        "id": "2d02dd85c78408df",
        "type": "delay",
        "z": "7c68352c.1b47bc",
        "g": "32829735bc4f3d16",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2450,
        "y": 2100,
        "wires": [
            [
                "f876564f6733f147"
            ]
        ]
    },
    {
        "id": "a84192d58e73c33e",
        "type": "delay",
        "z": "7c68352c.1b47bc",
        "g": "fdab8259e2b1d755",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2170,
        "y": 1560,
        "wires": [
            [
                "d9d638fce045ffc5"
            ]
        ]
    },
    {
        "id": "c07207dbde9b5985",
        "type": "delay",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2230,
        "y": 760,
        "wires": [
            [
                "a82cd02c21cae659"
            ]
        ]
    },
    {
        "id": "24e475a7e7cc30b0",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query to delete sattlelatest",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2100,
        "y": 80,
        "wires": [
            [
                "d80b430a49c5bc67"
            ]
        ]
    },
    {
        "id": "d80b430a49c5bc67",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete sattlelatest",
        "collection": "sattlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2360,
        "y": 80,
        "wires": []
    },
    {
        "id": "0fe194477cfd115a",
        "type": "delay",
        "z": "7c68352c.1b47bc",
        "g": "c6dcd18b.ea624",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1990,
        "y": 300,
        "wires": [
            [
                "48fac77f27ebe694"
            ]
        ]
    },
    {
        "id": "1e9676e414d32f76",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "trigger-SAT",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 1675,
        "y": 360,
        "wires": [
            [
                "5bfdeb3df1dc8e7e"
            ]
        ]
    },
    {
        "id": "ccf9f6d431ed64cc",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "d79f942338defd7f",
        "name": "trigger-P1A",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 1145,
        "y": 600,
        "wires": [
            [
                "225f7a9616f10423"
            ]
        ]
    },
    {
        "id": "a117569a1ea3ef31",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "g": "2345ff89d3122291",
        "name": "trigger-B1",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 305,
        "y": 1040,
        "wires": [
            [
                "cf8728c9f3d62ae1"
            ]
        ]
    },
    {
        "id": "5ab7a667fbb1644d",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "trigger-B2",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 465,
        "y": 1760,
        "wires": [
            [
                "38bb7b313e5329cd"
            ]
        ]
    },
    {
        "id": "031daf8ad228e86a",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "trigger-R1",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 425,
        "y": 2280,
        "wires": [
            [
                "5d73170620ea1430"
            ]
        ]
    },
    {
        "id": "ba03309eb894bc80",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "trigger-R2",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 415,
        "y": 2820,
        "wires": [
            [
                "781ddedeca0fbcdf"
            ]
        ]
    },
    {
        "id": "04828409f3c8eb98",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "trigger-P1B",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 1755,
        "y": 3100,
        "wires": [
            [
                "877f29714a1e351c"
            ]
        ]
    },
    {
        "id": "32528e58bc954e44",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "trigger-NEO4",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 1745,
        "y": 3240,
        "wires": [
            [
                "5d65976904a23103"
            ]
        ]
    },
    {
        "id": "e7a2222d78b89f73",
        "type": "link in",
        "z": "7c68352c.1b47bc",
        "name": "trigger-NEO3",
        "links": [
            "bc9a8d46d71b2c0a"
        ],
        "x": 1745,
        "y": 3460,
        "wires": [
            [
                "09553c262bf1ebfe"
            ]
        ]
    },
    {
        "id": "1372b3f3639f3332",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Select the right message",
        "func": "if(msg.payload[0]===\"STORK-1\" ){return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3570,
        "y": 1220,
        "wires": [
            [
                "5f644f722f3bfded"
            ]
        ]
    },
    {
        "id": "5f644f722f3bfded",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Prepare the message for upload to DB",
        "func": "\n msg.payload={\n\ntle1:msg.payload[1],\ntle2:msg.payload[2],\nstatus:1,\n}\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3870,
        "y": 1220,
        "wires": [
            [
                "fe113fafefd371f8"
            ]
        ]
    },
    {
        "id": "e6bcf4963b645b20",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-r2tlelatest",
        "collection": "r2tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4200,
        "y": 1220,
        "wires": []
    },
    {
        "id": "1cc08c4629190c70",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r2tlelatest",
        "collection": "r2tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4200,
        "y": 1300,
        "wires": []
    },
    {
        "id": "6f6a6be962099d51",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "query to delete ",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3940,
        "y": 1300,
        "wires": [
            [
                "53deede6e72a0ad1"
            ]
        ]
    },
    {
        "id": "2f7ffcc6f91e5ccd",
        "type": "inject",
        "z": "7c68352c.1b47bc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3200,
        "y": 1300,
        "wires": [
            [
                "6f6a6be962099d51",
                "3107ba735a2544ae"
            ]
        ]
    },
    {
        "id": "3107ba735a2544ae",
        "type": "file in",
        "z": "7c68352c.1b47bc",
        "name": "",
        "filename": "latest-tle.txt",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 2770,
        "y": 1220,
        "wires": [
            [
                "2792c0da30cae769"
            ]
        ]
    },
    {
        "id": "2792c0da30cae769",
        "type": "split",
        "z": "7c68352c.1b47bc",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": "1",
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2910,
        "y": 1220,
        "wires": [
            [
                "f616c27384adbddc"
            ]
        ]
    },
    {
        "id": "f616c27384adbddc",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "filtre emptystring",
        "func": "if(msg.payload.length<=1){}\nelse{return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3060,
        "y": 1220,
        "wires": [
            [
                "22cd0e6bfa3243eb"
            ]
        ]
    },
    {
        "id": "22cd0e6bfa3243eb",
        "type": "join",
        "z": "7c68352c.1b47bc",
        "name": "TLE recomb",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "30",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 3230,
        "y": 1220,
        "wires": [
            [
                "94209598dc411d64"
            ]
        ]
    },
    {
        "id": "94209598dc411d64",
        "type": "function",
        "z": "7c68352c.1b47bc",
        "name": "Trim TLE",
        "func": "msg.payload[0]=msg.payload[0].trim();\nmsg.payload[1]=msg.payload[1].trim();\nmsg.payload[2]=msg.payload[2].trim();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3380,
        "y": 1220,
        "wires": [
            [
                "1372b3f3639f3332"
            ]
        ]
    },
    {
        "id": "fe113fafefd371f8",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-r1tlelatest",
        "collection": "r1tlelatest",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 4200,
        "y": 1260,
        "wires": []
    },
    {
        "id": "53deede6e72a0ad1",
        "type": "mongodb out",
        "z": "7c68352c.1b47bc",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r1tlelatest",
        "collection": "r1tlelatest",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 4200,
        "y": 1340,
        "wires": []
    },
    {
        "id": "dce3220a.a2827",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "Angular Calculation Function",
        "func": "\n// Create a Params variable\n// with a time and temp component\n// Earth radius in kilometers\nconst radius = 6378;\n\n// position data from the Ground Station\nvar lat1 = msg.payload[0].latitude;\nvar lon1 = msg.payload[0].longitude;\nvar alt1 = msg.payload[0].altitude/1000;\n// latitude and longitude of ground station in radian\nvar lat1rad = lat1*Math.PI/180;\nvar lon1rad = lon1*Math.PI/180\n\n// position data from the Satellite\nvar lat2 = msg.object.lat;\nvar lon2 = msg.object.lon;\nvar alt2 = msg.object.alt;\n// latitude and logitude of satellite in radian\nvar lat2rad = lat2*Math.PI/180;\nvar lon2rad = lon2*Math.PI/180;\n\n// Intermediate angles and distances\nvar deltaLat = Math.abs((lat2-lat1)*Math.PI/180);\nvar deltaLon = Math.abs((lon2-lon1)*Math.PI/180);\nvar deltaAlt = Math.abs(alt2-alt1);\n\n//Orthodromic Distance in km (arch portion) beetween ground station and Satellite's ground projection\nvar arc = Math.acos(Math.sin(lat1rad)*Math.sin(lat2rad)+Math.cos(lat1rad)*Math.cos(lat2rad)*Math.cos(deltaLon))*radius;\n\n//Alpha angle (radian) between Ground Station - Earth Center - Satellite\nvar alpha =  arc/radius;\n\n\n//Chord in km between Ground Station and Satellite's ground projection\nvar chord = Math.sqrt(2*radius*radius*(1-Math.cos(alpha)));\n\n//Gamma angle (radian) in the isoceles triangle (Ground station, Earth Radius, Satellite's ground projection)\nvar gamma = Math.acos(chord/(2*radius));\n\n//Beta angle (radian) complementary in 90 with Gamma\n//PI()/2-C29\nvar beta = Math.PI/2-gamma;\n\n//Distance in km in line of sight between Satellite and Ground Station\nvar dist = Math.sqrt(chord*chord+deltaAlt*deltaAlt-2*chord*deltaAlt*Math.cos(beta+Math.PI/2))\n\n//Cotangente of Azimut\n//(SIN($C$8)*COS(C18-$C$9)-COS($C$8)*TAN(C17))/(SIN(C18-$C$9))\nvar cotAz = (Math.sin(lat1rad)*Math.cos(lon2rad-lon1rad)-Math.cos(lat1rad)*Math.tan(lat2rad))/Math.sin(lon2rad-lon1rad);\n\n//Tangente of Azimut\nvar tanAz = 1/cotAz;\n\n//Arctangente of Azimut in degree\n//180*ATAN(C35)/PI()\nvar atanAz = 180*Math.atan(tanAz)/Math.PI;\n\n//Symbols\n//Difference of longitude in degree between Satellite and Station\nvar longiDiff = lon2-lon1;\n\n//Longitude symbol : 0 if satellite is at West from the Station, else 1\nvar longisymbol = (1+longiDiff/Math.abs(longiDiff))/2;\n\n\n//Latitude symbol for Hemisphere : 0 if satellite is South Hemisphere, else 2\nvar latisymbol = 1+lat1/Math.abs(lat1);\n\n//Relative latitude difference : difference of latitude in degree between satellite and ground station\nvar latiDiff = lat2 - lat1;\n//C13-$C$4\n\n//Latitude symbol for relative position between satellite and station\nvar relativeLatiDiff = (1+latiDiff/Math.abs(latiDiff))/2;\n\n\n//Elevation angle between Station and Satellite, in degree\nvar el = 180*Math.atan(deltaAlt/chord)/Math.PI-beta;\n\n//Azimut angle : direction between Station and Satellite, in degree\n//(360-C42*90-C41*180)-C37\nvar azi = 180*longisymbol+((180*relativeLatiDiff+(360-latisymbol*90-longisymbol*180)-atanAz) % 360)\nvar az = azi % 360;\n\n\n//Parameters of the message for fill the table\n\nmsg.params = {$id:msg.body.id, $names:msg.payload[0].name, $mjday:msg.object.mjday, $mjfrac:msg.object.mjfrac, $dist:dist, $az:az, $el:el}\nvar tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n //if elevation angle is inside the visibility cone of the ground station\nif(el>msg.payload[0].elevation){\n    gs.id = msg.body.id\n    gs.name = msg.payload[0].name\n    gs.epochUnixTime = msg.object.epochUnixTime\n    gs.mjday = msg.object.mjday\n    gs.mjfrac = msg.object.mjfrac\n    gs.dist = dist\n    gs.az = az\n    gs.el = el\n\n\n    tab.push(gs)\n\n    msg.payload = tab\n    return msg;  \n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2440,
        "y": 1000,
        "wires": [
            [
                "f1175ba2.a05c28",
                "6b922809.e4f268"
            ]
        ]
    },
    {
        "id": "2e7fb2ab.ff8a5e",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "Fill the Angular table",
        "info": "",
        "x": 2910,
        "y": 900,
        "wires": []
    },
    {
        "id": "5d531160.429e6",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "select gsdata of gs for id",
        "func": "msg.body = msg.payload;\nmsg.payload = {name: msg.payload.name}\n//msg.topic ='SELECT * FROM gsdata WHERE  name =\"' + msg.payload.name+'\"' ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1950,
        "y": 1000,
        "wires": [
            [
                "ce326199.0a85b"
            ]
        ]
    },
    {
        "id": "30879888.257e48",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "Angular data calculation",
        "info": "",
        "x": 2460,
        "y": 1040,
        "wires": []
    },
    {
        "id": "88e679ca.dca768",
        "type": "link out",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "ANGULAR Table is filled",
        "links": [
            "192eea6c.16fe26",
            "fc15070f.cea9b8",
            "fe49e6f5.8df938"
        ],
        "x": 3115,
        "y": 960,
        "wires": []
    },
    {
        "id": "72aca196.278cf",
        "type": "inject",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 410,
        "y": 1040,
        "wires": [
            [
                "ca490983.7ec9b8",
                "2e404121.6748ae"
            ]
        ]
    },
    {
        "id": "8f9bb2ec.12936",
        "type": "complete",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "Trigger when VISI table is complete",
        "scope": [
            "48bcbb3f.1b82b4"
        ],
        "uncaught": false,
        "x": 320,
        "y": 1000,
        "wires": [
            [
                "ca490983.7ec9b8",
                "2e404121.6748ae"
            ]
        ]
    },
    {
        "id": "5e4f2147.9249e",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "EXIT LOOP2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3170,
        "y": 880,
        "wires": []
    },
    {
        "id": "fce1105a.6ef5",
        "type": "trigger",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "5",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2900,
        "y": 940,
        "wires": [
            [
                "88e679ca.dca768",
                "5e4f2147.9249e",
                "2668a3d2.59aabc"
            ]
        ]
    },
    {
        "id": "ca00b8d1.93b088",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "Display ground station id stored in database",
        "func": "\n   return{\n topic:\"Ground station Id stored in database\",\n payload:msg.params.$id,\n\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3010,
        "y": 1020,
        "wires": [
            [
                "a53ae528.1172e8"
            ]
        ]
    },
    {
        "id": "a53ae528.1172e8",
        "type": "ui_chart",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "",
        "group": "e85e692d.e47bb8",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Pursuit Database Monitoring",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 3340,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "6b922809.e4f268",
        "type": "delay",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 2700,
        "y": 1020,
        "wires": [
            [
                "ca00b8d1.93b088"
            ]
        ]
    },
    {
        "id": "2668a3d2.59aabc",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "message to dashboard9",
        "func": "msg.payload = \"Angular data written in DB\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3210,
        "y": 920,
        "wires": [
            [
                "986279ab.994688"
            ]
        ]
    },
    {
        "id": "986279ab.994688",
        "type": "link out",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "angular OUT",
        "links": [
            "a3f34a27.9e9038",
            "4250d989.2dabd8",
            "f48249b.dec28b8"
        ],
        "x": 3375,
        "y": 920,
        "wires": []
    },
    {
        "id": "2e404121.6748ae",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "query for sat position",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 1000,
        "wires": [
            [
                "333f1f0b.07ba1"
            ]
        ]
    },
    {
        "id": "333f1f0b.07ba1",
        "type": "mongodb in",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of satpos",
        "collection": "satpos",
        "operation": "find",
        "x": 900,
        "y": 1000,
        "wires": [
            [
                "8361c2b3.30592"
            ]
        ]
    },
    {
        "id": "e9076de9.07737",
        "type": "inject",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 410,
        "y": 960,
        "wires": [
            [
                "2e404121.6748ae"
            ]
        ]
    },
    {
        "id": "8361c2b3.30592",
        "type": "split",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 1000,
        "wires": [
            [
                "5cf3906d.cd20b"
            ]
        ]
    },
    {
        "id": "5cf3906d.cd20b",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "Query for visibility ",
        "func": "msg.object = msg.payload;\nmsg.payload = {mjday: msg.payload.mjday}\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1250,
        "y": 1000,
        "wires": [
            [
                "c781d830.604888"
            ]
        ]
    },
    {
        "id": "c781d830.604888",
        "type": "mongodb in",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of visi ",
        "collection": "visibility_windows",
        "operation": "find",
        "x": 1450,
        "y": 1000,
        "wires": [
            [
                "c5dfe4bd.95e2e8"
            ]
        ]
    },
    {
        "id": "c5dfe4bd.95e2e8",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "Sat position inside visi windows",
        "func": "for (var i = 0; i < msg.payload.length-1; i++) {\n if((msg.object.mjfrac >= msg.payload[i].mjfrac) && (msg.payload[i].status ==\"START\")){\n    if((msg.object.mjfrac <= msg.payload[i+1].mjfrac) && (msg.payload[i+1].status ==\"END\")){\n        var newMsg = {};\n        newMsg.object = msg.object;\n        newMsg.payload = msg.payload[i]\n        node.send(newMsg);\n        //console.log(msg.object.mjday, msg.object.mjfrac);\n    }\n    //console.log(msg.object.mjday, msg.object.mjfrac);\n }\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1690,
        "y": 1000,
        "wires": [
            [
                "5d531160.429e6"
            ]
        ]
    },
    {
        "id": "ce326199.0a85b",
        "type": "mongodb in",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of ground station",
        "collection": "ground_stations",
        "operation": "find",
        "x": 2190,
        "y": 1000,
        "wires": [
            [
                "dce3220a.a2827"
            ]
        ]
    },
    {
        "id": "ca490983.7ec9b8",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "delete angular",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1040,
        "wires": [
            [
                "88e99eb4.37486"
            ]
        ]
    },
    {
        "id": "88e99eb4.37486",
        "type": "mongodb out",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "",
        "collection": "angular",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 880,
        "y": 1040,
        "wires": []
    },
    {
        "id": "a8b66cd3.d5319",
        "type": "mongodb out",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-angular mongo",
        "collection": "angular",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2940,
        "y": 980,
        "wires": []
    },
    {
        "id": "f1175ba2.a05c28",
        "type": "split",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2670,
        "y": 980,
        "wires": [
            [
                "fce1105a.6ef5",
                "a8b66cd3.d5319"
            ]
        ]
    },
    {
        "id": "a5ef7279.4f0f6",
        "type": "ui_text",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "group": "e7d5b9e4.972fe8",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "pursuit data",
        "label": "{{msg.topic}}",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2250,
        "y": 1400,
        "wires": []
    },
    {
        "id": "4a7abf0e.e4e85",
        "type": "ui_text",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "group": "e7d5b9e4.972fe8",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "pursuit data",
        "label": "{{msg.topic}}",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2250,
        "y": 1440,
        "wires": []
    },
    {
        "id": "eac5880a.b59fb8",
        "type": "ui_text",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "group": "e7d5b9e4.972fe8",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "pursuit data",
        "label": "{{msg.topic}}",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2250,
        "y": 1480,
        "wires": []
    },
    {
        "id": "36c58d2d.bf0f02",
        "type": "ui_text",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "group": "e7d5b9e4.972fe8",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "pursuit data",
        "label": "{{msg.topic}}",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2250,
        "y": 1520,
        "wires": []
    },
    {
        "id": "95af4893.c89828",
        "type": "ui_text",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "group": "e7d5b9e4.972fe8",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "pursuit data",
        "label": "{{msg.topic}}",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2250,
        "y": 1560,
        "wires": []
    },
    {
        "id": "362b3f2b.4d2ac",
        "type": "ui_text",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "group": "e7d5b9e4.972fe8",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "pursuit data",
        "label": "{{msg.topic}}",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2250,
        "y": 1600,
        "wires": []
    },
    {
        "id": "fc51d4bf.af93b8",
        "type": "ui_slider",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "",
        "label": "Time",
        "tooltip": "Time range",
        "group": "e7d5b9e4.972fe8",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "50",
        "step": 1,
        "x": 950,
        "y": 1520,
        "wires": [
            [
                "15560cb4.96e8a3",
                "da44af67.6b24f"
            ]
        ]
    },
    {
        "id": "c33f4812.c84db8",
        "type": "ui_template",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "group": "e7d5b9e4.972fe8",
        "name": "SkyView",
        "order": 2,
        "width": 6,
        "height": 5,
        "format": "<!DOCTYPE html>\n<html>\n\n<head>\n    <meta charset='ISO-8859-1'>\n    <script src=\"https://d3js.org/d3.v3.min.js\"></script>\n    <style type=\"text/css\">\npath {\n  fill: none;\n  stroke: black;\n  stroke-width: 2px;\n}\n.axis text {\n  font: 13px sans-serif;\n}\n\n.axis line,\n.axis circle {\n  fill: none;\n  stroke: #777;\n  stroke-dasharray: 1,4;\n}\n\n.line {\n  fill: none;\n  stroke: red;\n  stroke-width: 1.5px;\n}\n</style>\n</head>\n\n\n\n<body style='background-color:lightgray'>\n    <div id=\"chart\" style='width: 250px; height: 250px; padding-left: 30px; padding-bottom: 5px;'></div>\n\n    <script>\n        var deg2rad = Math.PI / 180;\n        var width = 250, height = 250, radius = Math.min(width, height) / 2 - 30;\n\n        var svg = d3.select(\"#chart\").append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n        var r = d3.scale.linear()\n            .domain([90, 0])\n            .range([0, radius]);\n\n        var line = d3.svg.line.radial()\n            .radius(function (d) { return r(d[1]); })\n            .angle(function (d) { return -d[0] + Math.PI / 2; });\n\n        var gr = null;\n        \n        createSkyplot();\n        \n        function createSkyplot() {\n        //////////////////////\t\t\t  \n        gr = svg.append(\"g\")\n            .attr(\"class\", \"r axis\")\n            .selectAll(\"g\")\n            .data(r.ticks(5))\n            .enter().append(\"g\");\n\n        gr.append(\"circle\").attr(\"r\", r).style('fill', 'black');\n\n        gr.append(\"text\")\n            .attr(\"y\", function (d) { return -r(d) - 4; })\n            .attr(\"transform\", \"rotate(20)\")\n            .style(\"text-anchor\", \"middle\")\n            .style('fill', 'green')\n            .text(function (d) { return d; });\n        /////////////////////\n\n        /////////////////////\n        var ga = svg.append(\"g\")\n            .attr(\"class\", \"a axis\")\n            .selectAll(\"g\")\n            .data(d3.range(0, 360, 45))\n            .enter().append(\"g\")\n            .attr(\"transform\", function (d) { return \"rotate(\" + (d - 90) + \")\"; });\n\n        ga.append(\"line\").attr(\"x2\", radius).style('stroke', 'white').style('stroke-dasharray', '1,8');\n\n        ga.append(\"text\")\n            .attr(\"x\", radius + 6)\n            .attr(\"dy\", \".35em\")\n            .style(\"text-anchor\", function (d) { return d < 360 && d > 90 ? \"end\" : null; })\n            .attr(\"transform\", function (d) { return d < 360 && d > 90 ? \"rotate(180 \" + (radius + 3) + \",0)\" : null; })\n            .text(function (d) { return d + \"\"; });\n        /////////////////////\n    }\n    \n        \n        (function ($scope) {\n            // watch msg object from Node-RED\n            scope.$watch('msg', function (msg) {\n                \n                svg.selectAll('circle').remove();\n                svg.selectAll('text').remove();\n                \n                createSkyplot();\n        \n                function createSkyplot() {\n                //////////////////////\t\t\t  \n                gr = svg.append(\"g\")\n                    .attr(\"class\", \"r axis\")\n                    .selectAll(\"g\")\n                    .data(r.ticks(5))\n                    .enter().append(\"g\");\n        \n                gr.append(\"circle\").attr(\"r\", r).style('fill', 'black');\n        \n                gr.append(\"text\")\n                    .attr(\"y\", function (d) { return -r(d) - 4; })\n                    .attr(\"transform\", \"rotate(20)\")\n                    .style(\"text-anchor\", \"middle\")\n                    .style('fill', 'green')\n                    .text(function (d) { return d; });\n                /////////////////////\n        \n                /////////////////////\n                var ga = svg.append(\"g\")\n                    .attr(\"class\", \"a axis\")\n                    .selectAll(\"g\")\n                    .data(d3.range(0, 360, 45))\n                    .enter().append(\"g\")\n                    .attr(\"transform\", function (d) { return \"rotate(\" + (d - 90) + \")\"; });\n        \n                ga.append(\"line\").attr(\"x2\", radius).style('stroke', 'white').style('stroke-dasharray', '1,8');\n        \n                ga.append(\"text\")\n                    .attr(\"x\", radius + 6)\n                    .attr(\"dy\", \".35em\")\n                    .style(\"text-anchor\", function (d) { return d < 360 && d > 90 ? \"end\" : null; })\n                    .attr(\"transform\", function (d) { return d < 360 && d > 90 ? \"rotate(180 \" + (radius + 3) + \",0)\" : null; })\n                    .text(function (d) { return d + \"\"; });\n                /////////////////////\n            }\n                \n                \n                \n                // new message received\n                var Data = msg.payload;\n                //window.alert(strlink2);\n                //document.getElementById(\"refee\").setAttribute(\"href\",strlink2);\n                var json = {\n                    \"type\": \"GSV\",\n                    \"inView\": [{ \"data\": [1, 45, 90, \"#69b3a2\"] },\n                    { \"data\": [3, 70, 180, \"#69b3a2\"] },\n                    { \"data\": [5, 70, 225, \"#A82051\"] },\n                    { \"data\": [3, 70, 270, \"#69b3a2\"] },\n                    { \"data\": [3, 70, 315, \"#69b3a2\"] },\n                    { \"data\": [3, 70, 0, \"#69b3a2\"] }]\n                };\n\n                //updateSkyPlot(json);\n                updateSkyPlot(Data);\n                \n                \n                \n                \n                \n                function updateSkyPlot(d) {\n                    \n                    \n                    \n                    \n                    var pos = [];\n                    var inview = d.inView;\n\n                    for (var elem in inview) {\n                        if (inview.hasOwnProperty(elem)) {\n                            // the azimuth should be in radians and substracted from (Math.PI/2)\t\"data\" : [1, 45, 90]\n                            var d = [(Math.PI / 2) - inview[elem].data[2] * deg2rad, inview[elem].data[1]];\n                            pos.push({ \"angle\": d, \"label\": inview[elem].data[0], \"col\": inview[elem].data[3] });\n                        }\n                    }\n\n                    var r = d3.scale.linear()\n                        .domain([90, 0])\n                        .range([0, radius]);\n\n                    var line = d3.svg.line.radial()\n                        .radius(function (d) { return r(d[1]); })\n                        .angle(function (d) { return -d[0] + Math.PI / 2; });\n\n                    var color = d3.scale.category20();\n\n                    svg.selectAll('circle').remove();\n                    \n                    \n                    gr.append(\"circle\").attr(\"r\", r).style('fill', 'black');\n                    \n\n                    var points = svg.selectAll(\"point\")\n                        .data(pos)\n                        .enter()\n                        .append(\"a\")\n                        .attr(\"transform\", function (d) {\n                            var coors = line([d.angle]).slice(1).slice(0, -1);\n                            return \"translate(\" + coors + \")\"\n                        });\n\n                    points.append(\"circle\")\n                        .attr(\"class\", \"point\")\n                        .attr(\"r\", 5)\n                        .attr(\"fill\", function (d, i) { return color(d.col); });\n\n                    //points.append(\"text\")\n                        //.text(function (d) { return d.label })\n                        //.attr(\"transform\", \"translate(-7,5)\")\n                }\n            })\n        }) (scope);\n    </script>\n</body>\n</html>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 2260,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "58db54d0.12d46c",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2250,
        "y": 1720,
        "wires": []
    },
    {
        "id": "c43a64bf.f83098",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "Time start visi",
        "func": "//from msg with mday and mjfrac \n//var tjd = (msg.payload[0].mjday-33282)+msg.payload[0].mjfrac/86400\n//to Epoch Unix date\n//var time = 86400*tjd-631152000\nvar time = msg.payload[0].epochUnixTime\n//to GMT date format\nvar myDate = new Date(time *1000);\ndate= (myDate.toGMTString());\n\nmsg.payload = date\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 1420,
        "wires": [
            [
                "d2a2dc9c.b4a27"
            ]
        ]
    },
    {
        "id": "d2a2dc9c.b4a27",
        "type": "ui_text",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "group": "e7d5b9e4.972fe8",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1650,
        "y": 1420,
        "wires": []
    },
    {
        "id": "9e22e911.d691a8",
        "type": "persist in",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "Angular-stored",
        "storageNode": "",
        "x": 800,
        "y": 1460,
        "wires": []
    },
    {
        "id": "15560cb4.96e8a3",
        "type": "persist out",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "Angular-stored",
        "storageNode": "",
        "x": 1140,
        "y": 1480,
        "wires": [
            [
                "da44af67.6b24f"
            ]
        ]
    },
    {
        "id": "7cb023f0.0c57bc",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "Time visi",
        "func": "var tjd = (msg.payload[0][msg.payload[1]].mjday-33282)+msg.payload[0][msg.payload[1]].mjfrac/86400\nvar time = 86400*tjd-631152000\n\nvar myDate = new Date(time *1000);\ndate= (myDate.toGMTString());\n\nmsg.payload = date\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 1480,
        "wires": [
            [
                "d2a2dc9c.b4a27"
            ]
        ]
    },
    {
        "id": "da44af67.6b24f",
        "type": "join",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1330,
        "y": 1560,
        "wires": [
            [
                "7cb023f0.0c57bc",
                "5192d05b.d1875",
                "da50ca5b.310b28",
                "386d7942.156c76",
                "429b1393.6ffd6c",
                "b8207185.f42bd",
                "18f17f32.5f7e71",
                "c62dbe90.1b804",
                "4deae3db.325f3c"
            ]
        ]
    },
    {
        "id": "a647cc01.bfdfb",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "Max slider",
        "func": "\n\nmsg = {ui_control:{max:msg.payload.length}};\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1520,
        "wires": [
            [
                "fc51d4bf.af93b8"
            ]
        ]
    },
    {
        "id": "5192d05b.d1875",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "msg2dash",
        "func": "msg.payload = msg.payload[0][msg.payload[1]].id\nmsg.topic = \"Id\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 1400,
        "wires": [
            [
                "a5ef7279.4f0f6"
            ]
        ]
    },
    {
        "id": "da50ca5b.310b28",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "msg2dash",
        "func": "msg.payload = msg.payload[0][msg.payload[1]].name\nmsg.topic = \"Name\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 1440,
        "wires": [
            [
                "4a7abf0e.e4e85"
            ]
        ]
    },
    {
        "id": "429b1393.6ffd6c",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "msg2dash",
        "func": "var tjd = (msg.payload[0][msg.payload[1]].mjday-33282)+msg.payload[0][msg.payload[1]].mjfrac/86400\nvar time = 86400*tjd-631152000\n\nvar myDate = new Date(time *1000);\ndate= (myDate.toGMTString());\n\nmsg.payload = date\nmsg.topic = \"Date\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 1480,
        "wires": [
            [
                "eac5880a.b59fb8"
            ]
        ]
    },
    {
        "id": "386d7942.156c76",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "msg2dash",
        "func": "var dist = msg.payload[0][msg.payload[1]].dist\n\nmsg.payload = Math.round(dist)\n\nmsg.topic = \"Distance (km)\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 1520,
        "wires": [
            [
                "36c58d2d.bf0f02"
            ]
        ]
    },
    {
        "id": "b8207185.f42bd",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "msg2dash",
        "func": "var az = msg.payload[0][msg.payload[1]].az\n\nmsg.payload = Math.round(az)\nmsg.topic = \"Azimut ()\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 1560,
        "wires": [
            [
                "95af4893.c89828"
            ]
        ]
    },
    {
        "id": "18f17f32.5f7e71",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "msg2dash",
        "func": "var el = msg.payload[0][msg.payload[1]].el\nmsg.payload = Math.round(el)\nmsg.topic = \"Elevation ()\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 1600,
        "wires": [
            [
                "362b3f2b.4d2ac"
            ]
        ]
    },
    {
        "id": "992c5674.60e4f8",
        "type": "change",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "Data4Skyview 2",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"type\": \"GSV\",\t   \"inView\": [\t       msg.payload   \t   ]\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "body",
                "pt": "msg",
                "to": "payload[0].data[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2060,
        "y": 1680,
        "wires": [
            [
                "c33f4812.c84db8",
                "58db54d0.12d46c"
            ]
        ]
    },
    {
        "id": "c62dbe90.1b804",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "format",
        "func": "function componentToHex(c) {\n  var hex = c.toString(16);\n  return hex.length == 1 ? \"0\" + hex : hex;\n}\n\nfunction rgbToHex(r, g, b) {\n  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n}\nvar FRAC = Math.round(1000*(msg.payload[0][msg.payload[1]].mjfrac)/86400)\nvar DAY = msg.payload[0][msg.payload[1]].mjday\nvar ID = msg.payload[0][msg.payload[1]].id\nvar EL = msg.payload[0][msg.payload[1]].el\nvar AZ = msg.payload[0][msg.payload[1]].az\nvar DIST = msg.payload[0][msg.payload[1]].dist\n\nvar red = Math.abs(Math.round((Math.round(EL+AZ/10)-45)*255/269));\nvar hex = rgbToHex(red, 0, 255); // convert rbg to hex color\n\nmsg.payload = [ID,EL,AZ]\nmsg.topic = [FRAC, DAY]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1650,
        "y": 1680,
        "wires": [
            [
                "69383c6d.0abe04"
            ]
        ]
    },
    {
        "id": "69383c6d.0abe04",
        "type": "change",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "Data4Skyview 1",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t           \"data\": [\t               msg.payload[0],\t               msg.payload[1],\t               msg.payload[2],\t               msg.topic[0]\t           ]        \t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1840,
        "y": 1680,
        "wires": [
            [
                "992c5674.60e4f8"
            ]
        ]
    },
    {
        "id": "a4da2217.fb14a",
        "type": "link in",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "GS dash in",
        "links": [
            "62ecd0ac.9f798"
        ],
        "x": 195,
        "y": 1460,
        "wires": [
            [
                "18151515.6d2f0b"
            ]
        ]
    },
    {
        "id": "e364185d.295dd8",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "Skyview Widget",
        "info": "",
        "x": 2240,
        "y": 1640,
        "wires": []
    },
    {
        "id": "7133e66d.aacb98",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "MACHINE DEPENDENCE",
        "info": "angular-persistence.json\n",
        "x": 890,
        "y": 1360,
        "wires": [],
        "icon": "node-red-contrib-alarm/alarm.png"
    },
    {
        "id": "18151515.6d2f0b",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "",
        "func": "msg.payload = {name: msg.payload}\nmsg.sort = {epochUnixTime:1}\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1460,
        "wires": [
            [
                "b8bf83a3.79c91"
            ]
        ]
    },
    {
        "id": "b8bf83a3.79c91",
        "type": "mongodb in",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * from angular",
        "collection": "angular",
        "operation": "find",
        "x": 500,
        "y": 1460,
        "wires": [
            [
                "c43a64bf.f83098",
                "9e22e911.d691a8",
                "a647cc01.bfdfb"
            ]
        ]
    },
    {
        "id": "4deae3db.325f3c",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "g": "68821a62.dd81d4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1650,
        "y": 1640,
        "wires": []
    },
    {
        "id": "ce2c1d1e.f767",
        "type": "link in",
        "z": "6ac37828.4c7288",
        "g": "ca417f4.d57648",
        "name": "Time-in",
        "links": [
            "9c6e6a2a.83f0a8",
            "b715a8a4.6ee488",
            "eae873f.0883f9",
            "f225da6f.835808"
        ],
        "x": 275,
        "y": 1160,
        "wires": [
            [
                "43419e4a.69252"
            ]
        ]
    },
    {
        "id": "dd210a3f.75a238",
        "type": "inject",
        "z": "6ac37828.4c7288",
        "g": "ca417f4.d57648",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 250,
        "y": 1200,
        "wires": [
            [
                "43419e4a.69252"
            ]
        ]
    },
    {
        "id": "e9ccf3f5.9a0dd",
        "type": "ui_dropdown",
        "z": "6ac37828.4c7288",
        "g": "ca417f4.d57648",
        "name": "",
        "label": "Ground Station",
        "tooltip": "Choose a ground station in the list",
        "place": "Select option",
        "group": "e7d5b9e4.972fe8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "x": 1200,
        "y": 1200,
        "wires": [
            [
                "62ecd0ac.9f798"
            ]
        ]
    },
    {
        "id": "62ecd0ac.9f798",
        "type": "link out",
        "z": "6ac37828.4c7288",
        "g": "ca417f4.d57648",
        "name": "GS dash out",
        "links": [
            "a4da2217.fb14a"
        ],
        "x": 1335,
        "y": 1200,
        "wires": []
    },
    {
        "id": "ef9996c9.844698",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "g": "ca417f4.d57648",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 1240,
        "wires": []
    },
    {
        "id": "880e080b.6e03c8",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "ca417f4.d57648",
        "name": "Loop to send station names",
        "func": "liste = []\nmsg.payload.forEach((gs) => {\n    liste.push(gs.name)\n})\nmsg.options = liste\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 1200,
        "wires": [
            [
                "e9ccf3f5.9a0dd"
            ]
        ]
    },
    {
        "id": "43419e4a.69252",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "ca417f4.d57648",
        "name": "Query for Station name",
        "func": "msg.payload = {}\nmsg.projection = {name:1,_id:0}\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1200,
        "wires": [
            [
                "9d1f06ad.04cba8"
            ]
        ]
    },
    {
        "id": "9d1f06ad.04cba8",
        "type": "mongodb in",
        "z": "6ac37828.4c7288",
        "g": "ca417f4.d57648",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show stations name",
        "collection": "ground_stations",
        "operation": "find",
        "x": 690,
        "y": 1200,
        "wires": [
            [
                "880e080b.6e03c8",
                "ef9996c9.844698"
            ]
        ]
    },
    {
        "id": "6b1d521f.f17bdc",
        "type": "inject",
        "z": "6ac37828.4c7288",
        "g": "f9ac2a4f.ec0f18",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "payload",
        "payloadType": "msg",
        "x": 310,
        "y": 520,
        "wires": [
            [
                "fa7c0ed1.a0037"
            ]
        ]
    },
    {
        "id": "fa7c0ed1.a0037",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "f9ac2a4f.ec0f18",
        "name": "query to delete visbility",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 520,
        "wires": [
            [
                "ea29f6f6.a79b68"
            ]
        ]
    },
    {
        "id": "ea29f6f6.a79b68",
        "type": "mongodb out",
        "z": "6ac37828.4c7288",
        "g": "f9ac2a4f.ec0f18",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete visi Mongo",
        "collection": "visibility_windows",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 790,
        "y": 520,
        "wires": []
    },
    {
        "id": "3124de43.b13802",
        "type": "link in",
        "z": "6ac37828.4c7288",
        "g": "f9ac2a4f.ec0f18",
        "name": "If Visibility Windows Updated",
        "links": [
            "98bf343c.86d3c8",
            "bbb0a27.d894b6",
            "e043ec2c.9c863"
        ],
        "x": 300,
        "y": 480,
        "wires": [
            [
                "fa7c0ed1.a0037"
            ]
        ],
        "l": true
    },
    {
        "id": "12859d93.ff2bb2",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "f9ac2a4f.ec0f18",
        "name": "MACHINE DEPENDENCE",
        "info": "/home/antoine/jsatorb-rest-api/files/default_STORK/Data/STORK_MEM_LLA.TXT",
        "x": 770,
        "y": 460,
        "wires": [],
        "icon": "node-red-contrib-alarm/alarm.png"
    },
    {
        "id": "b28fa916.8cecf8",
        "type": "file in",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "Sat-position",
        "filename": "/app/jsatorb-rest-api/files/default_Sat/Data/Sat_MEM_LLA.TXT",
        "format": "lines",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 930,
        "y": 280,
        "wires": [
            [
                "d2fa18fb.bb0268"
            ]
        ]
    },
    {
        "id": "30f8536.28de1ac",
        "type": "inject",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 330,
        "y": 220,
        "wires": [
            [
                "56b0ea89.58abe4"
            ]
        ]
    },
    {
        "id": "ac33343b.ba4e78",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "LLA-file",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2320,
        "y": 340,
        "wires": []
    },
    {
        "id": "d2fa18fb.bb0268",
        "type": "join",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1130,
        "y": 280,
        "wires": [
            [
                "17ecad58.1256a3"
            ]
        ]
    },
    {
        "id": "6e83ca21.272f94",
        "type": "csv",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "sep": " ",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "mjday, mjfrac, lat, lon, alt",
        "skip": "15",
        "strings": false,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 1390,
        "y": 280,
        "wires": [
            [
                "6c0fd70b.db8398"
            ]
        ]
    },
    {
        "id": "17ecad58.1256a3",
        "type": "split",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1270,
        "y": 280,
        "wires": [
            [
                "6e83ca21.272f94"
            ]
        ]
    },
    {
        "id": "fe40c70e.60f8c8",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "start with array[13]",
        "info": "",
        "x": 1590,
        "y": 240,
        "wires": []
    },
    {
        "id": "6c0fd70b.db8398",
        "type": "split",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1510,
        "y": 280,
        "wires": [
            [
                "f0d578c5.436e78"
            ]
        ]
    },
    {
        "id": "f0d578c5.436e78",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "msg_Sat-position-filling",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\nvar mjday;\nvar mjfrac;\nvar lat;\nvar lon;\nvar alt;\n\n   return{\n topic:\"satellite position filling into table\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1680,
        "y": 280,
        "wires": [
            [
                "4b6b90eb.77d19"
            ]
        ]
    },
    {
        "id": "1a4d810e.14739f",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "message to dashboard1",
        "func": "msg.payload = \"Writing satpos DB\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 180,
        "wires": [
            [
                "cb89ef4c.ba97b"
            ]
        ]
    },
    {
        "id": "55945d7e.c40f94",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "message to dashboard2",
        "func": "msg.payload = \"satpos DB completed\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2450,
        "y": 200,
        "wires": [
            [
                "cb89ef4c.ba97b"
            ]
        ]
    },
    {
        "id": "bffee3e0.8e31f",
        "type": "ui_button",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "group": "b10e0a54.7b0198",
        "order": 21,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "SAT Position UPDATE",
        "tooltip": "",
        "color": "",
        "bgcolor": "#FF0000",
        "className": "",
        "icon": "fa-refresh",
        "payload": "CMD TIME PLAY",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 280,
        "y": 180,
        "wires": [
            [
                "56b0ea89.58abe4"
            ]
        ]
    },
    {
        "id": "44ae3f5e.453b7",
        "type": "ui_text",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "group": "3dabe8df.a10df8",
        "order": 1,
        "width": 6,
        "height": 1,
        "name": "Satpos on writing",
        "label": "User Notification",
        "format": "<font color= {{msg.color}} > {{msg.payload}} </font>",
        "layout": "row-left",
        "x": 3010,
        "y": 180,
        "wires": []
    },
    {
        "id": "b4a46ba6.0c8db8",
        "type": "inject",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 570,
        "y": 140,
        "wires": [
            [
                "1a4d810e.14739f"
            ]
        ]
    },
    {
        "id": "d96ea2e8.2a85a",
        "type": "inject",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 2190,
        "y": 200,
        "wires": [
            [
                "55945d7e.c40f94"
            ]
        ]
    },
    {
        "id": "cb89ef4c.ba97b",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "Color Mapping",
        "func": "switch (msg.payload) {\n\ncase \"Writing satpos DB\" : \n    msg.color = \"red\";\n    break;\n    \ncase \"satpos DB completed\" : \n    msg.color = \"lime\";\n    break;\n    \ndefault : \n    msg.color = \"red\";\n    break;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2780,
        "y": 180,
        "wires": [
            [
                "44ae3f5e.453b7"
            ]
        ]
    },
    {
        "id": "56b0ea89.58abe4",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "query to delete satpos",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 180,
        "wires": [
            [
                "68bafbeb.9ea644",
                "1a4d810e.14739f"
            ]
        ]
    },
    {
        "id": "68bafbeb.9ea644",
        "type": "mongodb out",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete satpos Mongo",
        "collection": "satpos",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 780,
        "y": 220,
        "wires": []
    },
    {
        "id": "4b6b90eb.77d19",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "query to fill sat pos database",
        "func": "var tab = []\nvar gs = {}\n\n //From the GS\ngs.mjday = parseInt(msg.payload.mjday)\ngs.mjfrac = parseFloat(msg.payload.mjfrac)\ngs.lat = parseFloat(msg.payload.lat)\ngs.lon = parseFloat(msg.payload.lon)\ngs.alt = parseFloat(msg.payload.alt)\nvar tjd = (gs.mjday-33282)+gs.mjfrac/86400\ngs.epochUnixTime = 86400*tjd-631152000\n\n\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1920,
        "y": 280,
        "wires": [
            [
                "3ce6983f.32dee8"
            ]
        ]
    },
    {
        "id": "3ce6983f.32dee8",
        "type": "split",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2130,
        "y": 280,
        "wires": [
            [
                "f2b0db0a.891f48",
                "ac33343b.ba4e78",
                "55945d7e.c40f94"
            ]
        ]
    },
    {
        "id": "f2b0db0a.891f48",
        "type": "mongodb out",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert satpos mongo",
        "collection": "satpos",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2360,
        "y": 280,
        "wires": []
    },
    {
        "id": "733f7d7b.5f7334",
        "type": "complete",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "Trigger when satpos deleted",
        "scope": [
            "56b0ea89.58abe4"
        ],
        "uncaught": false,
        "x": 300,
        "y": 280,
        "wires": [
            [
                "d652d2af.e4153"
            ]
        ]
    },
    {
        "id": "d652d2af.e4153",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "2b159612.3e728a",
        "name": "query to fill satpos",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 280,
        "wires": [
            [
                "b28fa916.8cecf8"
            ]
        ]
    },
    {
        "id": "95d28814.324448",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "Get LLA.TXT data (mjday, mjfrac, lat, lon, alt)",
        "info": "",
        "x": 350,
        "y": 640,
        "wires": []
    },
    {
        "id": "ccdacc27.0b8d5",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "start with array[13]",
        "info": "",
        "x": 2790,
        "y": 660,
        "wires": []
    },
    {
        "id": "27642efd.b128c2",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "Get VISI.TXT data (id, name, mjday, mjfrac, status)",
        "info": "",
        "x": 2390,
        "y": 760,
        "wires": []
    },
    {
        "id": "2597a39d.2cd17c",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "Fill the visi table",
        "info": "",
        "x": 3020,
        "y": 740,
        "wires": []
    },
    {
        "id": "41078e88.a6fd9",
        "type": "change",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/jsatorb-rest-api/files/default_Sat/Data/Sat_MEM_VISIBILITY_\" & msg.payload & \".TXT\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2130,
        "y": 700,
        "wires": [
            [
                "5011c869.b39c88"
            ]
        ]
    },
    {
        "id": "5011c869.b39c88",
        "type": "file in",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "Visibility file",
        "filename": "",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "x": 2310,
        "y": 700,
        "wires": [
            [
                "74efb784.8f5f08",
                "7d635cb4aa8261b2"
            ]
        ]
    },
    {
        "id": "66f1c442.2f1dbc",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "select name of the station",
        "func": "//msg.topic =msg.payload;\nname = msg.payload[0].name\nnames = name.split('\"')[0]\nmsg.payload = names\nmsg.topic = [msg.var-1, name]\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1890,
        "y": 700,
        "wires": [
            [
                "41078e88.a6fd9"
            ]
        ]
    },
    {
        "id": "dbe1ad67.c3a45",
        "type": "split",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2770,
        "y": 700,
        "wires": [
            [
                "d84b60ca.de634"
            ]
        ]
    },
    {
        "id": "d84b60ca.de634",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "msg_Visibility-windows-filling",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\nvar id;\nvar mjday;\nvar mjfrac;\nvar status;\n\n   return{\n topic:\"visbility window filling into table\",\n payload:[\n        id=msg.topic[0]+1, name=msg.topic[1], msg.payload\n    ],\n body: msg.topic[1]\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2960,
        "y": 700,
        "wires": [
            [
                "c8d1a797.2e0608"
            ]
        ]
    },
    {
        "id": "c8d1a797.2e0608",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "Param Variable",
        "func": "\n// Create a Params variable\n// with a time and temp component\n//\nmsg.params = {$id:msg.payload[0], $name:msg.payload[1], $mjday:msg.payload[2].mjday, $mjfrac:msg.payload[2].mjfrac, $status:msg.payload[2].status}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3180,
        "y": 700,
        "wires": [
            [
                "a54a8ad9.b9fcd8",
                "93b14ae0.e32aa8"
            ]
        ]
    },
    {
        "id": "df778f9f.fb09e",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "Visi Timestamp and Satpos Timestamp comparison",
        "info": "",
        "x": 890,
        "y": 760,
        "wires": []
    },
    {
        "id": "1692c203.53310e",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "EXIT LOOP",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3610,
        "y": 660,
        "wires": []
    },
    {
        "id": "a54a8ad9.b9fcd8",
        "type": "trigger",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "1",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 3380,
        "y": 700,
        "wires": [
            [
                "1692c203.53310e",
                "48bcbb3f.1b82b4"
            ]
        ]
    },
    {
        "id": "72c44582.c5e4ec",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "MACHINE DEPENDENCE",
        "info": "/home/antoine/jsatorb-rest-api/files/default_STORK/Data/STORK_MEM_VISIBILITY_.TXT",
        "x": 2330,
        "y": 660,
        "wires": [],
        "icon": "node-red-contrib-alarm/alarm.png"
    },
    {
        "id": "48bcbb3f.1b82b4",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "message to dashboard8",
        "func": "msg.payload = \"Visi window written in DB\"\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3650,
        "y": 700,
        "wires": [
            [
                "918bdb58.54e5a8"
            ]
        ]
    },
    {
        "id": "918bdb58.54e5a8",
        "type": "link out",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "visi OUT",
        "links": [
            "dd962994.25d498",
            "fb2c27e9.282708",
            "becd8ee3.9efcd"
        ],
        "x": 3815,
        "y": 700,
        "wires": []
    },
    {
        "id": "7622255e.b430ec",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "query to show station names",
        "func": "msg.payload = {}\nmsg.projection = {name:1,_id:0}\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 700,
        "wires": [
            [
                "e4972806.98b458"
            ]
        ]
    },
    {
        "id": "e4972806.98b458",
        "type": "mongodb in",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show stations name",
        "collection": "ground_stations",
        "operation": "find",
        "x": 1130,
        "y": 700,
        "wires": [
            [
                "39c9f32f.91a26c"
            ]
        ]
    },
    {
        "id": "527ae382.4cd48c",
        "type": "split",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1470,
        "y": 700,
        "wires": [
            [
                "da43a5f9.d381a8"
            ]
        ]
    },
    {
        "id": "74efb784.8f5f08",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 640,
        "wires": []
    },
    {
        "id": "da43a5f9.d381a8",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "message format",
        "func": "msg.var = msg.payload.var\ndelete msg.payload.var\nmsg.payload = [msg.payload]\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 700,
        "wires": [
            [
                "66f1c442.2f1dbc"
            ]
        ]
    },
    {
        "id": "39c9f32f.91a26c",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "insert counter",
        "func": "var count = 1\nmsg.payload.forEach(gs => {\n    gs.var = count ++\n})\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 700,
        "wires": [
            [
                "527ae382.4cd48c"
            ]
        ]
    },
    {
        "id": "93b14ae0.e32aa8",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "Query to fill visibility database",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\ngs.id = msg.payload[0]\ngs.name = msg.payload[1]\ngs.mjday = parseInt(msg.payload[2].mjday)\ngs.mjfrac = parseFloat(msg.payload[2].mjfrac)\ngs.status = msg.payload[2].status\nvar tjd = (gs.mjday-33282)+gs.mjfrac/86400\ngs.epochUnixTime = 86400*tjd-631152000\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3440,
        "y": 760,
        "wires": [
            [
                "4c4d2bcd.1f4104"
            ]
        ]
    },
    {
        "id": "4c4d2bcd.1f4104",
        "type": "split",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 3630,
        "y": 760,
        "wires": [
            [
                "518f311d.94f08"
            ]
        ]
    },
    {
        "id": "518f311d.94f08",
        "type": "mongodb out",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert-visi mongo",
        "collection": "visibility_windows",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 3790,
        "y": 760,
        "wires": []
    },
    {
        "id": "c1aa03b9.0e853",
        "type": "function",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "query to fill visibility ",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 700,
        "wires": [
            [
                "7622255e.b430ec"
            ]
        ]
    },
    {
        "id": "1487730a.2f8b9d",
        "type": "complete",
        "z": "6ac37828.4c7288",
        "g": "4a641fde.c960f",
        "name": "Trigger when visibility deleted",
        "scope": [
            "fa7c0ed1.a0037"
        ],
        "uncaught": false,
        "x": 320,
        "y": 700,
        "wires": [
            [
                "c1aa03b9.0e853"
            ]
        ]
    },
    {
        "id": "4a6b4791859a7ec7",
        "type": "comment",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "!!!! Pas de EXIT LOOP2 probleme de mongo db",
        "info": "",
        "x": 1680,
        "y": 920,
        "wires": []
    },
    {
        "id": "ddff7293e03f0b82",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "g": "a70ba86a.746ad8",
        "name": "CHECK FLOW",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 920,
        "wires": []
    },
    {
        "id": "7d635cb4aa8261b2",
        "type": "split",
        "z": "6ac37828.4c7288",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2490,
        "y": 700,
        "wires": [
            [
                "efa1578a636dec6f"
            ]
        ]
    },
    {
        "id": "efa1578a636dec6f",
        "type": "csv",
        "z": "6ac37828.4c7288",
        "name": "",
        "sep": " ",
        "hdrin": "",
        "hdrout": "once",
        "multi": "mult",
        "ret": "\\n",
        "temp": "mjday, mjfrac, status",
        "skip": "15",
        "strings": false,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 2630,
        "y": 700,
        "wires": [
            [
                "dbe1ad67.c3a45"
            ]
        ]
    },
    {
        "id": "4aae53bd115977ea",
        "type": "debug",
        "z": "6ac37828.4c7288",
        "name": "CHECK FLOW",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 980,
        "y": 900,
        "wires": []
    },
    {
        "id": "a0c79e2cfcb13383",
        "type": "ui_iframe",
        "z": "73572cf1.6e2304",
        "group": "ce913522.c3fc68",
        "name": "iframe for Home",
        "order": 3,
        "width": "30",
        "height": "16",
        "url": "https://geoxc-apps.bd.esri.com/space/satellite-explorer/#",
        "origin": "*",
        "scale": 100,
        "x": 420,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "609a932ba1f54397",
        "type": "ui_form",
        "z": "c852882eb324b626",
        "name": "",
        "label": "Ergol Calculator Form",
        "group": "08acdaf223aeb275",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Satellite Mass (kg)",
                "value": "Mass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "ISP (sec)",
                "value": "ISP",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "V (m/s)",
                "value": "Deltav",
                "type": "number",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "Mass": "",
            "ISP": "",
            "Deltav": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "x": 200,
        "y": 120,
        "wires": [
            [
                "0b60e689d144c7a3"
            ]
        ]
    },
    {
        "id": "72790777b9d2d817",
        "type": "ui_text",
        "z": "c852882eb324b626",
        "group": "08acdaf223aeb275",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Ergol Mass (kg)",
        "label": "Ergol Mass (kg)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 700,
        "y": 200,
        "wires": []
    },
    {
        "id": "0b60e689d144c7a3",
        "type": "function",
        "z": "c852882eb324b626",
        "name": "Tsiolkowski-formula",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.mass = msg.payload.Mass\ngs.isp = msg.payload.ISP\ngs.deltav = msg.payload.Deltav\n\n//Default\n//gs.status = 1\n//tab.push(gs)\n\n//msg.payload = tab\nmsg.payload = Math.round(gs.mass*(1-Math.exp(-gs.deltav/(9.81*gs.isp))))\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 120,
        "wires": [
            [
                "14efff9800026731",
                "72790777b9d2d817"
            ]
        ]
    },
    {
        "id": "14efff9800026731",
        "type": "debug",
        "z": "c852882eb324b626",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 120,
        "wires": []
    },
    {
        "id": "b4091322e8f418b9",
        "type": "ui_form",
        "z": "c852882eb324b626",
        "name": "",
        "label": "Ergol Calculator Form",
        "group": "7cbca3c0b9c25d7c",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Satellite Mass (kg)",
                "value": "Mass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "ISP (sec)",
                "value": "ISP",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "V (m/s)",
                "value": "Deltav",
                "type": "number",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "Mass": "",
            "ISP": "",
            "Deltav": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 200,
        "y": 320,
        "wires": [
            [
                "383a984624e38386"
            ]
        ]
    },
    {
        "id": "43e8265357592564",
        "type": "ui_text",
        "z": "c852882eb324b626",
        "group": "7cbca3c0b9c25d7c",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Ergol Mass (kg)",
        "label": "Ergol Mass (kg)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 700,
        "y": 400,
        "wires": []
    },
    {
        "id": "383a984624e38386",
        "type": "function",
        "z": "c852882eb324b626",
        "name": "Tsiolkowski-formula",
        "func": "var tab = []\n\n\nvar gs = {}\n\n \n //From the GS\n\ngs.mass = msg.payload.Mass\ngs.isp = msg.payload.ISP\ngs.deltav = msg.payload.Deltav\n\n//Default\n//gs.status = 1\n//tab.push(gs)\n\n//msg.payload = tab\nmsg.payload = Math.round(gs.mass*(1-Math.exp(-gs.deltav/(9.81*gs.isp))))\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 320,
        "wires": [
            [
                "f01c6ae21925a42c",
                "43e8265357592564"
            ]
        ]
    },
    {
        "id": "f01c6ae21925a42c",
        "type": "debug",
        "z": "c852882eb324b626",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 320,
        "wires": []
    },
    {
        "id": "680cddbbea89fd15",
        "type": "ui_form",
        "z": "a9c7c6499fb06192",
        "name": "",
        "label": "BLUE1-Continuous Maneuver Duration",
        "group": "5a7810372552815e",
        "order": 4,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Duration (s)",
                "value": "contdura",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "contdura": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 290,
        "y": 740,
        "wires": [
            [
                "f3f1f8596d62c9c5"
            ]
        ]
    },
    {
        "id": "be81d51d602309a7",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Maneuver-param",
        "func": "\nvar Dx;\nvar Dy;\nvar Dz;\n\n\n\n//PREPARATION STEP\n\n// theta est le complement a 90 de beta\nvar theta = 90 - msg.paths.path_3.angle.degree\n// converting theta to rad and computing\n//the vector composition of the thrust\nDx = 1*Math.sin(theta*Math.PI/180)*Math.cos(msg.paths.path_2.angle.degree*Math.PI/180);\nDy = 1*Math.sin(theta*Math.PI/180)*Math.sin(msg.paths.path_2.angle.degree*Math.PI/180);\nDz = 1*Math.cos(theta*Math.PI/180)\n\nvar tab = []\nvar gs = {}\n\ngs.dx = Dx\ngs.dy = Dy\ngs.dz = Dz\ngs.dura = msg.paths.path_1.contdura\n\n\ntab.push(gs)\nmsg.body = msg.payload\nmsg.payload = tab\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 800,
        "wires": [
            [
                "16161e8586c1b2e5",
                "6288e6e1f307bb90",
                "93cecfd0bf213d56",
                "f7fae6fbb972e49a"
            ]
        ]
    },
    {
        "id": "16161e8586c1b2e5",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "deltaV param",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 800,
        "wires": []
    },
    {
        "id": "103e0f8d1bcb9cc1",
        "type": "ui_joystick",
        "z": "a9c7c6499fb06192",
        "name": "Thrust orientation above XY plane",
        "group": "23b1e2cbea1584ab",
        "order": 2,
        "width": 7,
        "height": 3,
        "trigger": "all",
        "timeInterval": "25",
        "useThemeColor": true,
        "color": "#000000",
        "threshold": 0.1,
        "directions": "all",
        "shape": "circle",
        "centerAtRelease": false,
        "x": 220,
        "y": 860,
        "wires": [
            [
                "83090f5b428b0aa1",
                "3b7762ba9880895c"
            ]
        ]
    },
    {
        "id": "9406af82bd17ffd0",
        "type": "ui_joystick",
        "z": "a9c7c6499fb06192",
        "name": "Thrust orientation around Z",
        "group": "23b1e2cbea1584ab",
        "order": 1,
        "width": 7,
        "height": 3,
        "trigger": "all",
        "timeInterval": "25",
        "useThemeColor": true,
        "color": "#000000",
        "threshold": 0.1,
        "directions": "all",
        "shape": "circle",
        "centerAtRelease": false,
        "x": 240,
        "y": 820,
        "wires": [
            [
                "07f6fac56253556f",
                "67bb7391db063fb4"
            ]
        ]
    },
    {
        "id": "83090f5b428b0aa1",
        "type": "ui_text",
        "z": "a9c7c6499fb06192",
        "group": "23b1e2cbea1584ab",
        "order": 4,
        "width": 14,
        "height": 1,
        "name": "",
        "label": " Thrust () above XY plane",
        "format": "{{msg.payload.angle.degree}}",
        "layout": "row-spread",
        "x": 240,
        "y": 900,
        "wires": []
    },
    {
        "id": "07f6fac56253556f",
        "type": "ui_text",
        "z": "a9c7c6499fb06192",
        "group": "23b1e2cbea1584ab",
        "order": 3,
        "width": 14,
        "height": 1,
        "name": "",
        "label": " Thrust () around Z",
        "format": "{{msg.payload.angle.degree}}",
        "layout": "row-spread",
        "x": 260,
        "y": 780,
        "wires": []
    },
    {
        "id": "463d6cec3019e9f3",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 740,
        "y": 800,
        "wires": [
            [
                "be81d51d602309a7",
                "0aed3e3789d46e2e"
            ],
            []
        ]
    },
    {
        "id": "f3f1f8596d62c9c5",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 740,
        "wires": [
            [
                "463d6cec3019e9f3",
                "606b71b6d3fe1c33"
            ]
        ]
    },
    {
        "id": "67bb7391db063fb4",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 820,
        "wires": [
            [
                "463d6cec3019e9f3"
            ]
        ]
    },
    {
        "id": "3b7762ba9880895c",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 860,
        "wires": [
            [
                "463d6cec3019e9f3"
            ]
        ]
    },
    {
        "id": "d96813c8d3d9d7b7",
        "type": "link in",
        "z": "a9c7c6499fb06192",
        "name": "b1 timesettermaneuver IN",
        "links": [
            "9958904edb2cfd1b"
        ],
        "x": 365,
        "y": 1100,
        "wires": [
            [
                "8e96dadee08a39d3"
            ]
        ]
    },
    {
        "id": "21f9a98065db638e",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "time maneuver",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2660,
        "y": 1040,
        "wires": []
    },
    {
        "id": "85acb55e62dcd0aa",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_5",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_5",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 1100,
        "wires": [
            [
                "d4c40cf6c7f7ebc8"
            ]
        ]
    },
    {
        "id": "fa3505e97673a6cd",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_4",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_4",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1020,
        "wires": [
            [
                "d4c40cf6c7f7ebc8"
            ]
        ]
    },
    {
        "id": "d4c40cf6c7f7ebc8",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_4\", \"path_5\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1030,
        "y": 1060,
        "wires": [
            [
                "a0a3a6241e714836"
            ],
            []
        ]
    },
    {
        "id": "22f0c3e1c91acc12",
        "type": "link in",
        "z": "a9c7c6499fb06192",
        "name": "b1-tle-time-IN",
        "links": [
            "fe5ea50b57aa1c32"
        ],
        "x": 435,
        "y": 1380,
        "wires": [
            [
                "f04b5ffd90cf3204",
                "d16058720ecbb490"
            ]
        ]
    },
    {
        "id": "f04b5ffd90cf3204",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to delete b1 time tle",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 1380,
        "wires": [
            [
                "f32476d7c0ed4775"
            ]
        ]
    },
    {
        "id": "f32476d7c0ed4775",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete b1 time tle Mongo",
        "collection": "peritimeb1",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1290,
        "y": 1380,
        "wires": []
    },
    {
        "id": "d16058720ecbb490",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "injection",
        "func": "var payload = msg.body;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 1440,
        "wires": [
            [
                "deeee91f1a87cb2a"
            ]
        ]
    },
    {
        "id": "deeee91f1a87cb2a",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to fill b1 tle time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\ntm.peritimeb1 = msg.payload\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 1440,
        "wires": [
            [
                "f6bb7c9a13082579"
            ]
        ]
    },
    {
        "id": "f6bb7c9a13082579",
        "type": "split",
        "z": "a9c7c6499fb06192",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1100,
        "y": 1440,
        "wires": [
            [
                "645d690b0f6df16f"
            ]
        ]
    },
    {
        "id": "645d690b0f6df16f",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert b1 time tle mongo",
        "collection": "peritimeb1",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1280,
        "y": 1440,
        "wires": []
    },
    {
        "id": "6288e6e1f307bb90",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for b1 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "3ddec33925805cad"
            ]
        ]
    },
    {
        "id": "3ddec33925805cad",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b1 time tle",
        "collection": "peritimeb1",
        "operation": "find",
        "x": 630,
        "y": 1020,
        "wires": [
            [
                "fa3505e97673a6cd"
            ]
        ]
    },
    {
        "id": "8e96dadee08a39d3",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "inj: body to payload",
        "func": "msg.payload = msg.body;\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 1100,
        "wires": [
            [
                "85acb55e62dcd0aa"
            ]
        ]
    },
    {
        "id": "a0a3a6241e714836",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "duration calc (delay from tle to man)",
        "func": "var tletime = msg.paths.path_4[0].peritimeb1[0]\n// we set teletime to the element 0 of the field peritimeb1 of path_4\nvar mantime = msg.paths.path_5\n// the man time \n//is  in the path5 because of the Setpath_5 \n\nvar duration = (mantime)/1000 - (tletime/1000);\n// it is thedurqtion before mqnoeuver at the tle time\nmsg.payload = [duration, tletime-38000, mantime]\nmsg.body = [tletime-38000, mantime]\nreturn msg;\n\n//-38000 because of MM time error when propagating",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 1060,
        "wires": [
            [
                "5ce8b43dcfe48401",
                "62b3a7b77702ad42"
            ]
        ]
    },
    {
        "id": "1ccb2dbfe3a3a365",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Maneuv.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1830,
        "y": 980,
        "wires": [
            [
                "e7070b966067aebf"
            ]
        ]
    },
    {
        "id": "e7070b966067aebf",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Maneuv storage injection",
        "func": "msg.payload = [\"Relative DATE, Dx, Dy, Dz, contdura\",msg.paths.path_7[0], msg.paths.path_6[0].dx, msg.paths.path_6[0].dy, msg.paths.path_6[0].dz, msg.paths.path_6[0].dura]; 0\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2070,
        "y": 980,
        "wires": [
            [
                "689500019e5fc158"
            ]
        ]
    },
    {
        "id": "93cecfd0bf213d56",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_6",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_6",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 940,
        "wires": [
            [
                "9fa7b5ec6419d3fe",
                "6982ab15f50d5e20"
            ]
        ]
    },
    {
        "id": "5ce8b43dcfe48401",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_7",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_7",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 980,
        "wires": [
            [
                "9fa7b5ec6419d3fe"
            ]
        ]
    },
    {
        "id": "9fa7b5ec6419d3fe",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_6\", \"path_7\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1640,
        "y": 980,
        "wires": [
            [
                "1ccb2dbfe3a3a365"
            ],
            []
        ]
    },
    {
        "id": "689500019e5fc158",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": "\\n",
        "hdrin": "",
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 2290,
        "y": 980,
        "wires": [
            [
                "e8ef91b33d7df1e8"
            ]
        ]
    },
    {
        "id": "e8ef91b33d7df1e8",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2470,
        "y": 980,
        "wires": [
            [
                "126a998aa29751c7",
                "21f9a98065db638e"
            ]
        ]
    },
    {
        "id": "126a998aa29751c7",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Maneuv-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2660,
        "y": 980,
        "wires": [
            [
                "dca7f8d059c1c0d6"
            ]
        ]
    },
    {
        "id": "5cb2e7b3339a7e8c",
        "type": "ui_form",
        "z": "a9c7c6499fb06192",
        "name": "",
        "label": "BLUE1-Vehicle",
        "group": "5a7810372552815e",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Dry mass (kg)",
                "value": "drymass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Ergol mass (kg)",
                "value": "ergolmass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Thrust (N)",
                "value": "thrust",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "ISP (s)",
                "value": "isp",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Surf Ref (m)",
                "value": "surfref",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "drymass": "",
            "ergolmass": "",
            "thrust": "",
            "isp": "",
            "surfref": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 420,
        "y": 1240,
        "wires": [
            [
                "78ed0576c46a296c",
                "649976e64d5c201f"
            ]
        ]
    },
    {
        "id": "78ed0576c46a296c",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 1240,
        "wires": [
            [
                "6982ab15f50d5e20"
            ]
        ]
    },
    {
        "id": "ec164a7ad1af2abe",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 1280,
        "wires": [
            [
                "6982ab15f50d5e20"
            ]
        ]
    },
    {
        "id": "6982ab15f50d5e20",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[\"path_6\", \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1600,
        "y": 1260,
        "wires": [
            [
                "a50f36ad8518514f"
            ],
            []
        ]
    },
    {
        "id": "9fcce0d2729fa7db",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check time2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2690,
        "y": 1360,
        "wires": []
    },
    {
        "id": "a50f36ad8518514f",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle format",
        "func": "var N\nvar n\nvar acube\nvar a\nvar e\n\nvar mu = 398600.44\nvar J = 86164\n\nN = msg.paths.path_2[0].col9\nn = 2*Math.PI*N/J\nacube = mu/(n*n)\na=(acube)**(1/3)\ne = parseFloat(msg.paths.path_2[0].col6)/10000000\n\nvar durastop = msg.paths.path_3[0]+1.0+parseFloat(msg.paths.path_6[0].dura)\n\nvar myDate = new Date(msg.paths.path_3[1]);\ndate = (myDate.toGMTString());\nvar month = [\"init\",\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nvar mon ;\n\nfor (let i = 0; i < month.length; i++) {\n  if (date.substr(8,3) == month[i]) {\n    mon = i.toString()  \n  }\n} \n\nvar DATE = date.substr(12,4)+\"-0\"+mon+\"-\"+date.substr(5,2)+\"T\"+date.substr(17,8)+\".000\"\n\n\n\nmsg.payload = [\"DATE, SMA, ECC, INC, RAAN, AoP, MeanAnom, Dry Mass, SurfRef, Thurst, ISP, Ergol mass, Simu duration stop\",DATE , a, e, msg.paths.path_2[0].col4, msg.paths.path_2[0].col5, msg.paths.path_2[0].col7, msg.paths.path_2[0].col8, msg.paths.path_1.drymass, msg.paths.path_1.surfref, msg.paths.path_1.thrust, msg.paths.path_1.isp, msg.paths.path_1.ergolmass, durastop];\n\nreturn msg\n\n//\"2010-01-01T11:59:26.000\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1800,
        "y": 1260,
        "wires": [
            [
                "98a2817c58cf23b3",
                "edaa64c31945e417",
                "cdddbe8b106127cd"
            ]
        ]
    },
    {
        "id": "edaa64c31945e417",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check tle",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1960,
        "y": 1180,
        "wires": []
    },
    {
        "id": "06b6c4fefcad996e",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle2",
        "func": "msg.payload = msg.payload[0].tle2;\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 1260,
        "wires": [
            [
                "36fb16574dfa562b"
            ]
        ]
    },
    {
        "id": "649976e64d5c201f",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for b1tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1260,
        "wires": [
            [
                "5fe639eceb332936"
            ]
        ]
    },
    {
        "id": "5fe639eceb332936",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b1tlelatest",
        "collection": "b1tlelatest",
        "operation": "find",
        "x": 880,
        "y": 1260,
        "wires": [
            [
                "06b6c4fefcad996e"
            ]
        ]
    },
    {
        "id": "36fb16574dfa562b",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": " ",
        "hdrin": "",
        "hdrout": "all",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 1250,
        "y": 1260,
        "wires": [
            [
                "ec164a7ad1af2abe"
            ]
        ]
    },
    {
        "id": "62b3a7b77702ad42",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 1200,
        "wires": [
            [
                "6982ab15f50d5e20"
            ]
        ]
    },
    {
        "id": "e6bd2d01e6a1c45b",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": "\\n",
        "hdrin": "",
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 2150,
        "y": 1260,
        "wires": [
            [
                "df1a5085d9c1fd68"
            ]
        ]
    },
    {
        "id": "df1a5085d9c1fd68",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2310,
        "y": 1260,
        "wires": [
            [
                "a2d37e0b2e341ec0"
            ]
        ]
    },
    {
        "id": "a2d37e0b2e341ec0",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Data-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2510,
        "y": 1260,
        "wires": [
            [
                "76268b76f4356014",
                "9fcce0d2729fa7db",
                "16af0905aa1e3301"
            ]
        ]
    },
    {
        "id": "98a2817c58cf23b3",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Data.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1970,
        "y": 1260,
        "wires": [
            [
                "e6bd2d01e6a1c45b"
            ]
        ]
    },
    {
        "id": "76268b76f4356014",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of maneuver",
        "func": "var datecurrent = msg.paths.path_3[2]+1000*parseFloat(msg.paths.path_6[0].dura);\n\nvar myDate = new Date(datecurrent);\ndate= (myDate.toGMTString());\n\n\nmsg.payload = date\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2710,
        "y": 1260,
        "wires": [
            [
                "85161039bfca3377",
                "7f549d38acadc2bb",
                "2ec2e2f6f9a6bb6c"
            ]
        ]
    },
    {
        "id": "6ffa841d0ad34e55",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "execManManager",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3850,
        "y": 1040,
        "wires": []
    },
    {
        "id": "12b83b90775bc4ae",
        "type": "exec",
        "z": "a9c7c6499fb06192",
        "command": "cd /app/maneuver-manager/ && /usr/bin/java -jar MCS_ManeuverManager_v6.jar",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Run ManeuverManager",
        "x": 3530,
        "y": 1080,
        "wires": [
            [
                "9485be051675a761",
                "6ffa841d0ad34e55"
            ],
            [],
            []
        ]
    },
    {
        "id": "45bef73646f7fd55",
        "type": "inject",
        "z": "a9c7c6499fb06192",
        "name": "button: execManeuverManager",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 3190,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "dca7f8d059c1c0d6",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3050,
        "y": 1060,
        "wires": [
            [
                "11a9f8c0a2748862"
            ]
        ]
    },
    {
        "id": "85161039bfca3377",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3050,
        "y": 1100,
        "wires": [
            [
                "11a9f8c0a2748862"
            ]
        ]
    },
    {
        "id": "11a9f8c0a2748862",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_1\", \"path_2\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 3260,
        "y": 1080,
        "wires": [
            [
                "12b83b90775bc4ae"
            ],
            []
        ]
    },
    {
        "id": "197bbc7efce6300a",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "RAZ Result injection",
        "func": "msg.payload = null\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 740,
        "wires": [
            [
                "30ed0ce92421468d"
            ]
        ]
    },
    {
        "id": "30ed0ce92421468d",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 1790,
        "y": 740,
        "wires": [
            [
                "5a16ab898b485a30"
            ]
        ]
    },
    {
        "id": "5a16ab898b485a30",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Result-RAZ",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1990,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "f7fae6fbb972e49a",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Result.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1230,
        "y": 740,
        "wires": [
            [
                "197bbc7efce6300a"
            ]
        ]
    },
    {
        "id": "9485be051675a761",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to read Result.txt",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3850,
        "y": 1200,
        "wires": [
            [
                "9c67ea7ef084c63f"
            ]
        ]
    },
    {
        "id": "9c67ea7ef084c63f",
        "type": "file in",
        "z": "a9c7c6499fb06192",
        "name": "Result file reader",
        "filename": "/app/maneuver-manager/Result.txt",
        "format": "lines",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 4070,
        "y": 1200,
        "wires": [
            [
                "2f32dbf2d1608b6c"
            ]
        ]
    },
    {
        "id": "2f32dbf2d1608b6c",
        "type": "join",
        "z": "a9c7c6499fb06192",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 4230,
        "y": 1200,
        "wires": [
            [
                "a29281032b7881e1"
            ]
        ]
    },
    {
        "id": "a29281032b7881e1",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Result-setter",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n\n   return{\n topic:\"data setter\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4430,
        "y": 1200,
        "wires": [
            [
                "161b2bb09e7e82f1"
            ]
        ]
    },
    {
        "id": "161b2bb09e7e82f1",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Result message setter",
        "func": "var tab = []\nvar gs = {}\n\nvar n = msg.payload.length\n\n //From the GS\ngs.ergolmass = parseFloat(msg.payload[n-12])\ngs.alti = parseFloat(msg.payload[n-10])\ngs.sma = parseFloat(msg.payload[n-9])\ngs.ecc = parseFloat(msg.payload[n-8])\ngs.inc = parseFloat(msg.payload[n-7]).toFixed(4)\ngs.raan = (parseFloat(msg.payload[n-6])).toFixed(4)\ngs.aop = parseFloat(msg.payload[n-5]).toFixed(4)\ngs.meananom = (parseFloat(msg.payload[n-4])+0.0).toFixed(4)\ngs.meanmove = parseFloat(msg.payload[n-3]).toFixed(14)\ngs.period = parseFloat(msg.payload[n-2])\n\n\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4680,
        "y": 1200,
        "wires": [
            [
                "cfee6256eea5629f"
            ]
        ]
    },
    {
        "id": "cfee6256eea5629f",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle injection in persistence",
        "func": "var gs = {}\n\n //From the GS\nif (Math.trunc(msg.payload[0].inc) > 9) {\n    gs.incli = String(msg.payload[0].inc)\n} else {\n    gs.incli = '0'+String(msg.payload[0].inc)\n}\n\nif (Math.trunc(msg.payload[0].raan) > 99) {\n    gs.raan = String(msg.payload[0].raan)\n} else if (Math.trunc(msg.payload[0].raan) > 9) {\n    gs.raan = '0'+String(msg.payload[0].raan)\n} else {\n    gs.raan = '00'+String(msg.payload[0].raan)\n}\n\ngs.ecc = String(msg.payload[0].ecc).substring(2,String(msg.payload[0].ecc).length)\n\nif (Math.trunc(msg.payload[0].aop) > 99) {\n    gs.aop = String(msg.payload[0].aop)\n} else if (Math.trunc(msg.payload[0].aop) > 9) {\n    gs.aop = '0'+String(msg.payload[0].aop)\n} else {\n    gs.aop = '00'+String(msg.payload[0].aop)\n}\n\nif (Math.trunc(msg.payload[0].meananom) > 99) {\n    gs.meana = String(msg.payload[0].meananom)\n} else if (Math.trunc(msg.payload[0].meananom) > 9) {\n    gs.meana = '0'+String(msg.payload[0].meananom)\n} else {\n    gs.meana = '00'+String(msg.payload[0].meananom)\n}\n\nif (Math.trunc(msg.payload[0].meanmove) > 9) {\n    gs.mean = String(msg.payload[0].meanmove)\n} else {\n    gs.mean = '0'+String(msg.payload[0].meanmove)\n}\n\n\n\nmsg.body = null\nmsg.topic = null\nmsg.payload = gs\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3950,
        "y": 1280,
        "wires": [
            [
                "01cbf5236ac50d21",
                "52e1e45e0c77a7cb",
                "5c77adf44e3ac38b"
            ]
        ]
    },
    {
        "id": "01cbf5236ac50d21",
        "type": "persist in",
        "z": "a9c7c6499fb06192",
        "name": "TLE-stored",
        "storageNode": "6a82323f.bb1c5c",
        "x": 4190,
        "y": 1280,
        "wires": []
    },
    {
        "id": "52e1e45e0c77a7cb",
        "type": "link out",
        "z": "a9c7c6499fb06192",
        "name": "update all for B1 OUT",
        "mode": "link",
        "links": [
            "5c3232735d2e2038"
        ],
        "x": 4205,
        "y": 1320,
        "wires": []
    },
    {
        "id": "1c53d0051b05571c",
        "type": "ui_joystick",
        "z": "a9c7c6499fb06192",
        "name": "Thrust orientation above XY plane",
        "group": "2722a51fd28f6d2e",
        "order": 2,
        "width": 7,
        "height": 3,
        "trigger": "all",
        "timeInterval": "25",
        "useThemeColor": true,
        "color": "#000000",
        "threshold": 0.1,
        "directions": "all",
        "shape": "circle",
        "centerAtRelease": false,
        "x": 220,
        "y": 2160,
        "wires": [
            [
                "1d7c3bb9bae8b553",
                "495dd175d547724a"
            ]
        ]
    },
    {
        "id": "27e9a9e45b35ebb2",
        "type": "ui_joystick",
        "z": "a9c7c6499fb06192",
        "name": "Thrust orientation around Z",
        "group": "2722a51fd28f6d2e",
        "order": 1,
        "width": 7,
        "height": 3,
        "trigger": "all",
        "timeInterval": "25",
        "useThemeColor": true,
        "color": "#000000",
        "threshold": 0.1,
        "directions": "all",
        "shape": "circle",
        "centerAtRelease": false,
        "x": 240,
        "y": 2120,
        "wires": [
            [
                "86e4180aac9eb019",
                "728f5570e607c311"
            ]
        ]
    },
    {
        "id": "1d7c3bb9bae8b553",
        "type": "ui_text",
        "z": "a9c7c6499fb06192",
        "group": "2722a51fd28f6d2e",
        "order": 4,
        "width": 14,
        "height": 1,
        "name": "",
        "label": " Thrust () above XY plane",
        "format": "{{msg.payload.angle.degree}}",
        "layout": "row-spread",
        "x": 240,
        "y": 2200,
        "wires": []
    },
    {
        "id": "86e4180aac9eb019",
        "type": "ui_text",
        "z": "a9c7c6499fb06192",
        "group": "2722a51fd28f6d2e",
        "order": 3,
        "width": 14,
        "height": 1,
        "name": "",
        "label": " Thrust () around Z",
        "format": "{{msg.payload.angle.degree}}",
        "layout": "row-spread",
        "className": "",
        "x": 260,
        "y": 2080,
        "wires": []
    },
    {
        "id": "478953204e95547c",
        "type": "ui_form",
        "z": "a9c7c6499fb06192",
        "name": "",
        "label": "BLUE2-Vehicle",
        "group": "1756cdc52869c611",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Dry mass (kg)",
                "value": "drymass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Ergol mass (kg)",
                "value": "ergolmass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Thrust (N)",
                "value": "thrust",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "ISP (s)",
                "value": "isp",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Surf Ref (m)",
                "value": "surfref",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "drymass": "",
            "ergolmass": "",
            "thrust": "",
            "isp": "",
            "surfref": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "x": 140,
        "y": 2480,
        "wires": [
            [
                "7c62a45953c44b38",
                "ad95d0988ebee021"
            ]
        ]
    },
    {
        "id": "7f549d38acadc2bb",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time start",
        "func": "\n//var myDate = new Date(msg.payload);\n\n\n//var date = myDate.toLocaleString() ;\nvar date = msg.payload ;\nvar month = [\"init\",\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nvar mon ;\n\nfor (let i = 0; i < month.length; i++) {\n  if (date.substr(8,3) == month[i]) {\n    mon = i.toString()  \n  }\n} \n\nmsg.payload = date.substr(12,4)+\"-\"+\"0\"+mon+\"-\"+date.substr(5,2)+\"T\"+date.substr(17,8)+\".000Z\"\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2940,
        "y": 1260,
        "wires": [
            [
                "c4332cef60a0f45e",
                "3eb03799c7452fd2"
            ]
        ]
    },
    {
        "id": "2ec2e2f6f9a6bb6c",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check time",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3010,
        "y": 1220,
        "wires": []
    },
    {
        "id": "c4332cef60a0f45e",
        "type": "persist out",
        "z": "a9c7c6499fb06192",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 3130,
        "y": 1300,
        "wires": [
            [
                "bf3c70988706483b"
            ]
        ]
    },
    {
        "id": "3eb03799c7452fd2",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3370,
        "y": 1260,
        "wires": [
            [
                "8d0f79ada66939fa"
            ]
        ]
    },
    {
        "id": "bf3c70988706483b",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3370,
        "y": 1300,
        "wires": [
            [
                "8d0f79ada66939fa"
            ]
        ]
    },
    {
        "id": "8d0f79ada66939fa",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_1\", \"path_2\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 3560,
        "y": 1320,
        "wires": [
            [
                "1948a6c6d179a40c"
            ],
            []
        ]
    },
    {
        "id": "1948a6c6d179a40c",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "start time injection in persistence",
        "func": "var gs = {}\n\ngs.startdate = msg.paths.path_1 ; \n\ngs.enddate = msg.paths.path_2.enddate;\n\n\n\nmsg.body = null\nmsg.topic = null\nmsg.paths = null\nmsg.filename = null\n\nmsg.payload = gs\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3360,
        "y": 1400,
        "wires": [
            [
                "fe07e489e03f61e7"
            ]
        ]
    },
    {
        "id": "fe07e489e03f61e7",
        "type": "persist in",
        "z": "a9c7c6499fb06192",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 3610,
        "y": 1400,
        "wires": []
    },
    {
        "id": "16af0905aa1e3301",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of post-maneuver",
        "func": "var datecurrent = msg.paths.path_3[2]+1000*parseFloat(msg.paths.path_6[0].dura);\n\n\nmsg.payload = datecurrent\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2600,
        "y": 1480,
        "wires": [
            [
                "ae0ea039375e5e98"
            ]
        ]
    },
    {
        "id": "ae0ea039375e5e98",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of TLE",
        "func": "var time = msg.payload ;\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*1000000;\nvar frac = Math.round(fraca)/1000000;\nvar epoch = 1000*year+day+frac;\n\n\n\n   return{\n topic:\"tle time\",\n payload: time,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n} ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2790,
        "y": 1480,
        "wires": [
            [
                "177153850fd7c528"
            ]
        ]
    },
    {
        "id": "cdddbe8b106127cd",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to delete b1 time tle",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2090,
        "y": 1380,
        "wires": [
            [
                "266f42fd2d48bcf3"
            ]
        ]
    },
    {
        "id": "266f42fd2d48bcf3",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete b1 time tle Mongo",
        "collection": "peritimeb1",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2360,
        "y": 1380,
        "wires": []
    },
    {
        "id": "177153850fd7c528",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "injection",
        "func": "var payload = msg.body;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2540,
        "y": 1560,
        "wires": [
            [
                "898040caa909b090"
            ]
        ]
    },
    {
        "id": "898040caa909b090",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to fill b1 tle time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\ntm.peritimeb1 = msg.payload\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2750,
        "y": 1560,
        "wires": [
            [
                "3bf9e37eb8dd795c"
            ]
        ]
    },
    {
        "id": "3bf9e37eb8dd795c",
        "type": "split",
        "z": "a9c7c6499fb06192",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2950,
        "y": 1560,
        "wires": [
            [
                "abdabf163cc832c6"
            ]
        ]
    },
    {
        "id": "abdabf163cc832c6",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert b1 time tle mongo",
        "collection": "peritimeb1",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 3150,
        "y": 1560,
        "wires": []
    },
    {
        "id": "5c77adf44e3ac38b",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for b1 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4010,
        "y": 1440,
        "wires": [
            [
                "5b240feb73b10157"
            ]
        ]
    },
    {
        "id": "5b240feb73b10157",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b1 time tle",
        "collection": "peritimeb1",
        "operation": "find",
        "x": 4250,
        "y": 1440,
        "wires": [
            [
                "4a72bcc247b70d0b"
            ]
        ]
    },
    {
        "id": "4a72bcc247b70d0b",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "get tle time",
        "func": "msg = {curr : {max : 0}, ui_control : {max : 0}, body : {min : msg.payload[0].peritimeb1[0]/1000}};\n\n\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4450,
        "y": 1440,
        "wires": [
            [
                "c467dc3c60f156cc"
            ]
        ]
    },
    {
        "id": "65421165bbc07ccd",
        "type": "link out",
        "z": "a9c7c6499fb06192",
        "name": "Tle b1-postMan-OUT",
        "mode": "link",
        "links": [
            "17bd6cd48b2a4ff4"
        ],
        "x": 4715,
        "y": 1440,
        "wires": []
    },
    {
        "id": "c467dc3c60f156cc",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4610,
        "y": 1440,
        "wires": [
            [
                "65421165bbc07ccd"
            ]
        ]
    },
    {
        "id": "606b71b6d3fe1c33",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "Manduration",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 660,
        "wires": []
    },
    {
        "id": "0aed3e3789d46e2e",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "MM1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 740,
        "wires": []
    },
    {
        "id": "6f230babea9714e7",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 2060,
        "wires": [
            [
                "9a5178ca0dd530f0"
            ]
        ]
    },
    {
        "id": "728f5570e607c311",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 2140,
        "wires": [
            [
                "9a5178ca0dd530f0"
            ]
        ]
    },
    {
        "id": "495dd175d547724a",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 2180,
        "wires": [
            [
                "9a5178ca0dd530f0"
            ]
        ]
    },
    {
        "id": "7a3f33a6586dce44",
        "type": "ui_form",
        "z": "a9c7c6499fb06192",
        "name": "",
        "label": "BLUE2-Continuous Maneuver Duration",
        "group": "1756cdc52869c611",
        "order": 4,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Duration (s)",
                "value": "contdura",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "contdura": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 250,
        "y": 2040,
        "wires": [
            [
                "6f230babea9714e7"
            ]
        ]
    },
    {
        "id": "9a5178ca0dd530f0",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 740,
        "y": 2100,
        "wires": [
            [
                "52ba4aa4df26cbe8"
            ],
            []
        ]
    },
    {
        "id": "52ba4aa4df26cbe8",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Maneuver-param",
        "func": "\nvar Dx;\nvar Dy;\nvar Dz;\n\n\n\n//PREPARATION STEP\n\n// theta est le complement a 90 de beta\nvar theta = 90 - msg.paths.path_3.angle.degree\n// converting theta to rad and computing\n//the vector composition of the thrust\nDx = 1*Math.sin(theta*Math.PI/180)*Math.cos(msg.paths.path_2.angle.degree*Math.PI/180);\nDy = 1*Math.sin(theta*Math.PI/180)*Math.sin(msg.paths.path_2.angle.degree*Math.PI/180);\nDz = 1*Math.cos(theta*Math.PI/180)\n\nvar tab = []\nvar gs = {}\n\ngs.dx = Dx\ngs.dy = Dy\ngs.dz = Dz\ngs.dura = msg.paths.path_1.contdura\n\n\ntab.push(gs)\nmsg.body = msg.payload\nmsg.payload = tab\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2100,
        "wires": [
            [
                "1256ccae660a5b29",
                "7727a19fcb85a2ea",
                "968badf38a9fbe22",
                "310dca26d9268382"
            ]
        ]
    },
    {
        "id": "9ee7abff33462ffd",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "RAZ Result injection",
        "func": "msg.payload = null\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 2080,
        "wires": [
            [
                "7b562a0690ec6d65"
            ]
        ]
    },
    {
        "id": "7b562a0690ec6d65",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 1790,
        "y": 2080,
        "wires": [
            [
                "7a5185f35a31fbbf"
            ]
        ]
    },
    {
        "id": "7a5185f35a31fbbf",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Result-RAZ",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1990,
        "y": 2080,
        "wires": [
            []
        ]
    },
    {
        "id": "1256ccae660a5b29",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Result.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1230,
        "y": 2080,
        "wires": [
            [
                "9ee7abff33462ffd"
            ]
        ]
    },
    {
        "id": "7727a19fcb85a2ea",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "deltaV param de  B2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1240,
        "y": 2140,
        "wires": []
    },
    {
        "id": "a6da9320576a5bfd",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_4",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_4",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 2300,
        "wires": [
            [
                "7282d2b6cff13096"
            ]
        ]
    },
    {
        "id": "968badf38a9fbe22",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for b2 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 2300,
        "wires": [
            [
                "80ec85c77464108a"
            ]
        ]
    },
    {
        "id": "80ec85c77464108a",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b2 time tle",
        "collection": "peritimeb2",
        "operation": "find",
        "x": 580,
        "y": 2300,
        "wires": [
            [
                "a6da9320576a5bfd"
            ]
        ]
    },
    {
        "id": "48ab867179fa10e6",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "time maneuver",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2540,
        "y": 2380,
        "wires": []
    },
    {
        "id": "5ce67eaf47144b18",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Maneuv.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 2320,
        "wires": [
            [
                "94a1fd4bb3a061c2"
            ]
        ]
    },
    {
        "id": "94a1fd4bb3a061c2",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Maneuv storage injection",
        "func": "msg.payload = [\"Relative DATE, Dx, Dy, Dz, contdura\",msg.paths.path_7[0], msg.paths.path_6[0].dx, msg.paths.path_6[0].dy, msg.paths.path_6[0].dz, msg.paths.path_6[0].dura]; 0\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1950,
        "y": 2320,
        "wires": [
            [
                "dd689192e1c9a015"
            ]
        ]
    },
    {
        "id": "2cd1855d75a99bca",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_6\", \"path_7\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1520,
        "y": 2320,
        "wires": [
            [
                "5ce67eaf47144b18"
            ],
            []
        ]
    },
    {
        "id": "dd689192e1c9a015",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": "\\n",
        "hdrin": "",
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 2170,
        "y": 2320,
        "wires": [
            [
                "c19c1bc0480e7eb6"
            ]
        ]
    },
    {
        "id": "c19c1bc0480e7eb6",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2350,
        "y": 2320,
        "wires": [
            [
                "0d6642db581ef6d0",
                "48ab867179fa10e6"
            ]
        ]
    },
    {
        "id": "0d6642db581ef6d0",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Maneuv-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2540,
        "y": 2320,
        "wires": [
            [
                "c0483bdc37fa56cb"
            ]
        ]
    },
    {
        "id": "1cecb8c3ecc4bb5e",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_5",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_5",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 2360,
        "wires": [
            [
                "7282d2b6cff13096"
            ]
        ]
    },
    {
        "id": "7282d2b6cff13096",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_4\", \"path_5\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 940,
        "y": 2340,
        "wires": [
            [
                "38a781d1ef520e40"
            ],
            []
        ]
    },
    {
        "id": "bdfd483d024f2143",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "inj: body to payload",
        "func": "msg.payload = msg.body;\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 2360,
        "wires": [
            [
                "1cecb8c3ecc4bb5e"
            ]
        ]
    },
    {
        "id": "38a781d1ef520e40",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "delay from tle to man",
        "func": "var tletime = msg.paths.path_4[0].peritimeb2[0]\n// we set teletime to the element 0 of the field peritimeb2 of path_4\nvar mantime = msg.paths.path_5\n// the man time \n//is  in the path5 because of the Setpath_5 \n\nvar duration = (mantime)/1000 - (tletime/1000);\n// it is thedurqtion before mqnoeuver at the tle time\nmsg.payload = [duration, tletime-38000, mantime]\nmsg.body = [tletime-38000, mantime]\nreturn msg;\n\n//-38000 because of MM time error when propagating",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 2360,
        "wires": [
            [
                "8ad2f303b6f34cbe",
                "6df8c74a14e86d0d"
            ]
        ]
    },
    {
        "id": "8ad2f303b6f34cbe",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_7",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_7",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 2320,
        "wires": [
            [
                "2cd1855d75a99bca"
            ]
        ]
    },
    {
        "id": "310dca26d9268382",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_6",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_6",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 2280,
        "wires": [
            [
                "2cd1855d75a99bca",
                "190291d67d264fe0"
            ]
        ]
    },
    {
        "id": "ad95d0988ebee021",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 2480,
        "wires": [
            [
                "190291d67d264fe0"
            ]
        ]
    },
    {
        "id": "51cafd472cfcc355",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 2520,
        "wires": [
            [
                "190291d67d264fe0"
            ]
        ]
    },
    {
        "id": "190291d67d264fe0",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[\"path_6\", \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1340,
        "y": 2500,
        "wires": [
            [
                "4df44d8629bcb831"
            ],
            []
        ]
    },
    {
        "id": "4df44d8629bcb831",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle format",
        "func": "var N\nvar n\nvar acube\nvar a\nvar e\n\nvar mu = 398600.44\nvar J = 86164\n\nN = msg.paths.path_2[0].col9\nn = 2*Math.PI*N/J\nacube = mu/(n*n)\na=(acube)**(1/3)\ne = parseFloat(msg.paths.path_2[0].col6)/10000000\n\nvar durastop = msg.paths.path_3[0]+1.0+parseFloat(msg.paths.path_6[0].dura)\n\nvar myDate = new Date(msg.paths.path_3[1]);\ndate = (myDate.toGMTString());\nvar month = [\"init\",\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nvar mon ;\n\nfor (let i = 0; i < month.length; i++) {\n  if (date.substr(8,3) == month[i]) {\n    mon = i.toString()  \n  }\n} \n\nvar DATE = date.substr(12,4)+\"-0\"+mon+\"-\"+date.substr(5,2)+\"T\"+date.substr(17,8)+\".000\"\n\n\n\nmsg.payload = [\"DATE, SMA, ECC, INC, RAAN, AoP, MeanAnom, Dry Mass, SurfRef, Thurst, ISP, Ergol mass, Simu duration stop\",DATE , a, e, msg.paths.path_2[0].col4, msg.paths.path_2[0].col5, msg.paths.path_2[0].col7, msg.paths.path_2[0].col8, msg.paths.path_1.drymass, msg.paths.path_1.surfref, msg.paths.path_1.thrust, msg.paths.path_1.isp, msg.paths.path_1.ergolmass, durastop];\n\nreturn msg\n\n//\"2010-01-01T11:59:26.000\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 2500,
        "wires": [
            [
                "2a1b2b1844bde01d",
                "273b51dd4bcd47ab",
                "897f726cf4310888"
            ]
        ]
    },
    {
        "id": "41c17d0fcd2c7671",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle2",
        "func": "msg.payload = msg.payload[0].tle2;\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 2500,
        "wires": [
            [
                "fd9c3320bbdcc395"
            ]
        ]
    },
    {
        "id": "7c62a45953c44b38",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for b2tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 2500,
        "wires": [
            [
                "09a8204b59e083c1"
            ]
        ]
    },
    {
        "id": "09a8204b59e083c1",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b2tlelatest",
        "collection": "b2tlelatest",
        "operation": "find",
        "x": 620,
        "y": 2500,
        "wires": [
            [
                "41c17d0fcd2c7671"
            ]
        ]
    },
    {
        "id": "fd9c3320bbdcc395",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": " ",
        "hdrin": "",
        "hdrout": "all",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 990,
        "y": 2500,
        "wires": [
            [
                "51cafd472cfcc355"
            ]
        ]
    },
    {
        "id": "6df8c74a14e86d0d",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 2440,
        "wires": [
            [
                "190291d67d264fe0"
            ]
        ]
    },
    {
        "id": "25d061a18af7f0db",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check time2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2490,
        "y": 2600,
        "wires": []
    },
    {
        "id": "e935116286311b60",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": "\\n",
        "hdrin": "",
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 1950,
        "y": 2500,
        "wires": [
            [
                "e3d3e1bdcf623a0c"
            ]
        ]
    },
    {
        "id": "e3d3e1bdcf623a0c",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2110,
        "y": 2500,
        "wires": [
            [
                "d78e314d1ae5bf64"
            ]
        ]
    },
    {
        "id": "d78e314d1ae5bf64",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Data-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2310,
        "y": 2500,
        "wires": [
            [
                "def15ccdacfde104",
                "25d061a18af7f0db",
                "363d275715bf7298"
            ]
        ]
    },
    {
        "id": "2a1b2b1844bde01d",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Data.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1770,
        "y": 2500,
        "wires": [
            [
                "e935116286311b60"
            ]
        ]
    },
    {
        "id": "def15ccdacfde104",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of maneuver",
        "func": "var datecurrent = msg.paths.path_3[2]+1000*parseFloat(msg.paths.path_6[0].dura);\n\nvar myDate = new Date(datecurrent);\ndate= (myDate.toGMTString());\n\n\nmsg.payload = date\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2510,
        "y": 2500,
        "wires": [
            [
                "5e436744a1032d5c",
                "be01de3066c0f40c",
                "c4163e14f3c4f33a"
            ]
        ]
    },
    {
        "id": "5e436744a1032d5c",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time start",
        "func": "\n//var myDate = new Date(msg.payload);\n\n\n//var date = myDate.toLocaleString() ;\nvar date = msg.payload ;\nvar month = [\"init\",\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nvar mon ;\n\nfor (let i = 0; i < month.length; i++) {\n  if (date.substr(8,3) == month[i]) {\n    mon = i.toString()  \n  }\n} \n\nmsg.payload = date.substr(12,4)+\"-\"+\"0\"+mon+\"-\"+date.substr(5,2)+\"T\"+date.substr(17,8)+\".000Z\"\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2740,
        "y": 2500,
        "wires": [
            [
                "bed683064591d07e",
                "8b8908f6f5d5fa4a"
            ]
        ]
    },
    {
        "id": "be01de3066c0f40c",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check time",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2810,
        "y": 2460,
        "wires": []
    },
    {
        "id": "bed683064591d07e",
        "type": "persist out",
        "z": "a9c7c6499fb06192",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 2930,
        "y": 2540,
        "wires": [
            [
                "79d73813d5313faa"
            ]
        ]
    },
    {
        "id": "8b8908f6f5d5fa4a",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 2500,
        "wires": [
            [
                "8436682caf9bf206"
            ]
        ]
    },
    {
        "id": "79d73813d5313faa",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3170,
        "y": 2540,
        "wires": [
            [
                "8436682caf9bf206"
            ]
        ]
    },
    {
        "id": "8436682caf9bf206",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_1\", \"path_2\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 3360,
        "y": 2540,
        "wires": [
            [
                "8c5bfe0c01c37154"
            ],
            []
        ]
    },
    {
        "id": "8c5bfe0c01c37154",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "start time injection in persistence",
        "func": "var gs = {}\n\ngs.startdate = msg.paths.path_1 ; \n\ngs.enddate = msg.paths.path_2.enddate;\n\n\n\nmsg.body = null\nmsg.topic = null\nmsg.paths = null\nmsg.filename = null\n\nmsg.payload = gs\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3510,
        "y": 2600,
        "wires": [
            [
                "e7016c16400d3d05"
            ]
        ]
    },
    {
        "id": "e7016c16400d3d05",
        "type": "persist in",
        "z": "a9c7c6499fb06192",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 3730,
        "y": 2600,
        "wires": []
    },
    {
        "id": "897f726cf4310888",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to delete b2 time tle",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1890,
        "y": 2620,
        "wires": [
            [
                "c6572fdf91723d19"
            ]
        ]
    },
    {
        "id": "c6572fdf91723d19",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete b2 time tle Mongo",
        "collection": "peritimeb2",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2160,
        "y": 2620,
        "wires": []
    },
    {
        "id": "273b51dd4bcd47ab",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check tle b2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1750,
        "y": 2440,
        "wires": []
    },
    {
        "id": "363d275715bf7298",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of post-maneuver",
        "func": "var datecurrent = msg.paths.path_3[2]+1000*parseFloat(msg.paths.path_6[0].dura);\n\n\nmsg.payload = datecurrent\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2440,
        "y": 2720,
        "wires": [
            [
                "8cfdaaea81ce9e69"
            ]
        ]
    },
    {
        "id": "8cfdaaea81ce9e69",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of TLE mise en forme",
        "func": "var time = msg.payload ;\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*1000000;\nvar frac = Math.round(fraca)/1000000;\nvar epoch = 1000*year+day+frac;\n\n\n\n   return{\n topic:\"tle time\",\n payload: time,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n} ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2680,
        "y": 2720,
        "wires": [
            [
                "0bf9339a9ce3f9b6"
            ]
        ]
    },
    {
        "id": "0bf9339a9ce3f9b6",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "injection",
        "func": "var payload = msg.body;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 2800,
        "wires": [
            [
                "0e69a4d6558de00b"
            ]
        ]
    },
    {
        "id": "0e69a4d6558de00b",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to fill b2 tle time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\ntm.peritimeb2 = msg.payload\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2590,
        "y": 2800,
        "wires": [
            [
                "18a26145c74d81ad"
            ]
        ]
    },
    {
        "id": "18a26145c74d81ad",
        "type": "split",
        "z": "a9c7c6499fb06192",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2790,
        "y": 2800,
        "wires": [
            [
                "207483912b1b3f1c"
            ]
        ]
    },
    {
        "id": "207483912b1b3f1c",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert b2 time tle mongo",
        "collection": "peritimeb2",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2990,
        "y": 2800,
        "wires": []
    },
    {
        "id": "e29d0a3309771a7e",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "execManManager",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3750,
        "y": 2300,
        "wires": []
    },
    {
        "id": "c16fc4c7e2c67c76",
        "type": "exec",
        "z": "a9c7c6499fb06192",
        "command": "cd /app/maneuver-manager/ && /usr/bin/java -jar MCS_ManeuverManager_v6.jar",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Run ManeuverManager",
        "x": 3430,
        "y": 2340,
        "wires": [
            [
                "e29d0a3309771a7e",
                "92e51f52f55e6a1a"
            ],
            [],
            []
        ]
    },
    {
        "id": "45a94194acfc2ee7",
        "type": "inject",
        "z": "a9c7c6499fb06192",
        "name": "button: execManeuverManager",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 3090,
        "y": 2260,
        "wires": [
            []
        ]
    },
    {
        "id": "c0483bdc37fa56cb",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2950,
        "y": 2320,
        "wires": [
            [
                "e2eb05d5dff5f0d1"
            ]
        ]
    },
    {
        "id": "c4163e14f3c4f33a",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2950,
        "y": 2360,
        "wires": [
            [
                "e2eb05d5dff5f0d1"
            ]
        ]
    },
    {
        "id": "e2eb05d5dff5f0d1",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_1\", \"path_2\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 3160,
        "y": 2340,
        "wires": [
            [
                "c16fc4c7e2c67c76"
            ],
            []
        ]
    },
    {
        "id": "92e51f52f55e6a1a",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to read Result.txt",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3710,
        "y": 2400,
        "wires": [
            [
                "4329fd954053eadc"
            ]
        ]
    },
    {
        "id": "4329fd954053eadc",
        "type": "file in",
        "z": "a9c7c6499fb06192",
        "name": "Result file reader",
        "filename": "/app/maneuver-manager/Result.txt",
        "format": "lines",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 3930,
        "y": 2400,
        "wires": [
            [
                "ad6479ec24201c37"
            ]
        ]
    },
    {
        "id": "ad6479ec24201c37",
        "type": "join",
        "z": "a9c7c6499fb06192",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 4090,
        "y": 2400,
        "wires": [
            [
                "b71b16d48fb20b0e"
            ]
        ]
    },
    {
        "id": "b71b16d48fb20b0e",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Result-setter",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n\n   return{\n topic:\"data setter\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4290,
        "y": 2400,
        "wires": [
            [
                "546e071a21bbb629"
            ]
        ]
    },
    {
        "id": "546e071a21bbb629",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Result message setter",
        "func": "var tab = []\nvar gs = {}\n\nvar n = msg.payload.length\n\n //From the GS\ngs.ergolmass = parseFloat(msg.payload[n-12])\ngs.alti = parseFloat(msg.payload[n-10])\ngs.sma = parseFloat(msg.payload[n-9])\ngs.ecc = parseFloat(msg.payload[n-8])\ngs.inc = parseFloat(msg.payload[n-7]).toFixed(4)\ngs.raan = (parseFloat(msg.payload[n-6])).toFixed(4)\ngs.aop = parseFloat(msg.payload[n-5]).toFixed(4)\ngs.meananom = (parseFloat(msg.payload[n-4])+0.0).toFixed(4)\ngs.meanmove = parseFloat(msg.payload[n-3]).toFixed(14)\ngs.period = parseFloat(msg.payload[n-2])\n\n\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4540,
        "y": 2400,
        "wires": [
            [
                "828ca4f07d2c0b24"
            ]
        ]
    },
    {
        "id": "828ca4f07d2c0b24",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle injection in persistence",
        "func": "var gs = {}\n\n //From the GS\nif (Math.trunc(msg.payload[0].inc) > 9) {\n    gs.incli = String(msg.payload[0].inc)\n} else {\n    gs.incli = '0'+String(msg.payload[0].inc)\n}\n\nif (Math.trunc(msg.payload[0].raan) > 99) {\n    gs.raan = String(msg.payload[0].raan)\n} else if (Math.trunc(msg.payload[0].raan) > 9) {\n    gs.raan = '0'+String(msg.payload[0].raan)\n} else {\n    gs.raan = '00'+String(msg.payload[0].raan)\n}\n\ngs.ecc = String(msg.payload[0].ecc).substring(2,String(msg.payload[0].ecc).length)\n\nif (Math.trunc(msg.payload[0].aop) > 99) {\n    gs.aop = String(msg.payload[0].aop)\n} else if (Math.trunc(msg.payload[0].aop) > 9) {\n    gs.aop = '0'+String(msg.payload[0].aop)\n} else {\n    gs.aop = '00'+String(msg.payload[0].aop)\n}\n\nif (Math.trunc(msg.payload[0].meananom) > 99) {\n    gs.meana = String(msg.payload[0].meananom)\n} else if (Math.trunc(msg.payload[0].meananom) > 9) {\n    gs.meana = '0'+String(msg.payload[0].meananom)\n} else {\n    gs.meana = '00'+String(msg.payload[0].meananom)\n}\n\nif (Math.trunc(msg.payload[0].meanmove) > 9) {\n    gs.mean = String(msg.payload[0].meanmove)\n} else {\n    gs.mean = '0'+String(msg.payload[0].meanmove)\n}\n\n\n\nmsg.body = null\nmsg.topic = null\nmsg.payload = gs\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3810,
        "y": 2480,
        "wires": [
            [
                "f0e70eac78b7d450",
                "6d1dbca08eba25ab",
                "49388636b6c3d25c"
            ]
        ]
    },
    {
        "id": "f0e70eac78b7d450",
        "type": "persist in",
        "z": "a9c7c6499fb06192",
        "name": "TLE-stored",
        "storageNode": "8bae7d30b6fdab6c",
        "x": 4050,
        "y": 2480,
        "wires": []
    },
    {
        "id": "6d1dbca08eba25ab",
        "type": "link out",
        "z": "a9c7c6499fb06192",
        "name": "update all for B2",
        "mode": "link",
        "links": [
            "54ed3a6bc8def2f5"
        ],
        "x": 4145,
        "y": 2540,
        "wires": []
    },
    {
        "id": "49388636b6c3d25c",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for b2 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4030,
        "y": 2600,
        "wires": [
            [
                "2ffa7c7ebca90a9a"
            ]
        ]
    },
    {
        "id": "2ffa7c7ebca90a9a",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of b2 time tle",
        "collection": "peritimeb2",
        "operation": "find",
        "x": 4270,
        "y": 2600,
        "wires": [
            [
                "05f4bcdfe6b95339"
            ]
        ]
    },
    {
        "id": "05f4bcdfe6b95339",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "get tle time",
        "func": "msg = {curr : {max : 0}, ui_control : {max : 0}, body : {min : msg.payload[0].peritimeb2[0]/1000}};\n\n\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4470,
        "y": 2600,
        "wires": [
            [
                "68385137889cb840"
            ]
        ]
    },
    {
        "id": "8aa4b8ef7f2e638c",
        "type": "link out",
        "z": "a9c7c6499fb06192",
        "name": "Tle b2-postMan-Out",
        "mode": "link",
        "links": [
            "a99ad14c3f06b98d",
            "6c4d10e6e7e5b171"
        ],
        "x": 4735,
        "y": 2600,
        "wires": []
    },
    {
        "id": "68385137889cb840",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4630,
        "y": 2600,
        "wires": [
            [
                "8aa4b8ef7f2e638c"
            ]
        ]
    },
    {
        "id": "b1bc1e653de64af5",
        "type": "link in",
        "z": "a9c7c6499fb06192",
        "name": "b2-tle-time-IN",
        "links": [
            "140f986615a031cc"
        ],
        "x": 445,
        "y": 2680,
        "wires": [
            [
                "c69f184b285d00cf",
                "1f1b44fe08dd86ab"
            ]
        ]
    },
    {
        "id": "c69f184b285d00cf",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to delete b2 time tle",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 2680,
        "wires": [
            [
                "d274a5a2732e0358"
            ]
        ]
    },
    {
        "id": "d274a5a2732e0358",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete b2 time tle Mongo",
        "collection": "peritimeb2",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1300,
        "y": 2680,
        "wires": []
    },
    {
        "id": "1f1b44fe08dd86ab",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "injection",
        "func": "var payload = msg.body;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 2740,
        "wires": [
            [
                "9952da32b05a4aba"
            ]
        ]
    },
    {
        "id": "9952da32b05a4aba",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to fill b2 tle time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\n \ntm.peritimeb2 = msg.payload\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 2740,
        "wires": [
            [
                "0f3608cbaa52f88c"
            ]
        ]
    },
    {
        "id": "0f3608cbaa52f88c",
        "type": "split",
        "z": "a9c7c6499fb06192",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 2740,
        "wires": [
            [
                "98955ab4c1436fa5"
            ]
        ]
    },
    {
        "id": "98955ab4c1436fa5",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert b2 time tle mongo",
        "collection": "peritimeb2",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1290,
        "y": 2740,
        "wires": []
    },
    {
        "id": "4bfd62750d6233be",
        "type": "link in",
        "z": "a9c7c6499fb06192",
        "name": "b2 time setter maneuver IN",
        "links": [
            "54824b02ab97ef68"
        ],
        "x": 315,
        "y": 2360,
        "wires": [
            [
                "bdfd483d024f2143"
            ]
        ]
    },
    {
        "id": "343a7f4719c738c5",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 2920,
        "wires": [
            [
                "59624b1e6dde0126"
            ]
        ]
    },
    {
        "id": "de7781e6d58fbf99",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 3000,
        "wires": [
            [
                "59624b1e6dde0126"
            ]
        ]
    },
    {
        "id": "f238d5486a90508a",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 3040,
        "wires": [
            [
                "59624b1e6dde0126"
            ]
        ]
    },
    {
        "id": "40a610b963229348",
        "type": "ui_form",
        "z": "a9c7c6499fb06192",
        "name": "",
        "label": "RED1-Continuous Maneuver Duration",
        "group": "c8a7959a4b0f55f9",
        "order": 6,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Duration (s)",
                "value": "contdura",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "contdura": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 270,
        "y": 2900,
        "wires": [
            [
                "343a7f4719c738c5"
            ]
        ]
    },
    {
        "id": "59624b1e6dde0126",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 760,
        "y": 2960,
        "wires": [
            [
                "dd420cfe1f5ef52e"
            ],
            []
        ]
    },
    {
        "id": "dd420cfe1f5ef52e",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Maneuver-param",
        "func": "\nvar Dx;\nvar Dy;\nvar Dz;\n\n\n\n//PREPARATION STEP\n\n// theta est le complement a 90 de beta\nvar theta = 90 - msg.paths.path_3.angle.degree\n// converting theta to rad and computing\n//the vector composition of the thrust\nDx = 1*Math.sin(theta*Math.PI/180)*Math.cos(msg.paths.path_2.angle.degree*Math.PI/180);\nDy = 1*Math.sin(theta*Math.PI/180)*Math.sin(msg.paths.path_2.angle.degree*Math.PI/180);\nDz = 1*Math.cos(theta*Math.PI/180)\n\nvar tab = []\nvar gs = {}\n\ngs.dx = Dx\ngs.dy = Dy\ngs.dz = Dz\ngs.dura = msg.paths.path_1.contdura\n\n\ntab.push(gs)\nmsg.body = msg.payload\nmsg.payload = tab\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 2960,
        "wires": [
            [
                "7c1cd7e3ae88d145",
                "e6af600262a8665d",
                "a332e1cbc9c606d7",
                "8df59b9eb7e288e6"
            ]
        ]
    },
    {
        "id": "45fde8e9ce7f9d5b",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "RAZ Result injection",
        "func": "msg.payload = null\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 2940,
        "wires": [
            [
                "a1711ca573932d8a"
            ]
        ]
    },
    {
        "id": "a1711ca573932d8a",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 1810,
        "y": 2940,
        "wires": [
            [
                "dc073d8d779824ba"
            ]
        ]
    },
    {
        "id": "dc073d8d779824ba",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Result-RAZ",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2010,
        "y": 2940,
        "wires": [
            []
        ]
    },
    {
        "id": "7c1cd7e3ae88d145",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Result.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 2940,
        "wires": [
            [
                "45fde8e9ce7f9d5b"
            ]
        ]
    },
    {
        "id": "e6af600262a8665d",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "deltaV param de  R1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 3000,
        "wires": []
    },
    {
        "id": "b3b2e36036b63327",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_4",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_4",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 3160,
        "wires": [
            [
                "78a355118c11386c"
            ]
        ]
    },
    {
        "id": "a332e1cbc9c606d7",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for red1 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 3160,
        "wires": [
            [
                "23d20a945e845447"
            ]
        ]
    },
    {
        "id": "23d20a945e845447",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r1 time tle",
        "collection": "peritimer1",
        "operation": "find",
        "x": 600,
        "y": 3160,
        "wires": [
            [
                "b3b2e36036b63327"
            ]
        ]
    },
    {
        "id": "c64e9c908b0f0fb1",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "time maneuver",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2560,
        "y": 3240,
        "wires": []
    },
    {
        "id": "0780de761aa345f2",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Maneuv.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1730,
        "y": 3180,
        "wires": [
            [
                "e6fe32bb72d0d03b"
            ]
        ]
    },
    {
        "id": "e6fe32bb72d0d03b",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Maneuv storage injection",
        "func": "msg.payload = [\"Relative DATE, Dx, Dy, Dz, contdura\",msg.paths.path_7[0], msg.paths.path_6[0].dx, msg.paths.path_6[0].dy, msg.paths.path_6[0].dz, msg.paths.path_6[0].dura]; 0\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1970,
        "y": 3180,
        "wires": [
            [
                "6ca92a4e03fce482"
            ]
        ]
    },
    {
        "id": "01796d1c9fc62a27",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_6\", \"path_7\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1540,
        "y": 3180,
        "wires": [
            [
                "0780de761aa345f2"
            ],
            []
        ]
    },
    {
        "id": "6ca92a4e03fce482",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": "\\n",
        "hdrin": "",
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 2190,
        "y": 3180,
        "wires": [
            [
                "d1c15c32204bee90"
            ]
        ]
    },
    {
        "id": "d1c15c32204bee90",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2370,
        "y": 3180,
        "wires": [
            [
                "6884bef826744d5b",
                "c64e9c908b0f0fb1"
            ]
        ]
    },
    {
        "id": "6884bef826744d5b",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Maneuv-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2560,
        "y": 3180,
        "wires": [
            [
                "1f5724ee9f1ac7c7"
            ]
        ]
    },
    {
        "id": "394c36af3f9217be",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_5",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_5",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 3220,
        "wires": [
            [
                "78a355118c11386c"
            ]
        ]
    },
    {
        "id": "78a355118c11386c",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_4\", \"path_5\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 960,
        "y": 3200,
        "wires": [
            [
                "ed15be18fe12a6ff"
            ],
            []
        ]
    },
    {
        "id": "8ec065df1c9fe28d",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "inj: body to payload",
        "func": "msg.payload = msg.body;\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 3220,
        "wires": [
            [
                "394c36af3f9217be"
            ]
        ]
    },
    {
        "id": "ed15be18fe12a6ff",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "delay from tle to man",
        "func": "var tletime = msg.paths.path_4[0].peritimer1[0]\n// we set teletime to the element 0 of the field peritimer1 of path_4\nvar mantime = msg.paths.path_5\n// the man time \n//is  in the path5 because of the Setpath_5 \n\nvar duration = (mantime)/1000 - (tletime/1000);\n// it is thedurqtion before mqnoeuver at the tle time\nmsg.payload = [duration, tletime-38000, mantime]\nmsg.body = [tletime-38000, mantime]\nreturn msg;\n\n//-38000 because of MM time error when propagating",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 3220,
        "wires": [
            [
                "33bf1aada5c8cba3",
                "01c264e9bfca7037"
            ]
        ]
    },
    {
        "id": "33bf1aada5c8cba3",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_7",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_7",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 3180,
        "wires": [
            [
                "01796d1c9fc62a27"
            ]
        ]
    },
    {
        "id": "8df59b9eb7e288e6",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_6",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_6",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 3140,
        "wires": [
            [
                "01796d1c9fc62a27",
                "fdd931210e296d6d"
            ]
        ]
    },
    {
        "id": "6ec432d2414f1ead",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 3340,
        "wires": [
            [
                "fdd931210e296d6d"
            ]
        ]
    },
    {
        "id": "f960fde28fced0e2",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 3380,
        "wires": [
            [
                "fdd931210e296d6d"
            ]
        ]
    },
    {
        "id": "fdd931210e296d6d",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[\"path_6\", \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1360,
        "y": 3360,
        "wires": [
            [
                "e931d84c6491f875"
            ],
            []
        ]
    },
    {
        "id": "e931d84c6491f875",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle format",
        "func": "var N\nvar n\nvar acube\nvar a\nvar e\n\nvar mu = 398600.44\nvar J = 86164\n\nN = msg.paths.path_2[0].col9\nn = 2*Math.PI*N/J\nacube = mu/(n*n)\na=(acube)**(1/3)\ne = parseFloat(msg.paths.path_2[0].col6)/10000000\n\nvar durastop = msg.paths.path_3[0]+1.0+parseFloat(msg.paths.path_6[0].dura)\n\nvar myDate = new Date(msg.paths.path_3[1]);\ndate = (myDate.toGMTString());\nvar month = [\"init\",\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nvar mon ;\n\nfor (let i = 0; i < month.length; i++) {\n  if (date.substr(8,3) == month[i]) {\n    mon = i.toString()  \n  }\n} \n\nvar DATE = date.substr(12,4)+\"-0\"+mon+\"-\"+date.substr(5,2)+\"T\"+date.substr(17,8)+\".000\"\n\n\n\nmsg.payload = [\"DATE, SMA, ECC, INC, RAAN, AoP, MeanAnom, Dry Mass, SurfRef, Thurst, ISP, Ergol mass, Simu duration stop\",DATE , a, e, msg.paths.path_2[0].col4, msg.paths.path_2[0].col5, msg.paths.path_2[0].col7, msg.paths.path_2[0].col8, msg.paths.path_1.drymass, msg.paths.path_1.surfref, msg.paths.path_1.thrust, msg.paths.path_1.isp, msg.paths.path_1.ergolmass, durastop];\n\nreturn msg\n\n//\"2010-01-01T11:59:26.000\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 3360,
        "wires": [
            [
                "5d41a2e6421e0f53",
                "505cb8489e1e9aa6",
                "c777b58976a7e2fb"
            ]
        ]
    },
    {
        "id": "2d2866947ac9a9e0",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle2",
        "func": "msg.payload = msg.payload[0].tle2;\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 3360,
        "wires": [
            [
                "dd09536c1b94e2b3"
            ]
        ]
    },
    {
        "id": "5dfe63d7551f43c4",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for r1tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 3360,
        "wires": [
            [
                "ba1c3bc3091e5e95"
            ]
        ]
    },
    {
        "id": "ba1c3bc3091e5e95",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r1tlelatest",
        "collection": "r1tlelatest",
        "operation": "find",
        "x": 640,
        "y": 3360,
        "wires": [
            [
                "2d2866947ac9a9e0"
            ]
        ]
    },
    {
        "id": "dd09536c1b94e2b3",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": " ",
        "hdrin": "",
        "hdrout": "all",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 1010,
        "y": 3360,
        "wires": [
            [
                "f960fde28fced0e2"
            ]
        ]
    },
    {
        "id": "01c264e9bfca7037",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 3300,
        "wires": [
            [
                "fdd931210e296d6d"
            ]
        ]
    },
    {
        "id": "0a33bdde38b37771",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check time2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2510,
        "y": 3460,
        "wires": []
    },
    {
        "id": "d3fcb114c2e97f50",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": "\\n",
        "hdrin": "",
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 1970,
        "y": 3360,
        "wires": [
            [
                "547d349d0b706a31"
            ]
        ]
    },
    {
        "id": "547d349d0b706a31",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2130,
        "y": 3360,
        "wires": [
            [
                "4c277067c17d83ed"
            ]
        ]
    },
    {
        "id": "4c277067c17d83ed",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Data-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2330,
        "y": 3360,
        "wires": [
            [
                "89854cfad92a973d",
                "0a33bdde38b37771",
                "94a2cb81d3d3708a"
            ]
        ]
    },
    {
        "id": "5d41a2e6421e0f53",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Data.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1790,
        "y": 3360,
        "wires": [
            [
                "d3fcb114c2e97f50"
            ]
        ]
    },
    {
        "id": "89854cfad92a973d",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of maneuver",
        "func": "var datecurrent = msg.paths.path_3[2]+1000*parseFloat(msg.paths.path_6[0].dura);\n\nvar myDate = new Date(datecurrent);\ndate= (myDate.toGMTString());\n\n\nmsg.payload = date\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2530,
        "y": 3360,
        "wires": [
            [
                "01609548c9aa9c71",
                "847005d3964fb32b",
                "3f886c0d4c9b8b3c"
            ]
        ]
    },
    {
        "id": "01609548c9aa9c71",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time start",
        "func": "\n//var myDate = new Date(msg.payload);\n\n\n//var date = myDate.toLocaleString() ;\nvar date = msg.payload ;\nvar month = [\"init\",\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nvar mon ;\n\nfor (let i = 0; i < month.length; i++) {\n  if (date.substr(8,3) == month[i]) {\n    mon = i.toString()  \n  }\n} \n\nmsg.payload = date.substr(12,4)+\"-\"+\"0\"+mon+\"-\"+date.substr(5,2)+\"T\"+date.substr(17,8)+\".000Z\"\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2760,
        "y": 3360,
        "wires": [
            [
                "cfbc2c3b74bdd2a9",
                "352d404ba1f3af94"
            ]
        ]
    },
    {
        "id": "847005d3964fb32b",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check time",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2830,
        "y": 3320,
        "wires": []
    },
    {
        "id": "cfbc2c3b74bdd2a9",
        "type": "persist out",
        "z": "a9c7c6499fb06192",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 2950,
        "y": 3400,
        "wires": [
            [
                "6eba1448558f0a80"
            ]
        ]
    },
    {
        "id": "352d404ba1f3af94",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3190,
        "y": 3360,
        "wires": [
            [
                "9694fdab3f14fef5"
            ]
        ]
    },
    {
        "id": "6eba1448558f0a80",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3190,
        "y": 3400,
        "wires": [
            [
                "9694fdab3f14fef5"
            ]
        ]
    },
    {
        "id": "9694fdab3f14fef5",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_1\", \"path_2\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 3380,
        "y": 3400,
        "wires": [
            [
                "90c3e75880b01ca8"
            ],
            []
        ]
    },
    {
        "id": "90c3e75880b01ca8",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "start time injection in persistence",
        "func": "var gs = {}\n\ngs.startdate = msg.paths.path_1 ; \n\ngs.enddate = msg.paths.path_2.enddate;\n\n\n\nmsg.body = null\nmsg.topic = null\nmsg.paths = null\nmsg.filename = null\n\nmsg.payload = gs\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3530,
        "y": 3460,
        "wires": [
            [
                "24da7bf2e8a2cb5b"
            ]
        ]
    },
    {
        "id": "24da7bf2e8a2cb5b",
        "type": "persist in",
        "z": "a9c7c6499fb06192",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 3750,
        "y": 3460,
        "wires": []
    },
    {
        "id": "c777b58976a7e2fb",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to delete r1 time tle",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1910,
        "y": 3480,
        "wires": [
            [
                "71fe2b601dbea1fb"
            ]
        ]
    },
    {
        "id": "71fe2b601dbea1fb",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r1 time tle Mongo",
        "collection": "peritimer1",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2180,
        "y": 3480,
        "wires": []
    },
    {
        "id": "505cb8489e1e9aa6",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check tle R1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1770,
        "y": 3300,
        "wires": []
    },
    {
        "id": "94a2cb81d3d3708a",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of post-maneuver",
        "func": "var datecurrent = msg.paths.path_3[2]+1000*parseFloat(msg.paths.path_6[0].dura);\n\n\nmsg.payload = datecurrent\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2460,
        "y": 3580,
        "wires": [
            [
                "5721acf67662d2e1"
            ]
        ]
    },
    {
        "id": "5721acf67662d2e1",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of TLE mise en forme",
        "func": "var time = msg.payload ;\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*1000000;\nvar frac = Math.round(fraca)/1000000;\nvar epoch = 1000*year+day+frac;\n\n\n\n   return{\n topic:\"tle time\",\n payload: time,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n} ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2700,
        "y": 3580,
        "wires": [
            [
                "d4791cd675a09ee3"
            ]
        ]
    },
    {
        "id": "d4791cd675a09ee3",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "injection",
        "func": "var payload = msg.body;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2400,
        "y": 3660,
        "wires": [
            [
                "48701826c86afcfb"
            ]
        ]
    },
    {
        "id": "48701826c86afcfb",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to fill r1 tle time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\ntm.peritimer1 = msg.payload\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2610,
        "y": 3660,
        "wires": [
            [
                "72c5fb1fa0287aee"
            ]
        ]
    },
    {
        "id": "72c5fb1fa0287aee",
        "type": "split",
        "z": "a9c7c6499fb06192",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2810,
        "y": 3660,
        "wires": [
            [
                "2c65aead1d9c7dfd"
            ]
        ]
    },
    {
        "id": "2c65aead1d9c7dfd",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert r1 time tle mongo",
        "collection": "peritimer1",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 3010,
        "y": 3660,
        "wires": []
    },
    {
        "id": "9fc5fb689228d39c",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "execManManager",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3770,
        "y": 3160,
        "wires": []
    },
    {
        "id": "a7874181ac1ac35b",
        "type": "exec",
        "z": "a9c7c6499fb06192",
        "command": "cd /app/maneuver-manager/ && /usr/bin/java -jar MCS_ManeuverManager_v6.jar",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Run ManeuverManager",
        "x": 3450,
        "y": 3200,
        "wires": [
            [
                "9fc5fb689228d39c",
                "0cfd44999d423d78"
            ],
            [],
            []
        ]
    },
    {
        "id": "102eb2279e921b17",
        "type": "inject",
        "z": "a9c7c6499fb06192",
        "name": "button: execManeuverManager",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 3110,
        "y": 3120,
        "wires": [
            []
        ]
    },
    {
        "id": "1f5724ee9f1ac7c7",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2970,
        "y": 3180,
        "wires": [
            [
                "4f666f7eccd0fcc0"
            ]
        ]
    },
    {
        "id": "3f886c0d4c9b8b3c",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2970,
        "y": 3220,
        "wires": [
            [
                "4f666f7eccd0fcc0"
            ]
        ]
    },
    {
        "id": "4f666f7eccd0fcc0",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_1\", \"path_2\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 3180,
        "y": 3200,
        "wires": [
            [
                "a7874181ac1ac35b"
            ],
            []
        ]
    },
    {
        "id": "0cfd44999d423d78",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to read Result.txt",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3730,
        "y": 3260,
        "wires": [
            [
                "6aaf020a551d892c"
            ]
        ]
    },
    {
        "id": "6aaf020a551d892c",
        "type": "file in",
        "z": "a9c7c6499fb06192",
        "name": "Result file reader",
        "filename": "/app/maneuver-manager/Result.txt",
        "format": "lines",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 3950,
        "y": 3260,
        "wires": [
            [
                "f201ce51a12fecae"
            ]
        ]
    },
    {
        "id": "f201ce51a12fecae",
        "type": "join",
        "z": "a9c7c6499fb06192",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 4110,
        "y": 3260,
        "wires": [
            [
                "0c4af332407f933a"
            ]
        ]
    },
    {
        "id": "0c4af332407f933a",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Result-setter",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n\n   return{\n topic:\"data setter\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4310,
        "y": 3260,
        "wires": [
            [
                "bcd0fe58d6213ab8"
            ]
        ]
    },
    {
        "id": "bcd0fe58d6213ab8",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Result message setter",
        "func": "var tab = []\nvar gs = {}\n\nvar n = msg.payload.length\n\n //From the GS\ngs.ergolmass = parseFloat(msg.payload[n-12])\ngs.alti = parseFloat(msg.payload[n-10])\ngs.sma = parseFloat(msg.payload[n-9])\ngs.ecc = parseFloat(msg.payload[n-8])\ngs.inc = parseFloat(msg.payload[n-7]).toFixed(4)\ngs.raan = (parseFloat(msg.payload[n-6])).toFixed(4)\ngs.aop = parseFloat(msg.payload[n-5]).toFixed(4)\ngs.meananom = (parseFloat(msg.payload[n-4])+0.0).toFixed(4)\ngs.meanmove = parseFloat(msg.payload[n-3]).toFixed(14)\ngs.period = parseFloat(msg.payload[n-2])\n\n\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4560,
        "y": 3260,
        "wires": [
            [
                "835175a263f76254"
            ]
        ]
    },
    {
        "id": "835175a263f76254",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle injection in persistence",
        "func": "var gs = {}\n\n //From the GS\nif (Math.trunc(msg.payload[0].inc) > 9) {\n    gs.incli = String(msg.payload[0].inc)\n} else {\n    gs.incli = '0'+String(msg.payload[0].inc)\n}\n\nif (Math.trunc(msg.payload[0].raan) > 99) {\n    gs.raan = String(msg.payload[0].raan)\n} else if (Math.trunc(msg.payload[0].raan) > 9) {\n    gs.raan = '0'+String(msg.payload[0].raan)\n} else {\n    gs.raan = '00'+String(msg.payload[0].raan)\n}\n\ngs.ecc = String(msg.payload[0].ecc).substring(2,String(msg.payload[0].ecc).length)\n\nif (Math.trunc(msg.payload[0].aop) > 99) {\n    gs.aop = String(msg.payload[0].aop)\n} else if (Math.trunc(msg.payload[0].aop) > 9) {\n    gs.aop = '0'+String(msg.payload[0].aop)\n} else {\n    gs.aop = '00'+String(msg.payload[0].aop)\n}\n\nif (Math.trunc(msg.payload[0].meananom) > 99) {\n    gs.meana = String(msg.payload[0].meananom)\n} else if (Math.trunc(msg.payload[0].meananom) > 9) {\n    gs.meana = '0'+String(msg.payload[0].meananom)\n} else {\n    gs.meana = '00'+String(msg.payload[0].meananom)\n}\n\nif (Math.trunc(msg.payload[0].meanmove) > 9) {\n    gs.mean = String(msg.payload[0].meanmove)\n} else {\n    gs.mean = '0'+String(msg.payload[0].meanmove)\n}\n\n\n\nmsg.body = null\nmsg.topic = null\nmsg.payload = gs\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3830,
        "y": 3340,
        "wires": [
            [
                "177088d45c5ac3fc",
                "2fd70f8c41ef581a",
                "9346f134fa7821fe"
            ]
        ]
    },
    {
        "id": "177088d45c5ac3fc",
        "type": "persist in",
        "z": "a9c7c6499fb06192",
        "name": "TLE-stored red1",
        "storageNode": "c089d2c2d5625432",
        "x": 4080,
        "y": 3340,
        "wires": []
    },
    {
        "id": "2fd70f8c41ef581a",
        "type": "link out",
        "z": "a9c7c6499fb06192",
        "name": "update all for R1 OUT",
        "mode": "link",
        "links": [
            "495dc5a4cb1cef81"
        ],
        "x": 4165,
        "y": 3400,
        "wires": []
    },
    {
        "id": "9346f134fa7821fe",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for r1 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4040,
        "y": 3460,
        "wires": [
            [
                "a18376bc2480eb2f"
            ]
        ]
    },
    {
        "id": "a18376bc2480eb2f",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r1 time tle",
        "collection": "peritimer1",
        "operation": "find",
        "x": 4290,
        "y": 3460,
        "wires": [
            [
                "e4dce14b20527c4e"
            ]
        ]
    },
    {
        "id": "e4dce14b20527c4e",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "get tle time",
        "func": "msg = {curr : {max : 0}, ui_control : {max : 0}, body : {min : msg.payload[0].peritimer1[0]/1000}};\n\n\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4490,
        "y": 3460,
        "wires": [
            [
                "b37f1972921a5603"
            ]
        ]
    },
    {
        "id": "8d63a1baaf39e899",
        "type": "link out",
        "z": "a9c7c6499fb06192",
        "name": "TLE R1-post-manoeuvre-OUT",
        "mode": "link",
        "links": [
            "3d2439aa3fec2104"
        ],
        "x": 4755,
        "y": 3460,
        "wires": []
    },
    {
        "id": "b37f1972921a5603",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4650,
        "y": 3460,
        "wires": [
            [
                "8d63a1baaf39e899"
            ]
        ]
    },
    {
        "id": "8e1a91631c83419c",
        "type": "link in",
        "z": "a9c7c6499fb06192",
        "name": "r1-tle-time-IN",
        "links": [
            "140f986615a031cc",
            "4abd59bacaefa445",
            "357b1c9d4fd47fb2"
        ],
        "x": 445,
        "y": 3440,
        "wires": [
            [
                "55237eebcc3da380",
                "943e2a16fc50da3b"
            ]
        ]
    },
    {
        "id": "55237eebcc3da380",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to delete r1 time tle",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 3440,
        "wires": [
            [
                "a85cd39bc81a7678"
            ]
        ]
    },
    {
        "id": "a85cd39bc81a7678",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r1 time tle Mongo",
        "collection": "peritimer1",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1300,
        "y": 3440,
        "wires": []
    },
    {
        "id": "943e2a16fc50da3b",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "injection",
        "func": "var payload = msg.body;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 3500,
        "wires": [
            [
                "c24ec9b00c13c9f0"
            ]
        ]
    },
    {
        "id": "c24ec9b00c13c9f0",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to fill r1 tle time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\n \ntm.peritimer1 = msg.payload\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 3500,
        "wires": [
            [
                "01c986c08027b631"
            ]
        ]
    },
    {
        "id": "01c986c08027b631",
        "type": "split",
        "z": "a9c7c6499fb06192",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 3500,
        "wires": [
            [
                "8c17e277e367e3f2"
            ]
        ]
    },
    {
        "id": "8c17e277e367e3f2",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert r1 time tle mongo",
        "collection": "peritimer1",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1290,
        "y": 3500,
        "wires": []
    },
    {
        "id": "c705204386ed11b2",
        "type": "link in",
        "z": "a9c7c6499fb06192",
        "name": "r1 time setter maneuver IN",
        "links": [
            "39f769c77323e2c3"
        ],
        "x": 335,
        "y": 3220,
        "wires": [
            [
                "8ec065df1c9fe28d"
            ]
        ]
    },
    {
        "id": "a7c7c874ae5a5166",
        "type": "ui_form",
        "z": "a9c7c6499fb06192",
        "name": "",
        "label": "RED2-Vehicle",
        "group": "7465a3d35f5541d7",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Dry mass (kg)",
                "value": "drymass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Ergol mass (kg)",
                "value": "ergolmass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Thrust (N)",
                "value": "thrust",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "ISP (s)",
                "value": "isp",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Surf Ref (m)",
                "value": "surfref",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "drymass": "",
            "ergolmass": "",
            "thrust": "",
            "isp": "",
            "surfref": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 120,
        "y": 4120,
        "wires": [
            [
                "e256a12b39173467",
                "9d69d3e693dbef5b"
            ]
        ]
    },
    {
        "id": "cd9dc5777eed96a2",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 3700,
        "wires": [
            [
                "8ffd4d718183d7b2"
            ]
        ]
    },
    {
        "id": "ed2cc43b6bb34d9f",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 3780,
        "wires": [
            [
                "8ffd4d718183d7b2"
            ]
        ]
    },
    {
        "id": "d1705d93361714c6",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 3820,
        "wires": [
            [
                "8ffd4d718183d7b2"
            ]
        ]
    },
    {
        "id": "315790afd6776dbc",
        "type": "ui_form",
        "z": "a9c7c6499fb06192",
        "name": "",
        "label": "RED2-Continuous Maneuver Duration",
        "group": "7465a3d35f5541d7",
        "order": 6,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Duration (s)",
                "value": "contdura",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "contdura": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 230,
        "y": 3680,
        "wires": [
            [
                "cd9dc5777eed96a2"
            ]
        ]
    },
    {
        "id": "8ffd4d718183d7b2",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 720,
        "y": 3740,
        "wires": [
            [
                "5ab66b7eda15e153"
            ],
            []
        ]
    },
    {
        "id": "5ab66b7eda15e153",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Maneuver-param",
        "func": "\nvar Dx;\nvar Dy;\nvar Dz;\n\n\n\n//PREPARATION STEP\n\n// theta est le complement a 90 de beta\nvar theta = 90 - msg.paths.path_3.angle.degree\n// converting theta to rad and computing\n//the vector composition of the thrust\nDx = 1*Math.sin(theta*Math.PI/180)*Math.cos(msg.paths.path_2.angle.degree*Math.PI/180);\nDy = 1*Math.sin(theta*Math.PI/180)*Math.sin(msg.paths.path_2.angle.degree*Math.PI/180);\nDz = 1*Math.cos(theta*Math.PI/180)\n\nvar tab = []\nvar gs = {}\n\ngs.dx = Dx\ngs.dy = Dy\ngs.dz = Dz\ngs.dura = msg.paths.path_1.contdura\n\n\ntab.push(gs)\nmsg.body = msg.payload\nmsg.payload = tab\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 3740,
        "wires": [
            [
                "f4d92dc0fdbbec5f",
                "bfb697ea6830d98f",
                "aa466f1feec68bd1",
                "c9c196e44fcc5fa5"
            ]
        ]
    },
    {
        "id": "7954104771b2e80a",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "RAZ Result injection",
        "func": "msg.payload = null\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 3720,
        "wires": [
            [
                "85cd729e149e1340"
            ]
        ]
    },
    {
        "id": "85cd729e149e1340",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 1770,
        "y": 3720,
        "wires": [
            [
                "54b814d9b5804b97"
            ]
        ]
    },
    {
        "id": "54b814d9b5804b97",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Result-RAZ",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1970,
        "y": 3720,
        "wires": [
            []
        ]
    },
    {
        "id": "f4d92dc0fdbbec5f",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Result.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 3720,
        "wires": [
            [
                "7954104771b2e80a"
            ]
        ]
    },
    {
        "id": "bfb697ea6830d98f",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "deltaV param de  R2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1220,
        "y": 3780,
        "wires": []
    },
    {
        "id": "118630f32b99d063",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_4",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_4",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 3940,
        "wires": [
            [
                "a2264e14626c1a35"
            ]
        ]
    },
    {
        "id": "aa466f1feec68bd1",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for r2 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 3940,
        "wires": [
            [
                "15ac1ed5e822b5e0"
            ]
        ]
    },
    {
        "id": "15ac1ed5e822b5e0",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r2 time tle",
        "collection": "peritimer2",
        "operation": "find",
        "x": 560,
        "y": 3940,
        "wires": [
            [
                "118630f32b99d063"
            ]
        ]
    },
    {
        "id": "0bb3842e3a5052c9",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "time maneuver",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2520,
        "y": 4020,
        "wires": []
    },
    {
        "id": "f63894785172f9fe",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Maneuv.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 3960,
        "wires": [
            [
                "d3d59ce9b341d01a"
            ]
        ]
    },
    {
        "id": "d3d59ce9b341d01a",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Maneuv storage injection",
        "func": "msg.payload = [\"Relative DATE, Dx, Dy, Dz, contdura\",msg.paths.path_7[0], msg.paths.path_6[0].dx, msg.paths.path_6[0].dy, msg.paths.path_6[0].dz, msg.paths.path_6[0].dura]; 0\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1930,
        "y": 3960,
        "wires": [
            [
                "002233e3c1efc0ef"
            ]
        ]
    },
    {
        "id": "beab2d6c49e728cf",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_6\", \"path_7\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1500,
        "y": 3960,
        "wires": [
            [
                "f63894785172f9fe"
            ],
            []
        ]
    },
    {
        "id": "002233e3c1efc0ef",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": "\\n",
        "hdrin": "",
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 2150,
        "y": 3960,
        "wires": [
            [
                "809a9bfd960412ec"
            ]
        ]
    },
    {
        "id": "809a9bfd960412ec",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2330,
        "y": 3960,
        "wires": [
            [
                "89e7f0f0a13ea0ba",
                "0bb3842e3a5052c9"
            ]
        ]
    },
    {
        "id": "89e7f0f0a13ea0ba",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Maneuv-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2520,
        "y": 3960,
        "wires": [
            [
                "23bb47b9c3b8b902"
            ]
        ]
    },
    {
        "id": "97f14da422891c0a",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_5",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_5",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 4000,
        "wires": [
            [
                "a2264e14626c1a35"
            ]
        ]
    },
    {
        "id": "a2264e14626c1a35",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_4\", \"path_5\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 920,
        "y": 3980,
        "wires": [
            [
                "e5c419aa868ebd12"
            ],
            []
        ]
    },
    {
        "id": "453ea03beb18fb8b",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "inj: body to payload",
        "func": "msg.payload = msg.body;\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 4000,
        "wires": [
            [
                "97f14da422891c0a"
            ]
        ]
    },
    {
        "id": "e5c419aa868ebd12",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "delay from tle to man",
        "func": "var tletime = msg.paths.path_4[0].peritimer2[0]\n// we set teletime to the element 0 of the field peritimeb2 of path_4\nvar mantime = msg.paths.path_5\n// the man time \n//is  in the path5 because of the Setpath_5 \n\nvar duration = (mantime)/1000 - (tletime/1000);\n// it is thedurqtion before mqnoeuver at the tle time\nmsg.payload = [duration, tletime-38000, mantime]\nmsg.body = [tletime-38000, mantime]\nreturn msg;\n\n//-38000 because of MM time error when propagating",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 4000,
        "wires": [
            [
                "20bde5b2b236942f",
                "f7b6ef31e21edb14"
            ]
        ]
    },
    {
        "id": "20bde5b2b236942f",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_7",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_7",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 3960,
        "wires": [
            [
                "beab2d6c49e728cf"
            ]
        ]
    },
    {
        "id": "c9c196e44fcc5fa5",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_6",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_6",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 3920,
        "wires": [
            [
                "beab2d6c49e728cf",
                "21adc833473c627e"
            ]
        ]
    },
    {
        "id": "9d69d3e693dbef5b",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 4120,
        "wires": [
            [
                "21adc833473c627e"
            ]
        ]
    },
    {
        "id": "596cf9974aa65be8",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 4160,
        "wires": [
            [
                "21adc833473c627e"
            ]
        ]
    },
    {
        "id": "21adc833473c627e",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[\"path_6\", \"path_3\", \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1320,
        "y": 4140,
        "wires": [
            [
                "fb182f7f1219afd1"
            ],
            []
        ]
    },
    {
        "id": "fb182f7f1219afd1",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle format",
        "func": "var N\nvar n\nvar acube\nvar a\nvar e\n\nvar mu = 398600.44\nvar J = 86164\n\nN = msg.paths.path_2[0].col9\nn = 2*Math.PI*N/J\nacube = mu/(n*n)\na=(acube)**(1/3)\ne = parseFloat(msg.paths.path_2[0].col6)/10000000\n\nvar durastop = msg.paths.path_3[0]+1.0+parseFloat(msg.paths.path_6[0].dura)\n\nvar myDate = new Date(msg.paths.path_3[1]);\ndate = (myDate.toGMTString());\nvar month = [\"init\",\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nvar mon ;\n\nfor (let i = 0; i < month.length; i++) {\n  if (date.substr(8,3) == month[i]) {\n    mon = i.toString()  \n  }\n} \n\nvar DATE = date.substr(12,4)+\"-0\"+mon+\"-\"+date.substr(5,2)+\"T\"+date.substr(17,8)+\".000\"\n\n\n\nmsg.payload = [\"DATE, SMA, ECC, INC, RAAN, AoP, MeanAnom, Dry Mass, SurfRef, Thurst, ISP, Ergol mass, Simu duration stop\",DATE , a, e, msg.paths.path_2[0].col4, msg.paths.path_2[0].col5, msg.paths.path_2[0].col7, msg.paths.path_2[0].col8, msg.paths.path_1.drymass, msg.paths.path_1.surfref, msg.paths.path_1.thrust, msg.paths.path_1.isp, msg.paths.path_1.ergolmass, durastop];\n\nreturn msg\n\n//\"2010-01-01T11:59:26.000\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 4140,
        "wires": [
            [
                "b4d1e8542ee779f8",
                "71129d3b91f68b52",
                "b2ae3ee10e7dddc9"
            ]
        ]
    },
    {
        "id": "2199a68d65ba72b1",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle2",
        "func": "msg.payload = msg.payload[0].tle2;\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 4140,
        "wires": [
            [
                "632a7c638a3c13e4"
            ]
        ]
    },
    {
        "id": "e256a12b39173467",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for r2tlelatest",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 4140,
        "wires": [
            [
                "7d4ab58a6a122fd8"
            ]
        ]
    },
    {
        "id": "7d4ab58a6a122fd8",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r2tlelatest",
        "collection": "r2tlelatest",
        "operation": "find",
        "x": 600,
        "y": 4140,
        "wires": [
            [
                "2199a68d65ba72b1"
            ]
        ]
    },
    {
        "id": "632a7c638a3c13e4",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": " ",
        "hdrin": "",
        "hdrout": "all",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 970,
        "y": 4140,
        "wires": [
            [
                "596cf9974aa65be8"
            ]
        ]
    },
    {
        "id": "f7b6ef31e21edb14",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_3",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 4080,
        "wires": [
            [
                "21adc833473c627e"
            ]
        ]
    },
    {
        "id": "dc0437b807372ad0",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check time2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2470,
        "y": 4240,
        "wires": []
    },
    {
        "id": "45a918ac9481b242",
        "type": "csv",
        "z": "a9c7c6499fb06192",
        "name": "",
        "sep": "\\n",
        "hdrin": "",
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": true,
        "x": 1930,
        "y": 4140,
        "wires": [
            [
                "405c2e4e700fe80a"
            ]
        ]
    },
    {
        "id": "405c2e4e700fe80a",
        "type": "json",
        "z": "a9c7c6499fb06192",
        "name": "javascriptConvert",
        "property": "payload",
        "action": "str",
        "pretty": true,
        "x": 2090,
        "y": 4140,
        "wires": [
            [
                "56faf0a5222ee20c"
            ]
        ]
    },
    {
        "id": "56faf0a5222ee20c",
        "type": "file",
        "z": "a9c7c6499fb06192",
        "name": "Data-storage",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2290,
        "y": 4140,
        "wires": [
            [
                "b1ca319967ee7f6b",
                "dc0437b807372ad0",
                "b03855ac419f85d5"
            ]
        ]
    },
    {
        "id": "b4d1e8542ee779f8",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "\"/app/maneuver-manager/Data.txt\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1750,
        "y": 4140,
        "wires": [
            [
                "45a918ac9481b242"
            ]
        ]
    },
    {
        "id": "b1ca319967ee7f6b",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of maneuver",
        "func": "var datecurrent = msg.paths.path_3[2]+1000*parseFloat(msg.paths.path_6[0].dura);\n\nvar myDate = new Date(datecurrent);\ndate= (myDate.toGMTString());\n\n\nmsg.payload = date\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2490,
        "y": 4140,
        "wires": [
            [
                "d5ada733de2880f0",
                "4498f2abae04b6cc",
                "f7b80bd1aa17dbb6"
            ]
        ]
    },
    {
        "id": "d5ada733de2880f0",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time start",
        "func": "\n//var myDate = new Date(msg.payload);\n\n\n//var date = myDate.toLocaleString() ;\nvar date = msg.payload ;\nvar month = [\"init\",\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nvar mon ;\n\nfor (let i = 0; i < month.length; i++) {\n  if (date.substr(8,3) == month[i]) {\n    mon = i.toString()  \n  }\n} \n\nmsg.payload = date.substr(12,4)+\"-\"+\"0\"+mon+\"-\"+date.substr(5,2)+\"T\"+date.substr(17,8)+\".000Z\"\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2720,
        "y": 4140,
        "wires": [
            [
                "481623745ffa317f",
                "be8e5c71f9217da3"
            ]
        ]
    },
    {
        "id": "4498f2abae04b6cc",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check time",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2790,
        "y": 4100,
        "wires": []
    },
    {
        "id": "481623745ffa317f",
        "type": "persist out",
        "z": "a9c7c6499fb06192",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 2910,
        "y": 4180,
        "wires": [
            [
                "c85f1cdb144a7c23"
            ]
        ]
    },
    {
        "id": "be8e5c71f9217da3",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3150,
        "y": 4140,
        "wires": [
            [
                "1ecd687b4e2143c7"
            ]
        ]
    },
    {
        "id": "c85f1cdb144a7c23",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3150,
        "y": 4180,
        "wires": [
            [
                "1ecd687b4e2143c7"
            ]
        ]
    },
    {
        "id": "1ecd687b4e2143c7",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_1\", \"path_2\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 3340,
        "y": 4180,
        "wires": [
            [
                "89a96c3dbc9e21df"
            ],
            []
        ]
    },
    {
        "id": "89a96c3dbc9e21df",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "start time injection in persistence",
        "func": "var gs = {}\n\ngs.startdate = msg.paths.path_1 ; \n\ngs.enddate = msg.paths.path_2.enddate;\n\n\n\nmsg.body = null\nmsg.topic = null\nmsg.paths = null\nmsg.filename = null\n\nmsg.payload = gs\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3490,
        "y": 4240,
        "wires": [
            [
                "2653b9c03b161310"
            ]
        ]
    },
    {
        "id": "2653b9c03b161310",
        "type": "persist in",
        "z": "a9c7c6499fb06192",
        "name": "Time-stored",
        "storageNode": "b124d9d71f1e45e8",
        "x": 3710,
        "y": 4240,
        "wires": []
    },
    {
        "id": "b2ae3ee10e7dddc9",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to delete r2 time tle",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1870,
        "y": 4260,
        "wires": [
            [
                "e84f5814819e84ed"
            ]
        ]
    },
    {
        "id": "e84f5814819e84ed",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r2 time tle Mongo",
        "collection": "peritimer2",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 2140,
        "y": 4260,
        "wires": []
    },
    {
        "id": "71129d3b91f68b52",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "check tle R2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1730,
        "y": 4080,
        "wires": []
    },
    {
        "id": "b03855ac419f85d5",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of post-maneuver",
        "func": "var datecurrent = msg.paths.path_3[2]+1000*parseFloat(msg.paths.path_6[0].dura);\n\n\nmsg.payload = datecurrent\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2420,
        "y": 4360,
        "wires": [
            [
                "a98818a51cd0e549"
            ]
        ]
    },
    {
        "id": "a98818a51cd0e549",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "time of TLE mise en forme",
        "func": "var time = msg.payload ;\n\n\nvar tjd = (((time/1000) + 631152000)/86400);\ntjda =tjd*100000000;      \narrondi = Math.round(tjda);\ntjd = arrondi/100000000;\n\nvar year = Math.trunc(tjd/365-51)+1;\nvar day = Math.trunc(tjd-(0.25*366*(2000+year-1950)+0.75*365*(2000+year-1950)))+1;//or +1\nvar fraca = (tjd-Math.trunc(tjd))*1000000;\nvar frac = Math.round(fraca)/1000000;\nvar epoch = 1000*year+day+frac;\n\n\n\n   return{\n topic:\"tle time\",\n payload: time,\n //payload:[\"1 40053U 14034A   21320.55992951  .00000013  00000-0  12611-4 0  9996\", \"2 40053  98.2013  26.1889 0001138  92.3043 267.8286 14.58552780393059\"],\n body:[time, tjd, year, day, frac, epoch]\n} ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2660,
        "y": 4360,
        "wires": [
            [
                "a9956c9c09e102eb"
            ]
        ]
    },
    {
        "id": "a9956c9c09e102eb",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "injection",
        "func": "var payload = msg.body;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2360,
        "y": 4440,
        "wires": [
            [
                "dca653f6c5fab6f9"
            ]
        ]
    },
    {
        "id": "dca653f6c5fab6f9",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to fill r2 tle time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\ntm.peritimer2 = msg.payload\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2570,
        "y": 4440,
        "wires": [
            [
                "e98828b0622df759"
            ]
        ]
    },
    {
        "id": "e98828b0622df759",
        "type": "split",
        "z": "a9c7c6499fb06192",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2770,
        "y": 4440,
        "wires": [
            [
                "df8aa203d1ec2854"
            ]
        ]
    },
    {
        "id": "df8aa203d1ec2854",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert r2 time tle mongo",
        "collection": "peritimer2",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 2970,
        "y": 4440,
        "wires": []
    },
    {
        "id": "0c8766b5b9e728c1",
        "type": "debug",
        "z": "a9c7c6499fb06192",
        "name": "execManManager",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3730,
        "y": 3940,
        "wires": []
    },
    {
        "id": "d98c835fb88c95ea",
        "type": "exec",
        "z": "a9c7c6499fb06192",
        "command": "cd /app/maneuver-manager/ && /usr/bin/java -jar MCS_ManeuverManager_v6.jar",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Run ManeuverManager",
        "x": 3410,
        "y": 3980,
        "wires": [
            [
                "0c8766b5b9e728c1",
                "cbcc3f148385698d"
            ],
            [],
            []
        ]
    },
    {
        "id": "958372860b587b8b",
        "type": "inject",
        "z": "a9c7c6499fb06192",
        "name": "button: execManeuverManager",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 3070,
        "y": 3900,
        "wires": [
            []
        ]
    },
    {
        "id": "23bb47b9c3b8b902",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2930,
        "y": 3960,
        "wires": [
            [
                "74bfddabd71a235e"
            ]
        ]
    },
    {
        "id": "f7b80bd1aa17dbb6",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2930,
        "y": 4000,
        "wires": [
            [
                "74bfddabd71a235e"
            ]
        ]
    },
    {
        "id": "74bfddabd71a235e",
        "type": "join-wait",
        "z": "a9c7c6499fb06192",
        "name": "",
        "paths": "[ \"path_1\", \"path_2\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 3140,
        "y": 3980,
        "wires": [
            [
                "d98c835fb88c95ea"
            ],
            []
        ]
    },
    {
        "id": "cbcc3f148385698d",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to read Result.txt",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3690,
        "y": 4040,
        "wires": [
            [
                "4d0bd46764e2be34"
            ]
        ]
    },
    {
        "id": "4d0bd46764e2be34",
        "type": "file in",
        "z": "a9c7c6499fb06192",
        "name": "Result file reader",
        "filename": "/app/maneuver-manager/Result.txt",
        "format": "lines",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 3910,
        "y": 4040,
        "wires": [
            [
                "fe3ce3edfc2f2720"
            ]
        ]
    },
    {
        "id": "fe3ce3edfc2f2720",
        "type": "join",
        "z": "a9c7c6499fb06192",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "2",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 4070,
        "y": 4040,
        "wires": [
            [
                "f008e4dcf91173fb"
            ]
        ]
    },
    {
        "id": "f008e4dcf91173fb",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Result-setter",
        "func": "//var data = msg.payload.name; \n//data=data.toString();\n\n//var msg={};\n\n//msg.payload=data;\n\n\n\n\n   return{\n topic:\"data setter\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4270,
        "y": 4040,
        "wires": [
            [
                "2c5bc05ffc8cbdbd"
            ]
        ]
    },
    {
        "id": "2c5bc05ffc8cbdbd",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "Result message setter",
        "func": "var tab = []\nvar gs = {}\n\nvar n = msg.payload.length\n\n //From the GS\ngs.ergolmass = parseFloat(msg.payload[n-12])\ngs.alti = parseFloat(msg.payload[n-10])\ngs.sma = parseFloat(msg.payload[n-9])\ngs.ecc = parseFloat(msg.payload[n-8])\ngs.inc = parseFloat(msg.payload[n-7]).toFixed(4)\ngs.raan = (parseFloat(msg.payload[n-6])).toFixed(4)\ngs.aop = parseFloat(msg.payload[n-5]).toFixed(4)\ngs.meananom = (parseFloat(msg.payload[n-4])+0.0).toFixed(4)\ngs.meanmove = parseFloat(msg.payload[n-3]).toFixed(14)\ngs.period = parseFloat(msg.payload[n-2])\n\n\ntab.push(gs)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4520,
        "y": 4040,
        "wires": [
            [
                "feef2098f50cb4a4"
            ]
        ]
    },
    {
        "id": "feef2098f50cb4a4",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "tle injection in persistence",
        "func": "var gs = {}\n\n //From the GS\nif (Math.trunc(msg.payload[0].inc) > 9) {\n    gs.incli = String(msg.payload[0].inc)\n} else {\n    gs.incli = '0'+String(msg.payload[0].inc)\n}\n\nif (Math.trunc(msg.payload[0].raan) > 99) {\n    gs.raan = String(msg.payload[0].raan)\n} else if (Math.trunc(msg.payload[0].raan) > 9) {\n    gs.raan = '0'+String(msg.payload[0].raan)\n} else {\n    gs.raan = '00'+String(msg.payload[0].raan)\n}\n\ngs.ecc = String(msg.payload[0].ecc).substring(2,String(msg.payload[0].ecc).length)\n\nif (Math.trunc(msg.payload[0].aop) > 99) {\n    gs.aop = String(msg.payload[0].aop)\n} else if (Math.trunc(msg.payload[0].aop) > 9) {\n    gs.aop = '0'+String(msg.payload[0].aop)\n} else {\n    gs.aop = '00'+String(msg.payload[0].aop)\n}\n\nif (Math.trunc(msg.payload[0].meananom) > 99) {\n    gs.meana = String(msg.payload[0].meananom)\n} else if (Math.trunc(msg.payload[0].meananom) > 9) {\n    gs.meana = '0'+String(msg.payload[0].meananom)\n} else {\n    gs.meana = '00'+String(msg.payload[0].meananom)\n}\n\nif (Math.trunc(msg.payload[0].meanmove) > 9) {\n    gs.mean = String(msg.payload[0].meanmove)\n} else {\n    gs.mean = '0'+String(msg.payload[0].meanmove)\n}\n\n\n\nmsg.body = null\nmsg.topic = null\nmsg.payload = gs\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3790,
        "y": 4120,
        "wires": [
            [
                "88b6d31a9882dcb8",
                "555a6347b2333425",
                "5c538ce3239348a5"
            ]
        ]
    },
    {
        "id": "88b6d31a9882dcb8",
        "type": "persist in",
        "z": "a9c7c6499fb06192",
        "name": "TLE-stored RED2",
        "storageNode": "9ff1c66a285ce93f",
        "x": 4050,
        "y": 4120,
        "wires": []
    },
    {
        "id": "555a6347b2333425",
        "type": "link out",
        "z": "a9c7c6499fb06192",
        "name": "update all for R2 OUT",
        "mode": "link",
        "links": [
            "1cb0a1a51e9369a1"
        ],
        "x": 4125,
        "y": 4180,
        "wires": []
    },
    {
        "id": "5c538ce3239348a5",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query for r2 time tle",
        "func": "msg.payload = {}\n\n\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4000,
        "y": 4240,
        "wires": [
            [
                "db564c0485435f56"
            ]
        ]
    },
    {
        "id": "db564c0485435f56",
        "type": "mongodb in",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "Show * of r2 time tle",
        "collection": "peritimer2",
        "operation": "find",
        "x": 4250,
        "y": 4240,
        "wires": [
            [
                "ba116dc35887c6c4"
            ]
        ]
    },
    {
        "id": "ba116dc35887c6c4",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "get tle time",
        "func": "msg = {curr : {max : 0}, ui_control : {max : 0}, body : {min : msg.payload[0].peritimer2[0]/1000}};\n\n\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 4450,
        "y": 4240,
        "wires": [
            [
                "58e4d5daa2602c94"
            ]
        ]
    },
    {
        "id": "9f474fcba3b0160f",
        "type": "link out",
        "z": "a9c7c6499fb06192",
        "name": "Tle r2-post-manoeuvre-OUT",
        "mode": "link",
        "links": [
            "34fc69acb40802e3"
        ],
        "x": 4715,
        "y": 4240,
        "wires": []
    },
    {
        "id": "58e4d5daa2602c94",
        "type": "change",
        "z": "a9c7c6499fb06192",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4610,
        "y": 4240,
        "wires": [
            [
                "9f474fcba3b0160f"
            ]
        ]
    },
    {
        "id": "30a3d53f7ff0de08",
        "type": "link in",
        "z": "a9c7c6499fb06192",
        "name": "r2-tle-time-IN",
        "links": [
            "140f986615a031cc",
            "4abd59bacaefa445",
            "8ea64980c2a72e58"
        ],
        "x": 435,
        "y": 4220,
        "wires": [
            [
                "11a585d2a0906d4c",
                "8b04934943189034"
            ]
        ]
    },
    {
        "id": "11a585d2a0906d4c",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to delete r2 time tle",
        "func": "msg.payload = {};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 4220,
        "wires": [
            [
                "29d8124e17ce5f52"
            ]
        ]
    },
    {
        "id": "29d8124e17ce5f52",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "delete r2 time tle Mongo",
        "collection": "peritimer2",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1290,
        "y": 4220,
        "wires": []
    },
    {
        "id": "8b04934943189034",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "injection",
        "func": "var payload = msg.body;\nvar newMsg = {};\nnewMsg.payload = payload;\nnode.send(newMsg);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 4280,
        "wires": [
            [
                "d065f8fda6e9f226"
            ]
        ]
    },
    {
        "id": "d065f8fda6e9f226",
        "type": "function",
        "z": "a9c7c6499fb06192",
        "name": "query to fill r2 tle time database",
        "func": "var tab = []\nvar tm = {}\n\n //From the GS\n \ntm.peritimer2 = msg.payload\ntab.push(tm)\n\nmsg.payload = tab\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 4280,
        "wires": [
            [
                "756dc679ed92f963"
            ]
        ]
    },
    {
        "id": "756dc679ed92f963",
        "type": "split",
        "z": "a9c7c6499fb06192",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1100,
        "y": 4280,
        "wires": [
            [
                "86cf93eb0679b6e9"
            ]
        ]
    },
    {
        "id": "86cf93eb0679b6e9",
        "type": "mongodb out",
        "z": "a9c7c6499fb06192",
        "mongodb": "8de6bb2e.d8b2a8",
        "name": "insert r2 time tle mongo",
        "collection": "peritimer2",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1280,
        "y": 4280,
        "wires": []
    },
    {
        "id": "bcb457bab790c38d",
        "type": "link in",
        "z": "a9c7c6499fb06192",
        "name": "r2 time setter maneuver IN",
        "links": [
            "01f18e70add9cff6"
        ],
        "x": 295,
        "y": 4000,
        "wires": [
            [
                "453ea03beb18fb8b"
            ]
        ]
    },
    {
        "id": "ae090243e3b224c9",
        "type": "comment",
        "z": "a9c7c6499fb06192",
        "name": "MM RED1",
        "info": "",
        "x": 900,
        "y": 2860,
        "wires": []
    },
    {
        "id": "5f9d8e33aa0cc23e",
        "type": "comment",
        "z": "a9c7c6499fb06192",
        "name": "MMB1",
        "info": "",
        "x": 1030,
        "y": 560,
        "wires": []
    },
    {
        "id": "f0e112ac8ad13b69",
        "type": "comment",
        "z": "a9c7c6499fb06192",
        "name": "MMB2",
        "info": "",
        "x": 1050,
        "y": 1940,
        "wires": []
    },
    {
        "id": "2423cd0fe7901ead",
        "type": "comment",
        "z": "a9c7c6499fb06192",
        "name": "MM RED2",
        "info": "",
        "x": 1000,
        "y": 3660,
        "wires": []
    },
    {
        "id": "08d427e01d6178f1",
        "type": "comment",
        "z": "a9c7c6499fb06192",
        "name": "DEMANDER ANTOINE",
        "info": "",
        "x": 4460,
        "y": 1500,
        "wires": []
    },
    {
        "id": "fb7efbefe1705a2b",
        "type": "comment",
        "z": "a9c7c6499fb06192",
        "name": "Payload vide",
        "info": "",
        "x": 4050,
        "y": 1500,
        "wires": []
    },
    {
        "id": "37ea6db50372d10a",
        "type": "comment",
        "z": "a9c7c6499fb06192",
        "name": "ICI TLE line2",
        "info": "",
        "x": 4330,
        "y": 1360,
        "wires": []
    },
    {
        "id": "6255d184a282ce55",
        "type": "ui_form",
        "z": "a9c7c6499fb06192",
        "name": "",
        "label": "RED1-Vehicle",
        "group": "c8a7959a4b0f55f9",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Dry mass (kg)",
                "value": "drymass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Ergol mass (kg)",
                "value": "ergolmass",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Thrust (N)",
                "value": "thrust",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "ISP (s)",
                "value": "isp",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Surf Ref (m)",
                "value": "surfref",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "drymass": "",
            "ergolmass": "",
            "thrust": "",
            "isp": "",
            "surfref": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": true,
        "className": "",
        "x": 160,
        "y": 3340,
        "wires": [
            [
                "6ec432d2414f1ead",
                "5dfe63d7551f43c4"
            ]
        ]
    },
    {
        "id": "869bca1bf147dc8f",
        "type": "ui_joystick",
        "z": "a9c7c6499fb06192",
        "name": "Thrust orientation above XY plane",
        "group": "fcc84832adeca8f5",
        "order": 2,
        "width": "7",
        "height": 3,
        "trigger": "all",
        "timeInterval": "25",
        "useThemeColor": true,
        "color": "#000000",
        "threshold": 0.1,
        "directions": "all",
        "shape": "circle",
        "centerAtRelease": false,
        "x": 200,
        "y": 3020,
        "wires": [
            [
                "bc3af034ad65e22d",
                "f238d5486a90508a"
            ]
        ]
    },
    {
        "id": "7d0349330fd7c13d",
        "type": "ui_joystick",
        "z": "a9c7c6499fb06192",
        "name": "Thrust orientation around Z",
        "group": "fcc84832adeca8f5",
        "order": 1,
        "width": "7",
        "height": 3,
        "trigger": "all",
        "timeInterval": "25",
        "useThemeColor": true,
        "color": "#000000",
        "threshold": 0.1,
        "directions": "all",
        "shape": "circle",
        "centerAtRelease": false,
        "x": 220,
        "y": 2980,
        "wires": [
            [
                "b69af22d36c3da8e",
                "de7781e6d58fbf99"
            ]
        ]
    },
    {
        "id": "bc3af034ad65e22d",
        "type": "ui_text",
        "z": "a9c7c6499fb06192",
        "group": "fcc84832adeca8f5",
        "order": 4,
        "width": "14",
        "height": 1,
        "name": "",
        "label": " Thrust () above XY plane",
        "format": "{{msg.payload.angle.degree}}",
        "layout": "row-spread",
        "className": "",
        "x": 220,
        "y": 3060,
        "wires": []
    },
    {
        "id": "b69af22d36c3da8e",
        "type": "ui_text",
        "z": "a9c7c6499fb06192",
        "group": "fcc84832adeca8f5",
        "order": 3,
        "width": "14",
        "height": "1",
        "name": "",
        "label": " Thrust () around Z",
        "format": "{{msg.payload.angle.degree}}",
        "layout": "row-spread",
        "className": "",
        "x": 240,
        "y": 2940,
        "wires": []
    },
    {
        "id": "8f8fc98ce783797d",
        "type": "ui_joystick",
        "z": "a9c7c6499fb06192",
        "name": "Thrust orientation above XY plane",
        "group": "1d33537b5ace1e8e",
        "order": 2,
        "width": "7",
        "height": 3,
        "trigger": "all",
        "timeInterval": "25",
        "useThemeColor": true,
        "color": "#000000",
        "threshold": 0.1,
        "directions": "all",
        "shape": "circle",
        "centerAtRelease": false,
        "x": 180,
        "y": 3800,
        "wires": [
            [
                "5217344eca7013a5",
                "d1705d93361714c6"
            ]
        ]
    },
    {
        "id": "28c97fca3c40171e",
        "type": "ui_joystick",
        "z": "a9c7c6499fb06192",
        "name": "Thrust orientation around Z",
        "group": "1d33537b5ace1e8e",
        "order": 1,
        "width": "7",
        "height": 3,
        "trigger": "all",
        "timeInterval": "25",
        "useThemeColor": true,
        "color": "#000000",
        "threshold": 0.1,
        "directions": "all",
        "shape": "circle",
        "centerAtRelease": false,
        "x": 200,
        "y": 3760,
        "wires": [
            [
                "c55aa151598de1b1",
                "ed2cc43b6bb34d9f"
            ]
        ]
    },
    {
        "id": "5217344eca7013a5",
        "type": "ui_text",
        "z": "a9c7c6499fb06192",
        "group": "1d33537b5ace1e8e",
        "order": 4,
        "width": "14",
        "height": 1,
        "name": "",
        "label": " Thrust () above XY plane",
        "format": "{{msg.payload.angle.degree}}",
        "layout": "row-spread",
        "className": "",
        "x": 200,
        "y": 3840,
        "wires": []
    },
    {
        "id": "c55aa151598de1b1",
        "type": "ui_text",
        "z": "a9c7c6499fb06192",
        "group": "1d33537b5ace1e8e",
        "order": 3,
        "width": "14",
        "height": 1,
        "name": "",
        "label": " Thrust () around Z",
        "format": "{{msg.payload.angle.degree}}",
        "layout": "row-spread",
        "className": "",
        "x": 220,
        "y": 3720,
        "wires": []
    },
    {
        "id": "c6c4fe3d5779159b",
        "type": "inject",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 130,
        "y": 120,
        "wires": [
            [
                "85921a37090da47f"
            ]
        ]
    },
    {
        "id": "85921a37090da47f",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "Loop to send feature number",
        "func": "liste = [0,1,2,3,4,5,6,7,8,9]\nmsg.options = liste\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 120,
        "wires": [
            [
                "1db9414474f6583d",
                "b296d82955a17b06"
            ]
        ]
    },
    {
        "id": "1db9414474f6583d",
        "type": "ui_dropdown",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "label": "SENTINEL Latest Feature Selection",
        "tooltip": "Choose a feature in the list",
        "place": "Select option",
        "group": "cd20a742773dd128",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "x": 710,
        "y": 120,
        "wires": [
            [
                "92d9ca1e710fe674",
                "62c9fb3308641b17"
            ]
        ]
    },
    {
        "id": "92d9ca1e710fe674",
        "type": "http request",
        "z": "9fc2d0daadf97d1e",
        "name": "Sentinel2 request",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://planetarycomputer.microsoft.com/api/stac/v1/collections/sentinel-2-l2a/items",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 730,
        "y": 180,
        "wires": [
            [
                "ad5bfb4e8bb784a2"
            ]
        ]
    },
    {
        "id": "ad5bfb4e8bb784a2",
        "type": "switch",
        "z": "9fc2d0daadf97d1e",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 180,
        "wires": [
            [
                "26eab9600fbd4830"
            ],
            []
        ]
    },
    {
        "id": "26eab9600fbd4830",
        "type": "switch",
        "z": "9fc2d0daadf97d1e",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1220,
        "y": 180,
        "wires": [
            [
                "e0690611cda2e2f5"
            ],
            []
        ]
    },
    {
        "id": "e0690611cda2e2f5",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "content_function",
        "func": "   return{\n topic:\"Sentinel content\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 260,
        "wires": [
            [
                "7cbf4df91dd53fdb"
            ]
        ]
    },
    {
        "id": "2fc453ae3caf7bed",
        "type": "debug",
        "z": "9fc2d0daadf97d1e",
        "name": "sentinel check",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1740,
        "y": 440,
        "wires": []
    },
    {
        "id": "7cbf4df91dd53fdb",
        "type": "json",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1230,
        "y": 260,
        "wires": [
            [
                "74ba1ee8226fc5d0"
            ]
        ]
    },
    {
        "id": "74ba1ee8226fc5d0",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "loop1",
        "func": "\n//msg.payload.packets.forEach(item => {\n//    if(item.satellite = \"Norbi\"){\n//        return item\n//    }\n\n//})\n\nvar json_data = msg.payload;\nvar result = [];\n\nfor(var i in json_data)\n    result.push([i, json_data [i]]);\n\nmsg.payload = result;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1370,
        "y": 260,
        "wires": [
            [
                "bfa58dc98c5ac55d"
            ]
        ]
    },
    {
        "id": "bfa58dc98c5ac55d",
        "type": "change",
        "z": "9fc2d0daadf97d1e",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 260,
        "wires": [
            [
                "300d89bfa37ca69d"
            ]
        ]
    },
    {
        "id": "62c9fb3308641b17",
        "type": "change",
        "z": "9fc2d0daadf97d1e",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 120,
        "wires": [
            [
                "300d89bfa37ca69d"
            ]
        ]
    },
    {
        "id": "300d89bfa37ca69d",
        "type": "join-wait",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "paths": "[ \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1760,
        "y": 200,
        "wires": [
            [
                "53db472fe3180ecb",
                "3ceddb50f8d0c106"
            ],
            []
        ]
    },
    {
        "id": "53db472fe3180ecb",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "loop2",
        "func": "//msg.payload.forEach(item => {\n//msg.payload = item[10];\n//    return msg;\n    //if(item.satellite == \"Norbi\"){\n    //    msg.payload = item.satellite;\n    //    return msg;\n    //}\n//})\n\nvar arraylen = msg.payload.length;\nvar result = [];\n\n//result.push(msg.paths.path_1[1][1][msg.paths.path_2].links[5].href);\nresult.push(msg.paths.path_1[1][1][msg.paths.path_2].assets.rendered_preview.href);\nresult.push(msg.paths.path_1[1][1][msg.paths.path_2].properties);\nresult.push(msg.paths.path_1[1][1][msg.paths.path_2].bbox);\n\n\nmsg.payload = result;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1950,
        "y": 180,
        "wires": [
            [
                "f8d3528c43b514ec",
                "951ebbf5c01b1ef4",
                "a0faf6e836426323"
            ]
        ]
    },
    {
        "id": "f8d3528c43b514ec",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "link",
        "func": "var len = msg.payload.length;\nmsg.payload = msg.payload[0];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 180,
        "wires": [
            [
                "39d92325.5b31ec"
            ]
        ]
    },
    {
        "id": "951ebbf5c01b1ef4",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "properties",
        "func": "var len = msg.payload.length;\nmsg.payload = msg.payload[1];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2130,
        "y": 120,
        "wires": [
            [
                "533612a2a0b24577",
                "dd991964dfce9fe3",
                "9aa8061fc1fff3b4",
                "b2ce7b2bfa5f745c",
                "f5a7daf247383343",
                "92a06a73b70a0c70",
                "d115cfa45281c9a1",
                "937058a78cd6e59e",
                "bafee32a0c709c1c",
                "4c40adb4fbdeceba",
                "7c12138ebcf90b52",
                "4bb10b4268515119"
            ]
        ]
    },
    {
        "id": "39d92325.5b31ec",
        "type": "jimp-image",
        "z": "9fc2d0daadf97d1e",
        "name": "Imagery from Sentinel",
        "data": "payload",
        "dataType": "msg",
        "ret": "b64",
        "parameter1": "",
        "parameter1Type": "msg",
        "parameter2": "",
        "parameter2Type": "msg",
        "parameter3": "",
        "parameter3Type": "msg",
        "parameter4": "",
        "parameter4Type": "msg",
        "parameter5": "",
        "parameter5Type": "msg",
        "parameter6": "",
        "parameter6Type": "msg",
        "parameter7": "",
        "parameter7Type": "msg",
        "parameter8": "",
        "parameter8Type": "msg",
        "sendProperty": "payload",
        "parameterCount": 0,
        "jimpFunction": "none",
        "selectedJimpFunction": {
            "name": "none",
            "fn": "none",
            "description": "Just loads the image.",
            "parameters": []
        },
        "x": 2320,
        "y": 600,
        "wires": [
            [
                "2d9d272a.787cb8",
                "a5ecda5c.164c28",
                "7f9bc166.833c3"
            ]
        ]
    },
    {
        "id": "2d9d272a.787cb8",
        "type": "image viewer",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "width": "200",
        "data": "payload",
        "dataType": "msg",
        "active": false,
        "x": 2590,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "a5ecda5c.164c28",
        "type": "debug",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 2560,
        "y": 540,
        "wires": []
    },
    {
        "id": "d615e8d1.844438",
        "type": "ui_template",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "name": "ui template",
        "order": 2,
        "width": "20",
        "height": "18",
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": false,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 2770,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "7f9bc166.833c3",
        "type": "template",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<img width=\"2048px\" height=\"2048px\" src=\"{{{payload}}}\">",
        "output": "str",
        "x": 2600,
        "y": 580,
        "wires": [
            [
                "d615e8d1.844438"
            ]
        ]
    },
    {
        "id": "bb0d7cc2469a13ab",
        "type": "ui_button",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "group": "cd20a742773dd128",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Load Latest Imagery",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 160,
        "y": 80,
        "wires": [
            [
                "85921a37090da47f"
            ]
        ]
    },
    {
        "id": "0dc630f9d77cac0a",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 7,
        "width": 3,
        "height": 3,
        "name": "Cloud Cover",
        "icon": "fa-cloud",
        "label": "Cloud Cover",
        "unit": "%",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2550,
        "y": 40,
        "wires": []
    },
    {
        "id": "533612a2a0b24577",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "cloud-cover",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"eo:cloud_cover\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2390,
        "y": 40,
        "wires": [
            [
                "0dc630f9d77cac0a"
            ]
        ]
    },
    {
        "id": "dd991964dfce9fe3",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "Date to Dashboard",
        "func": "msg.payload = msg.payload[\"s2:generation_time\"]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2410,
        "y": 160,
        "wires": [
            [
                "20319a8bf935b2cd"
            ]
        ]
    },
    {
        "id": "20319a8bf935b2cd",
        "type": "ui_text",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 6,
        "width": "5",
        "height": "1",
        "name": "Date",
        "label": "Imagery Date",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2610,
        "y": 160,
        "wires": []
    },
    {
        "id": "9aa8061fc1fff3b4",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "Orbit State",
        "func": "msg.payload = msg.payload[\"sat:orbit_state\"]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2390,
        "y": 200,
        "wires": [
            [
                "79bb576ac365d16c"
            ]
        ]
    },
    {
        "id": "79bb576ac365d16c",
        "type": "ui_text",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 5,
        "width": "5",
        "height": "1",
        "name": "State",
        "label": "Orbit State",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2610,
        "y": 200,
        "wires": []
    },
    {
        "id": "b2ce7b2bfa5f745c",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "water-cover",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"s2:water_percentage\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2390,
        "y": 80,
        "wires": [
            [
                "0fc128f84ec055fd"
            ]
        ]
    },
    {
        "id": "0fc128f84ec055fd",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 8,
        "width": 3,
        "height": 3,
        "name": "Water %",
        "icon": "fa-tint",
        "label": "Water %",
        "unit": "%",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2540,
        "y": 80,
        "wires": []
    },
    {
        "id": "f5a7daf247383343",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "solar-zenith",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"s2:mean_solar_zenith\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2390,
        "y": 240,
        "wires": [
            [
                "8c8a061a5409eca2"
            ]
        ]
    },
    {
        "id": "8c8a061a5409eca2",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 10,
        "width": 3,
        "height": 3,
        "name": "Mean Solar Zenith",
        "icon": "fa-sun-o ",
        "label": "Mean Solar Zenith",
        "unit": "",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 90,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2570,
        "y": 240,
        "wires": []
    },
    {
        "id": "92a06a73b70a0c70",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "solar-azimuth",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"s2:mean_solar_azimuth\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2400,
        "y": 280,
        "wires": [
            [
                "3e7f3a51619eaa0c"
            ]
        ]
    },
    {
        "id": "3e7f3a51619eaa0c",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 11,
        "width": 3,
        "height": 3,
        "name": "Mean Solar Azimuth",
        "icon": "fa-sun-o ",
        "label": "Mean Solar Azimuth",
        "unit": "",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 360,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2600,
        "y": 280,
        "wires": []
    },
    {
        "id": "d115cfa45281c9a1",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "Platform",
        "func": "msg.payload = msg.payload[\"platform\"]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 120,
        "wires": [
            [
                "05de6ff8d4bc0ad7"
            ]
        ]
    },
    {
        "id": "05de6ff8d4bc0ad7",
        "type": "ui_text",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 4,
        "width": "5",
        "height": "1",
        "name": "Platform",
        "label": "Platform",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2620,
        "y": 120,
        "wires": []
    },
    {
        "id": "1b24ad2f.198453",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "func": "// create random position\n\nmsg.payload={\n    lat:msg.payload[1], \n    lon:msg.payload[0], \n    name:\"Imagery\", \n    icon:\"satellite\", \n    color:\"#000\"};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2360,
        "y": 800,
        "wires": [
            [
                "de5c4044.d4e0f",
                "e0ec963913cbf7a9"
            ]
        ]
    },
    {
        "id": "223f301c.54ea9",
        "type": "comment",
        "z": "9fc2d0daadf97d1e",
        "name": "How to embed Map in Dashboard",
        "info": "This example shows how to embed the Worldmap \nwithin the `node-red-dashboard`\n\nThe  flow creates a dashboard button that \ngenerates a randon position, with the required \nicon, and passes that to the worldmap. The\nmap is configured to automatically pan to the\nposition of any point that arrives.\n",
        "x": 2460,
        "y": 720,
        "wires": []
    },
    {
        "id": "de5c4044.d4e0f",
        "type": "worldmap-tracks",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "depth": "5",
        "layer": "combined",
        "smooth": false,
        "x": 2500,
        "y": 760,
        "wires": [
            [
                "e0ec963913cbf7a9"
            ]
        ]
    },
    {
        "id": "e0ec963913cbf7a9",
        "type": "ui_worldmap",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 12,
        "width": "15",
        "height": "11",
        "name": "",
        "lat": "",
        "lon": "",
        "zoom": "",
        "layer": "OSMG",
        "cluster": "",
        "maxage": "",
        "usermenu": "hide",
        "layers": "hide",
        "panit": "true",
        "panlock": "false",
        "zoomlock": "false",
        "hiderightclick": "true",
        "coords": "none",
        "showgrid": "true",
        "allowFileDrop": "false",
        "path": "/worldmap",
        "overlist": "DR,CO,RA,DN,HM",
        "maplist": "OSMG,OSMC,EsriC,EsriS,EsriT,EsriO,EsriDG,NatGeo,UKOS,OpTop,SW",
        "mapname": "",
        "mapurl": "",
        "mapopt": "",
        "mapwms": false,
        "x": 2660,
        "y": 800,
        "wires": []
    },
    {
        "id": "a0faf6e836426323",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "bbox",
        "func": "var len = msg.payload.length;\nmsg.payload = msg.payload[2];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2170,
        "y": 800,
        "wires": [
            [
                "1b24ad2f.198453"
            ]
        ]
    },
    {
        "id": "749dd3a8d99522fd",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "func": "// create random position\nvar lat = 51 + Math.random() * 0.2;\nvar lon = -1.45 + Math.random() * 0.2;\nmsg.payload={\n    lat:lat, \n    lon:lon, \n    name:\"Imagery\", \n    icon:\"satellite\", \n    color:\"#000\"};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2460,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "937058a78cd6e59e",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "snow_ice",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"s2:snow_ice_percentage\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 320,
        "wires": [
            [
                "6e9cd2b586d9b406"
            ]
        ]
    },
    {
        "id": "6e9cd2b586d9b406",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 9,
        "width": 3,
        "height": 3,
        "name": "Snow-Ice %",
        "icon": "fa-snowflake-o ",
        "label": "Snow-Ice %",
        "unit": "%",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2550,
        "y": 320,
        "wires": []
    },
    {
        "id": "bafee32a0c709c1c",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "vegetation",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"s2:vegetation_percentage\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2390,
        "y": 360,
        "wires": [
            [
                "f8cf8fbc33448c79"
            ]
        ]
    },
    {
        "id": "f8cf8fbc33448c79",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 9,
        "width": 3,
        "height": 3,
        "name": "vegetation %",
        "icon": "fa-pagelines",
        "label": "Vegetation %",
        "unit": "%",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2550,
        "y": 360,
        "wires": []
    },
    {
        "id": "4c40adb4fbdeceba",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "cirrus-cover",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"s2:thin_cirrus_percentage\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2390,
        "y": 400,
        "wires": [
            [
                "6d03f75fba191a47"
            ]
        ]
    },
    {
        "id": "6d03f75fba191a47",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 7,
        "width": 3,
        "height": 3,
        "name": "Cirrus Cover",
        "icon": "fa-cloud",
        "label": "Cirrus Cover",
        "unit": "%",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2550,
        "y": 400,
        "wires": []
    },
    {
        "id": "7c12138ebcf90b52",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "high-proba-clouds",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"s2:high_proba_clouds_percentage\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2410,
        "y": 440,
        "wires": [
            [
                "acb60b46880fb38c"
            ]
        ]
    },
    {
        "id": "acb60b46880fb38c",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 7,
        "width": 3,
        "height": 3,
        "name": "High proba clouds",
        "icon": "fa-cloud",
        "label": "High proba clouds",
        "unit": "%",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2630,
        "y": 440,
        "wires": []
    },
    {
        "id": "4bb10b4268515119",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "medium-proba-clouds",
        "func": "var len = msg.payload.length;\n\nmsg.payload = msg.payload[\"s2:medium_proba_clouds_percentage\"]\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2420,
        "y": 480,
        "wires": [
            [
                "aed1dac097537c5e"
            ]
        ]
    },
    {
        "id": "aed1dac097537c5e",
        "type": "ui_artlessgauge",
        "z": "9fc2d0daadf97d1e",
        "group": "cd20a742773dd128",
        "order": 7,
        "width": 3,
        "height": 3,
        "name": "Medium proba clouds",
        "icon": "fa-cloud",
        "label": "Medium proba clouds",
        "unit": "%",
        "layout": "radial",
        "decimals": "0",
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#07a8c5",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#07a8c5",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 2640,
        "y": 480,
        "wires": []
    },
    {
        "id": "eb72cad4260f1314",
        "type": "http request",
        "z": "9fc2d0daadf97d1e",
        "name": "Sentinel2 request",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 930,
        "y": 640,
        "wires": [
            [
                "3738920da25037c0"
            ]
        ]
    },
    {
        "id": "d61bdfb240951c99",
        "type": "change",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 640,
        "wires": [
            [
                "eb72cad4260f1314"
            ]
        ]
    },
    {
        "id": "3ceddb50f8d0c106",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "content_function",
        "func": "   return{\n payload:msg.payload[2][1][4][\"href\"],\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 380,
        "wires": [
            [
                "590de21c91b05df0",
                "2fc453ae3caf7bed"
            ]
        ]
    },
    {
        "id": "b296d82955a17b06",
        "type": "ui_dropdown",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "label": "SENTINEL Previous Feature Selection",
        "tooltip": "Choose a feature in the list",
        "place": "Select option",
        "group": "cd20a742773dd128",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "x": 290,
        "y": 560,
        "wires": [
            [
                "914b80ccabf8c867",
                "2be14da7e9d08412"
            ]
        ]
    },
    {
        "id": "3738920da25037c0",
        "type": "switch",
        "z": "9fc2d0daadf97d1e",
        "name": "Check status code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1130,
        "y": 640,
        "wires": [
            [
                "72506c923c6b84f9"
            ],
            []
        ]
    },
    {
        "id": "72506c923c6b84f9",
        "type": "switch",
        "z": "9fc2d0daadf97d1e",
        "name": "Check page content",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "z",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1380,
        "y": 640,
        "wires": [
            [
                "75116bbf56ced9de"
            ],
            []
        ]
    },
    {
        "id": "75116bbf56ced9de",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "content_function",
        "func": "   return{\n topic:\"Sentinel content\",\n payload:msg.payload,\n body:msg.payload\n} \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 720,
        "wires": [
            [
                "7eb01e853a6ed8b6"
            ]
        ]
    },
    {
        "id": "7eb01e853a6ed8b6",
        "type": "json",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1390,
        "y": 720,
        "wires": [
            [
                "a82d382221c6268c"
            ]
        ]
    },
    {
        "id": "a82d382221c6268c",
        "type": "function",
        "z": "9fc2d0daadf97d1e",
        "name": "loop1",
        "func": "\n//msg.payload.packets.forEach(item => {\n//    if(item.satellite = \"Norbi\"){\n//        return item\n//    }\n\n//})\n\nvar json_data = msg.payload;\nvar result = [];\n\nfor(var i in json_data)\n    result.push([i, json_data [i]]);\n\nmsg.payload = result;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 720,
        "wires": [
            [
                "959743bab3d99b11"
            ]
        ]
    },
    {
        "id": "959743bab3d99b11",
        "type": "change",
        "z": "9fc2d0daadf97d1e",
        "name": "Set path_1",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 760,
        "wires": [
            [
                "702224a1435c6d5d"
            ]
        ]
    },
    {
        "id": "702224a1435c6d5d",
        "type": "join-wait",
        "z": "9fc2d0daadf97d1e",
        "name": "",
        "paths": "[ \"path_2\", \"path_1\"]",
        "pathsToExpire": "",
        "useRegex": false,
        "warnUnmatched": false,
        "pathTopic": "paths",
        "pathTopicType": "msg",
        "correlationTopic": "",
        "correlationTopicType": "msg",
        "timeout": "120",
        "timeoutUnits": "1000",
        "exactOrder": "false",
        "firstMsg": "false",
        "mapPayload": "true",
        "disableComplete": false,
        "persistOnRestart": false,
        "x": 1860,
        "y": 760,
        "wires": [
            [
                "53db472fe3180ecb"
            ],
            []
        ]
    },
    {
        "id": "914b80ccabf8c867",
        "type": "change",
        "z": "9fc2d0daadf97d1e",
        "name": "Set path_2",
        "rules": [
            {
                "t": "set",
                "p": "paths",
                "pt": "msg",
                "to": "path_2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 560,
        "wires": [
            [
                "702224a1435c6d5d"
            ]
        ]
    },
    {
        "id": "590de21c91b05df0",
        "type": "persist in",
        "z": "9fc2d0daadf97d1e",
        "name": "Sentinel-link",
        "storageNode": "",
        "x": 1730,
        "y": 380,
        "wires": []
    },
    {
        "id": "2be14da7e9d08412",
        "type": "persist out",
        "z": "9fc2d0daadf97d1e",
        "name": "sentinel-link-out",
        "storageNode": "",
        "x": 520,
        "y": 640,
        "wires": [
            [
                "d61bdfb240951c99"
            ]
        ]
    },
    {
        "id": "fab1a7fa6c381cac",
        "type": "persist out",
        "z": "9fc2d0daadf97d1e",
        "name": "sentinel-link-out",
        "storageNode": "",
        "x": 560,
        "y": 880,
        "wires": [
            [
                "0d5765a41d0bf4d2"
            ]
        ]
    },
    {
        "id": "0d5765a41d0bf4d2",
        "type": "debug",
        "z": "9fc2d0daadf97d1e",
        "name": "debug",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 880,
        "wires": []
    },
    {
        "id": "79b07c9deaca4821",
        "type": "ui_form",
        "z": "4ddfcb5d4ffd885f",
        "name": "",
        "label": "Mean movement Form",
        "group": "97b19b6b03830516",
        "order": 5,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "N (orbit/day)",
                "value": "mean",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "mean": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "x": 220,
        "y": 100,
        "wires": [
            [
                "726fe71bde08e4c8"
            ]
        ]
    },
    {
        "id": "8bb75c59299e6da3",
        "type": "ui_text",
        "z": "4ddfcb5d4ffd885f",
        "group": "97b19b6b03830516",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "SMA (km)",
        "label": "Semi major axis (km)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 700,
        "y": 180,
        "wires": []
    },
    {
        "id": "726fe71bde08e4c8",
        "type": "function",
        "z": "4ddfcb5d4ffd885f",
        "name": "formula",
        "func": " //From the GS\n\nvar mean = msg.payload.mean\n\nvar t;\nt = 86400/mean\n\nmsg.payload = Math.round((t*t*398600/(4*Math.PI*Math.PI))**(1/3))\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 100,
        "wires": [
            [
                "27ae954d12838df7",
                "8bb75c59299e6da3"
            ]
        ]
    },
    {
        "id": "27ae954d12838df7",
        "type": "debug",
        "z": "4ddfcb5d4ffd885f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 100,
        "wires": []
    },
    {
        "id": "08430eee228f26d7",
        "type": "ui_form",
        "z": "4ddfcb5d4ffd885f",
        "name": "",
        "label": "Semi major axis Form",
        "group": "97b19b6b03830516",
        "order": 3,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "Semi major axis (km)",
                "value": "SMA",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "SMA": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "x": 220,
        "y": 280,
        "wires": [
            [
                "83174910077b059e"
            ]
        ]
    },
    {
        "id": "47cb2f9785ebd863",
        "type": "ui_text",
        "z": "4ddfcb5d4ffd885f",
        "group": "97b19b6b03830516",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "N (orbits/day)",
        "label": "Mean movement (orbits/day)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 720,
        "y": 360,
        "wires": []
    },
    {
        "id": "83174910077b059e",
        "type": "function",
        "z": "4ddfcb5d4ffd885f",
        "name": "formula",
        "func": " //From the GS\n\nvar sma = msg.payload.SMA\nvar t;\n\nt = (sma*sma*sma*4*Math.PI*Math.PI/398600)**(1/2)\n\nmsg.payload = 86400/t\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 280,
        "wires": [
            [
                "6bdf2e2484a0da64",
                "47cb2f9785ebd863"
            ]
        ]
    },
    {
        "id": "6bdf2e2484a0da64",
        "type": "debug",
        "z": "4ddfcb5d4ffd885f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 280,
        "wires": []
    },
    {
        "id": "8cc23f520ddf1bcb",
        "type": "ui_form",
        "z": "4ddfcb5d4ffd885f",
        "name": "",
        "label": "Mean movement Form",
        "group": "c3df4221bc39e72d",
        "order": 5,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "N (orbit/day)",
                "value": "mean",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "mean": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 280,
        "y": 540,
        "wires": [
            [
                "a04bcf9dad605921"
            ]
        ]
    },
    {
        "id": "e553d56e1c2f4824",
        "type": "ui_text",
        "z": "4ddfcb5d4ffd885f",
        "group": "c3df4221bc39e72d",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "SMA (km)",
        "label": "Semi major axis (km)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 760,
        "y": 620,
        "wires": []
    },
    {
        "id": "a04bcf9dad605921",
        "type": "function",
        "z": "4ddfcb5d4ffd885f",
        "name": "formula",
        "func": " //From the GS\n\nvar mean = msg.payload.mean\n\nvar t;\nt = 86400/mean\n\nmsg.payload = Math.round((t*t*398600/(4*Math.PI*Math.PI))**(1/3))\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 540,
        "wires": [
            [
                "6830a5c9e7fcfcff",
                "e553d56e1c2f4824"
            ]
        ]
    },
    {
        "id": "6830a5c9e7fcfcff",
        "type": "debug",
        "z": "4ddfcb5d4ffd885f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 540,
        "wires": []
    },
    {
        "id": "744e8e51f18b2f2a",
        "type": "ui_form",
        "z": "4ddfcb5d4ffd885f",
        "name": "",
        "label": "Semi major axis Form",
        "group": "c3df4221bc39e72d",
        "order": 3,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "Semi major axis (km)",
                "value": "SMA",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "SMA": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 280,
        "y": 720,
        "wires": [
            [
                "db0a8180de3d055d"
            ]
        ]
    },
    {
        "id": "da8610c96e96ee64",
        "type": "ui_text",
        "z": "4ddfcb5d4ffd885f",
        "group": "c3df4221bc39e72d",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "N (orbits/day)",
        "label": "Mean movement (orbits/day)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 780,
        "y": 800,
        "wires": []
    },
    {
        "id": "db0a8180de3d055d",
        "type": "function",
        "z": "4ddfcb5d4ffd885f",
        "name": "formula",
        "func": " //From the GS\n\nvar sma = msg.payload.SMA\nvar t;\n\nt = (sma*sma*sma*4*Math.PI*Math.PI/398600)**(1/2)\n\nmsg.payload = 86400/t\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 720,
        "wires": [
            [
                "a0a5b0f5b87c588f",
                "da8610c96e96ee64"
            ]
        ]
    },
    {
        "id": "a0a5b0f5b87c588f",
        "type": "debug",
        "z": "4ddfcb5d4ffd885f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 720,
        "wires": []
    }
]